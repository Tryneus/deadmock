var fc=Object.defineProperty;var mc=(e,t,n)=>t in e?fc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var v=(e,t,n)=>mc(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var It,O,To,Fe,$r,jo,hi,Ii,fi,mi,Bo,Pt={},Io=[],_c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,$n=Array.isArray;function Re(e,t){for(var n in t)e[n]=t[n];return e}function Lo(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Ce(e,t,n){var i,r,o,a={};for(o in t)o=="key"?i=t[o]:o=="ref"?r=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?It.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)a[o]===void 0&&(a[o]=e.defaultProps[o]);return Ct(e,a,i,r,null)}function Ct(e,t,n,i,r){var o={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++To,__i:-1,__u:0};return r==null&&O.vnode!=null&&O.vnode(o),o}function Ho(){return{current:null}}function U(e){return e.children}function ue(e,t){this.props=e,this.context=t}function ut(e,t){if(t==null)return e.__?ut(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?ut(e):null}function Vo(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Vo(e)}}function _i(e){(!e.__d&&(e.__d=!0)&&Fe.push(e)&&!fn.__r++||$r!==O.debounceRendering)&&(($r=O.debounceRendering)||jo)(fn)}function fn(){var e,t,n,i,r,o,a,c;for(Fe.sort(hi);e=Fe.shift();)e.__d&&(t=Fe.length,i=void 0,o=(r=(n=e).__v).__e,a=[],c=[],n.__P&&((i=Re({},r)).__v=r.__v+1,O.vnode&&O.vnode(i),Li(n.__P,i,r,n.__n,n.__P.namespaceURI,32&r.__u?[o]:null,a,o??ut(r),!!(32&r.__u),c),i.__v=r.__v,i.__.__k[i.__i]=i,zo(a,i,c),i.__e!=o&&Vo(i)),Fe.length>t&&Fe.sort(hi));fn.__r=0}function Fo(e,t,n,i,r,o,a,c,l,u,h){var d,f,m,x,j,w=i&&i.__k||Io,S=t.length;for(n.__d=l,pc(n,t,w),l=n.__d,d=0;d<S;d++)(m=n.__k[d])!=null&&(f=m.__i===-1?Pt:w[m.__i]||Pt,m.__i=d,Li(e,m,f,r,o,a,c,l,u,h),x=m.__e,m.ref&&f.ref!=m.ref&&(f.ref&&Hi(f.ref,null,m),h.push(m.ref,m.__c||x,m)),j==null&&x!=null&&(j=x),65536&m.__u||f.__k===m.__k?l=Uo(m,l,e):typeof m.type=="function"&&m.__d!==void 0?l=m.__d:x&&(l=x.nextSibling),m.__d=void 0,m.__u&=-196609);n.__d=l,n.__e=j}function pc(e,t,n){var i,r,o,a,c,l=t.length,u=n.length,h=u,d=0;for(e.__k=[],i=0;i<l;i++)(r=t[i])!=null&&typeof r!="boolean"&&typeof r!="function"?(a=i+d,(r=e.__k[i]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?Ct(null,r,null,null,null):$n(r)?Ct(U,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?Ct(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=e,r.__b=e.__b+1,o=null,(c=r.__i=gc(r,n,a,h))!==-1&&(h--,(o=n[c])&&(o.__u|=131072)),o==null||o.__v===null?(c==-1&&d--,typeof r.type!="function"&&(r.__u|=65536)):c!==a&&(c==a-1?d--:c==a+1?d++:(c>a?d--:d++,r.__u|=65536))):r=e.__k[i]=null;if(h)for(i=0;i<u;i++)(o=n[i])!=null&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=ut(o)),Wo(o,o))}function Uo(e,t,n){var i,r;if(typeof e.type=="function"){for(i=e.__k,r=0;i&&r<i.length;r++)i[r]&&(i[r].__=e,t=Uo(i[r],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=ut(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function de(e,t){return t=t||[],e==null||typeof e=="boolean"||($n(e)?e.some(function(n){de(n,t)}):t.push(e)),t}function gc(e,t,n,i){var r=e.key,o=e.type,a=n-1,c=n+1,l=t[n];if(l===null||l&&r==l.key&&o===l.type&&!(131072&l.__u))return n;if(i>(l!=null&&!(131072&l.__u)?1:0))for(;a>=0||c<t.length;){if(a>=0){if((l=t[a])&&!(131072&l.__u)&&r==l.key&&o===l.type)return a;a--}if(c<t.length){if((l=t[c])&&!(131072&l.__u)&&r==l.key&&o===l.type)return c;c++}}return-1}function Pr(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||_c.test(t)?n:n+"px"}function Qt(e,t,n,i,r){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||Pr(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||Pr(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?i?n.u=i.u:(n.u=Ii,e.addEventListener(t,o?mi:fi,o)):e.removeEventListener(t,o?mi:fi,o);else{if(r=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function Nr(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=Ii++;else if(t.t<n.u)return;return n(O.event?O.event(t):t)}}}function Li(e,t,n,i,r,o,a,c,l,u){var h,d,f,m,x,j,w,S,C,I,V,N,z,X,_,P,E=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),o=[c=t.__e=n.__e]),(h=O.__b)&&h(t);e:if(typeof E=="function")try{if(S=t.props,C="prototype"in E&&E.prototype.render,I=(h=E.contextType)&&i[h.__c],V=h?I?I.props.value:h.__:i,n.__c?w=(d=t.__c=n.__c).__=d.__E:(C?t.__c=d=new E(S,V):(t.__c=d=new ue(S,V),d.constructor=E,d.render=yc),I&&I.sub(d),d.props=S,d.state||(d.state={}),d.context=V,d.__n=i,f=d.__d=!0,d.__h=[],d._sb=[]),C&&d.__s==null&&(d.__s=d.state),C&&E.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=Re({},d.__s)),Re(d.__s,E.getDerivedStateFromProps(S,d.__s))),m=d.props,x=d.state,d.__v=t,f)C&&E.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),C&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(C&&E.getDerivedStateFromProps==null&&S!==m&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(S,V),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(S,d.__s,V)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(d.props=S,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(Z){Z&&(Z.__=t)}),N=0;N<d._sb.length;N++)d.__h.push(d._sb[N]);d._sb=[],d.__h.length&&a.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(S,d.__s,V),C&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(m,x,j)})}if(d.context=V,d.props=S,d.__P=e,d.__e=!1,z=O.__r,X=0,C){for(d.state=d.__s,d.__d=!1,z&&z(t),h=d.render(d.props,d.state,d.context),_=0;_<d._sb.length;_++)d.__h.push(d._sb[_]);d._sb=[]}else do d.__d=!1,z&&z(t),h=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++X<25);d.state=d.__s,d.getChildContext!=null&&(i=Re(Re({},i),d.getChildContext())),C&&!f&&d.getSnapshotBeforeUpdate!=null&&(j=d.getSnapshotBeforeUpdate(m,x)),Fo(e,$n(P=h!=null&&h.type===U&&h.key==null?h.props.children:h)?P:[P],t,n,i,r,o,a,c,l,u),d.base=t.__e,t.__u&=-161,d.__h.length&&a.push(d),w&&(d.__E=d.__=null)}catch(Z){if(t.__v=null,l||o!=null){for(t.__u|=l?160:128;c&&c.nodeType===8&&c.nextSibling;)c=c.nextSibling;o[o.indexOf(c)]=null,t.__e=c}else t.__e=n.__e,t.__k=n.__k;O.__e(Z,t,n)}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=vc(n.__e,t,n,i,r,o,a,l,u);(h=O.diffed)&&h(t)}function zo(e,t,n){t.__d=void 0;for(var i=0;i<n.length;i++)Hi(n[i],n[++i],n[++i]);O.__c&&O.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(o){o.call(r)})}catch(o){O.__e(o,r.__v)}})}function vc(e,t,n,i,r,o,a,c,l){var u,h,d,f,m,x,j,w=n.props,S=t.props,C=t.type;if(C==="svg"?r="http://www.w3.org/2000/svg":C==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),o!=null){for(u=0;u<o.length;u++)if((m=o[u])&&"setAttribute"in m==!!C&&(C?m.localName===C:m.nodeType===3)){e=m,o[u]=null;break}}if(e==null){if(C===null)return document.createTextNode(S);e=document.createElementNS(r,C,S.is&&S),c&&(O.__m&&O.__m(t,o),c=!1),o=null}if(C===null)w===S||c&&e.data===S||(e.data=S);else{if(o=o&&It.call(e.childNodes),w=n.props||Pt,!c&&o!=null)for(w={},u=0;u<e.attributes.length;u++)w[(m=e.attributes[u]).name]=m.value;for(u in w)if(m=w[u],u!="children"){if(u=="dangerouslySetInnerHTML")d=m;else if(!(u in S)){if(u=="value"&&"defaultValue"in S||u=="checked"&&"defaultChecked"in S)continue;Qt(e,u,null,m,r)}}for(u in S)m=S[u],u=="children"?f=m:u=="dangerouslySetInnerHTML"?h=m:u=="value"?x=m:u=="checked"?j=m:c&&typeof m!="function"||w[u]===m||Qt(e,u,m,w[u],r);if(h)c||d&&(h.__html===d.__html||h.__html===e.innerHTML)||(e.innerHTML=h.__html),t.__k=[];else if(d&&(e.innerHTML=""),Fo(e,$n(f)?f:[f],t,n,i,C==="foreignObject"?"http://www.w3.org/1999/xhtml":r,o,a,o?o[0]:n.__k&&ut(n,0),c,l),o!=null)for(u=o.length;u--;)Lo(o[u]);c||(u="value",C==="progress"&&x==null?e.removeAttribute("value"):x!==void 0&&(x!==e[u]||C==="progress"&&!x||C==="option"&&x!==w[u])&&Qt(e,u,x,w[u],r),u="checked",j!==void 0&&j!==e[u]&&Qt(e,u,j,w[u],r))}return e}function Hi(e,t,n){try{if(typeof e=="function"){var i=typeof e.__u=="function";i&&e.__u(),i&&t==null||(e.__u=e(t))}else e.current=t}catch(r){O.__e(r,n)}}function Wo(e,t,n){var i,r;if(O.unmount&&O.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||Hi(i,null,t)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){O.__e(o,t)}i.base=i.__P=null}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&Wo(i[r],t,n||typeof e.type!="function");n||Lo(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function yc(e,t,n){return this.constructor(e,n)}function dt(e,t,n){var i,r,o,a;O.__&&O.__(e,t),r=(i=typeof n=="function")?null:n&&n.__k||t.__k,o=[],a=[],Li(t,e=(!i&&n||t).__k=Ce(U,null,[e]),r||Pt,Pt,t.namespaceURI,!i&&n?[n]:r?null:t.firstChild?It.call(t.childNodes):null,o,!i&&n?n:r?r.__e:t.firstChild,i,a),zo(o,e,a)}function Go(e,t){dt(e,t,Go)}function Vi(e,t,n){var i,r,o,a,c=Re({},e.props);for(o in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)o=="key"?i=t[o]:o=="ref"?r=t[o]:c[o]=t[o]===void 0&&a!==void 0?a[o]:t[o];return arguments.length>2&&(c.children=arguments.length>3?It.call(arguments,2):n),Ct(e.type,c,i||e.key,r||e.ref,null)}function Pn(e,t){var n={__c:t="__cC"+Bo++,__:e,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,o;return this.getChildContext||(r=new Set,(o={})[t]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&r.forEach(function(c){c.__e=!0,_i(c)})},this.sub=function(a){r.add(a);var c=a.componentWillUnmount;a.componentWillUnmount=function(){r&&r.delete(a),c&&c.call(a)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}It=Io.slice,O={__e:function(e,t,n,i){for(var r,o,a;t=t.__;)if((r=t.__c)&&!r.__)try{if((o=r.constructor)&&o.getDerivedStateFromError!=null&&(r.setState(o.getDerivedStateFromError(e)),a=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,i||{}),a=r.__d),a)return r.__E=r}catch(c){e=c}throw e}},To=0,ue.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Re({},this.state),typeof e=="function"&&(e=e(Re({},n),this.props)),e&&Re(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),_i(this))},ue.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),_i(this))},ue.prototype.render=U,Fe=[],jo=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,hi=function(e,t){return e.__v.__b-t.__v.__b},fn.__r=0,Ii=0,fi=Nr(!1),mi=Nr(!0),Bo=0;var bc=0;function s(e,t,n,i,r,o){t||(t={});var a,c,l=t;"ref"in t&&(a=t.ref,delete t.ref);var u={type:e,props:l,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--bc,__i:-1,__u:0,__source:r,__self:o};if(typeof e=="function"&&(a=e.defaultProps))for(c in a)l[c]===void 0&&(l[c]=a[c]);return O.vnode&&O.vnode(u),u}var Ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Sc(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}),n}var qo={exports:{}};(function(e,t){(function(n,i){i()})(Ot,function(){function n(u,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function i(u,h,d){var f=new XMLHttpRequest;f.open("GET",u),f.responseType="blob",f.onload=function(){l(f.response,h,d)},f.onerror=function(){console.error("could not download file")},f.send()}function r(u){var h=new XMLHttpRequest;h.open("HEAD",u,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function o(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(h)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ot=="object"&&Ot.global===Ot?Ot:void 0,c=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(u,h,d){var f=a.URL||a.webkitURL,m=document.createElement("a");h=h||u.name||"download",m.download=h,m.rel="noopener",typeof u=="string"?(m.href=u,m.origin===location.origin?o(m):r(m.href)?i(u,h,d):o(m,m.target="_blank")):(m.href=f.createObjectURL(u),setTimeout(function(){f.revokeObjectURL(m.href)},4e4),setTimeout(function(){o(m)},0))}:"msSaveOrOpenBlob"in navigator?function(u,h,d){if(h=h||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,d),h);else if(r(u))i(u,h,d);else{var f=document.createElement("a");f.href=u,f.target="_blank",setTimeout(function(){o(f)})}}:function(u,h,d,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof u=="string")return i(u,h,d);var m=u.type==="application/octet-stream",x=/constructor/i.test(a.HTMLElement)||a.safari,j=/CriOS\/[\d]+/.test(navigator.userAgent);if((j||m&&x||c)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var I=w.result;I=j?I:I.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=I:location=I,f=null},w.readAsDataURL(u)}else{var S=a.URL||a.webkitURL,C=S.createObjectURL(u);f?f.location=C:location.href=C,f=null,setTimeout(function(){S.revokeObjectURL(C)},4e4)}});a.saveAs=l.saveAs=l,e.exports=l})})(qo);var kc=qo.exports;function Oc(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),i=n.createElement("base"),r=n.createElement("a");return n.head.appendChild(i),n.body.appendChild(r),t&&(i.href=t),r.href=e,r.href}const Ac=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function xe(e){const t=[];for(let n=0,i=e.length;n<i;n++)t.push(e[n]);return t}function mn(e,t){const i=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return i?parseFloat(i.replace("px","")):0}function Cc(e){const t=mn(e,"border-left-width"),n=mn(e,"border-right-width");return e.clientWidth+t+n}function Ec(e){const t=mn(e,"border-top-width"),n=mn(e,"border-bottom-width");return e.clientHeight+t+n}function Ko(e,t={}){const n=t.width||Cc(e),i=t.height||Ec(e);return{width:n,height:i}}function Dc(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const ee=16384;function Rc(e){(e.width>ee||e.height>ee)&&(e.width>ee&&e.height>ee?e.width>e.height?(e.height*=ee/e.width,e.width=ee):(e.width*=ee/e.height,e.height=ee):e.width>ee?(e.height*=ee/e.width,e.width=ee):(e.width*=ee/e.height,e.height=ee))}function xc(e,t={}){return e.toBlob?new Promise(n=>{e.toBlob(n,t.type?t.type:"image/png",t.quality?t.quality:1)}):new Promise(n=>{const i=window.atob(e.toDataURL(t.type?t.type:void 0,t.quality?t.quality:void 0).split(",")[1]),r=i.length,o=new Uint8Array(r);for(let a=0;a<r;a+=1)o[a]=i.charCodeAt(a);n(new Blob([o],{type:t.type?t.type:"image/png"}))})}function _n(e){return new Promise((t,n)=>{const i=new Image;i.decode=()=>t(i),i.onload=()=>t(i),i.onerror=n,i.crossOrigin="anonymous",i.decoding="async",i.src=e})}async function $c(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Pc(e,t,n){const i="http://www.w3.org/2000/svg",r=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return r.setAttribute("width",`${t}`),r.setAttribute("height",`${n}`),r.setAttribute("viewBox",`0 0 ${t} ${n}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),r.appendChild(o),o.appendChild(e),$c(r)}const Q=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||Q(n,t)};function Nc(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Mc(e){return xe(e).map(t=>{const n=e.getPropertyValue(t),i=e.getPropertyPriority(t);return`${t}: ${n}${i?" !important":""};`}).join(" ")}function Tc(e,t,n){const i=`.${e}:${t}`,r=n.cssText?Nc(n):Mc(n);return document.createTextNode(`${i}{${r}}`)}function Mr(e,t,n){const i=window.getComputedStyle(e,n),r=i.getPropertyValue("content");if(r===""||r==="none")return;const o=Ac();try{t.className=`${t.className} ${o}`}catch{return}const a=document.createElement("style");a.appendChild(Tc(o,n,i)),t.appendChild(a)}function jc(e,t){Mr(e,t,":before"),Mr(e,t,":after")}const Tr="application/font-woff",jr="image/jpeg",Bc={woff:Tr,woff2:Tr,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:jr,jpeg:jr,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Ic(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Fi(e){const t=Ic(e).toLowerCase();return Bc[t]||""}function Lc(e){return e.split(/,/)[1]}function pi(e){return e.search(/^(data:)/)!==-1}function Hc(e,t){return`data:${t};base64,${e}`}async function Yo(e,t,n){const i=await fetch(e,t);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);const r=await i.blob();return new Promise((o,a)=>{const c=new FileReader;c.onerror=a,c.onloadend=()=>{try{o(n({res:i,result:c.result}))}catch(l){a(l)}},c.readAsDataURL(r)})}const Xn={};function Vc(e,t,n){let i=e.replace(/\?.*/,"");return n&&(i=e),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),t?`[${t}]${i}`:i}async function Ui(e,t,n){const i=Vc(e,t,n.includeQueryParams);if(Xn[i]!=null)return Xn[i];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let r;try{const o=await Yo(e,n.fetchRequestInit,({res:a,result:c})=>(t||(t=a.headers.get("Content-Type")||""),Lc(c)));r=Hc(o,t)}catch(o){r=n.imagePlaceholder||"";let a=`Failed to fetch resource: ${e}`;o&&(a=typeof o=="string"?o:o.message),a&&console.warn(a)}return Xn[i]=r,r}async function Fc(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):_n(t)}async function Uc(e,t){if(e.currentSrc){const o=document.createElement("canvas"),a=o.getContext("2d");o.width=e.clientWidth,o.height=e.clientHeight,a==null||a.drawImage(e,0,0,o.width,o.height);const c=o.toDataURL();return _n(c)}const n=e.poster,i=Fi(n),r=await Ui(n,i,t);return _n(r)}async function zc(e){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await Nn(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function Wc(e,t){return Q(e,HTMLCanvasElement)?Fc(e):Q(e,HTMLVideoElement)?Uc(e,t):Q(e,HTMLIFrameElement)?zc(e):e.cloneNode(!1)}const Gc=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function qc(e,t,n){var i,r;let o=[];return Gc(e)&&e.assignedNodes?o=xe(e.assignedNodes()):Q(e,HTMLIFrameElement)&&(!((i=e.contentDocument)===null||i===void 0)&&i.body)?o=xe(e.contentDocument.body.childNodes):o=xe(((r=e.shadowRoot)!==null&&r!==void 0?r:e).childNodes),o.length===0||Q(e,HTMLVideoElement)||await o.reduce((a,c)=>a.then(()=>Nn(c,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function Kc(e,t){const n=t.style;if(!n)return;const i=window.getComputedStyle(e);i.cssText?(n.cssText=i.cssText,n.transformOrigin=i.transformOrigin):xe(i).forEach(r=>{let o=i.getPropertyValue(r);r==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),Q(e,HTMLIFrameElement)&&r==="display"&&o==="inline"&&(o="block"),r==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),n.setProperty(r,o,i.getPropertyPriority(r))})}function Yc(e,t){Q(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Q(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function Xc(e,t){if(Q(e,HTMLSelectElement)){const n=t,i=Array.from(n.children).find(r=>e.value===r.getAttribute("value"));i&&i.setAttribute("selected","")}}function Jc(e,t){return Q(t,Element)&&(Kc(e,t),jc(e,t),Yc(e,t),Xc(e,t)),t}async function Zc(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const i={};for(let o=0;o<n.length;o++){const c=n[o].getAttribute("xlink:href");if(c){const l=e.querySelector(c),u=document.querySelector(c);!l&&u&&!i[c]&&(i[c]=await Nn(u,t,!0))}}const r=Object.values(i);if(r.length){const o="http://www.w3.org/1999/xhtml",a=document.createElementNS(o,"svg");a.setAttribute("xmlns",o),a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.display="none";const c=document.createElementNS(o,"defs");a.appendChild(c);for(let l=0;l<r.length;l++)c.appendChild(r[l]);e.appendChild(a)}return e}async function Nn(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(i=>Wc(i,t)).then(i=>qc(e,i,t)).then(i=>Jc(e,i)).then(i=>Zc(i,t))}const Xo=/url\((['"]?)([^'"]+?)\1\)/g,Qc=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,el=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function tl(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function nl(e){const t=[];return e.replace(Xo,(n,i,r)=>(t.push(r),n)),t.filter(n=>!pi(n))}async function il(e,t,n,i,r){try{const o=n?Oc(t,n):t,a=Fi(t);let c;return r||(c=await Ui(o,a,i)),e.replace(tl(t),`$1${c}$3`)}catch{}return e}function rl(e,{preferredFontFormat:t}){return t?e.replace(el,n=>{for(;;){const[i,,r]=Qc.exec(n)||[];if(!r)return"";if(r===t)return`src: ${i};`}}):e}function Jo(e){return e.search(Xo)!==-1}async function Zo(e,t,n){if(!Jo(e))return e;const i=rl(e,n);return nl(i).reduce((o,a)=>o.then(c=>il(c,a,t,n)),Promise.resolve(i))}async function en(e,t,n){var i;const r=(i=t.style)===null||i===void 0?void 0:i.getPropertyValue(e);if(r){const o=await Zo(r,null,n);return t.style.setProperty(e,o,t.style.getPropertyPriority(e)),!0}return!1}async function ol(e,t){await en("background",e,t)||await en("background-image",e,t),await en("mask",e,t)||await en("mask-image",e,t)}async function al(e,t){const n=Q(e,HTMLImageElement);if(!(n&&!pi(e.src))&&!(Q(e,SVGImageElement)&&!pi(e.href.baseVal)))return;const i=n?e.src:e.href.baseVal,r=await Ui(i,Fi(i),t);await new Promise((o,a)=>{e.onload=o,e.onerror=a;const c=e;c.decode&&(c.decode=o),c.loading==="lazy"&&(c.loading="eager"),n?(e.srcset="",e.src=r):e.href.baseVal=r})}async function sl(e,t){const i=xe(e.childNodes).map(r=>Qo(r,t));await Promise.all(i).then(()=>e)}async function Qo(e,t){Q(e,Element)&&(await ol(e,t),await al(e,t),await sl(e,t))}function cl(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const i=t.style;return i!=null&&Object.keys(i).forEach(r=>{n[r]=i[r]}),e}const Br={};async function Ir(e){let t=Br[e];if(t!=null)return t;const i=await(await fetch(e)).text();return t={url:e,cssText:i},Br[e]=t,t}async function Lr(e,t){let n=e.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map(async a=>{let c=a.replace(i,"$1");return c.startsWith("https://")||(c=new URL(c,e.url).href),Yo(c,t.fetchRequestInit,({result:l})=>(n=n.replace(a,`url(${l})`),[a,l]))});return Promise.all(o).then(()=>n)}function Hr(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let i=e.replace(n,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=r.exec(i);if(l===null)break;t.push(l[0])}i=i.replace(r,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",c=new RegExp(a,"gi");for(;;){let l=o.exec(i);if(l===null){if(l=c.exec(i),l===null)break;o.lastIndex=c.lastIndex}else c.lastIndex=o.lastIndex;t.push(l[0])}return t}async function ll(e,t){const n=[],i=[];return e.forEach(r=>{if("cssRules"in r)try{xe(r.cssRules||[]).forEach((o,a)=>{if(o.type===CSSRule.IMPORT_RULE){let c=a+1;const l=o.href,u=Ir(l).then(h=>Lr(h,t)).then(h=>Hr(h).forEach(d=>{try{r.insertRule(d,d.startsWith("@import")?c+=1:r.cssRules.length)}catch(f){console.error("Error inserting rule from remote css",{rule:d,error:f})}})).catch(h=>{console.error("Error loading remote css",h.toString())});i.push(u)}})}catch(o){const a=e.find(c=>c.href==null)||document.styleSheets[0];r.href!=null&&i.push(Ir(r.href).then(c=>Lr(c,t)).then(c=>Hr(c).forEach(l=>{a.insertRule(l,r.cssRules.length)})).catch(c=>{console.error("Error loading remote stylesheet",c)})),console.error("Error inlining remote css file",o)}}),Promise.all(i).then(()=>(e.forEach(r=>{if("cssRules"in r)try{xe(r.cssRules||[]).forEach(o=>{n.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${r.href}`,o)}}),n))}function ul(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Jo(t.style.getPropertyValue("src")))}async function dl(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=xe(e.ownerDocument.styleSheets),i=await ll(n,t);return ul(i)}async function hl(e,t){const n=await dl(e,t);return(await Promise.all(n.map(r=>{const o=r.parentStyleSheet?r.parentStyleSheet.href:null;return Zo(r.cssText,o,t)}))).join(`
`)}async function fl(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await hl(e,t);if(n){const i=document.createElement("style"),r=document.createTextNode(n);i.appendChild(r),e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i)}}async function ml(e,t={}){const{width:n,height:i}=Ko(e,t),r=await Nn(e,t,!0);return await fl(r,t),await Qo(r,t),cl(r,t),await Pc(r,n,i)}async function ea(e,t={}){const{width:n,height:i}=Ko(e,t),r=await ml(e,t),o=await _n(r),a=document.createElement("canvas"),c=a.getContext("2d"),l=t.pixelRatio||Dc(),u=t.canvasWidth||n,h=t.canvasHeight||i;return a.width=u*l,a.height=h*l,t.skipAutoScale||Rc(a),a.style.width=`${u}`,a.style.height=`${h}`,t.backgroundColor&&(c.fillStyle=t.backgroundColor,c.fillRect(0,0,a.width,a.height)),c.drawImage(o,0,0,a.width,a.height),a}async function _l(e,t={}){return(await ea(e,t)).toDataURL()}async function pl(e,t={}){const n=await ea(e,t);return await xc(n)}function M(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var gl={};function Mn(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:gl}var ta=Object.assign,pn=Object.getOwnPropertyDescriptor,Se=Object.defineProperty,Tn=Object.prototype,gi=[];Object.freeze(gi);var na={};Object.freeze(na);var vl=typeof Proxy<"u",yl=Object.toString();function ia(){vl||M("Proxy not available")}function ra(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var st=function(){};function pe(e){return typeof e=="function"}function We(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function jn(e){return e!==null&&typeof e=="object"}function Ne(e){if(!jn(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===yl}function oa(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function Lt(e,t,n){Se(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function aa(e,t,n){Se(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Qe(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(i){return jn(i)&&i[n]===!0}}function vt(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function bl(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),i=Object.getPrototypeOf(n);return i===null}function Ee(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var sa=typeof Object.getOwnPropertySymbols<"u";function wl(e){var t=Object.keys(e);if(!sa)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(i){return Tn.propertyIsEnumerable.call(e,i)})):t}var ht=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:sa?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function ca(e){return e===null?null:typeof e=="object"?""+e:e}function $e(e,t){return Tn.hasOwnProperty.call(e,t)}var Sl=Object.getOwnPropertyDescriptors||function(t){var n={};return ht(t).forEach(function(i){n[i]=pn(t,i)}),n};function te(e,t){return!!(e&t)}function ne(e,t,n){return n?e|=t:e&=~t,e}function Vr(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function kl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Al(i.key),i)}}function yt(e,t,n){return t&&kl(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ct(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Cl(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ge.apply(null,arguments)}function la(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,vi(e,t)}function vi(e,t){return vi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vi(e,t)}function Ol(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Al(e){var t=Ol(e,"string");return typeof t=="symbol"?t:t+""}function Cl(e,t){if(e){if(typeof e=="string")return Vr(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vr(e,t):void 0}}var we=Symbol("mobx-stored-annotations");function ke(e){function t(n,i){if(Vt(i))return e.decorate_20223_(n,i);Ht(n,i,e)}return Object.assign(t,e)}function Ht(e,t,n){$e(e,we)||Lt(e,we,Ge({},e[we])),Tl(n)||(e[we][t]=n)}function El(e){return $e(e,we)||Lt(e,we,Ge({},e[we])),e[we]}function Vt(e){return typeof e=="object"&&typeof e.kind=="string"}var b=Symbol("mobx administration"),Ie=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=T.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},t.reportObserved=function(){return Ca(this)},t.reportChanged=function(){se(),Ea(this),ce()},t.toString=function(){return this.name_},yt(e,[{key:"isBeingObserved",get:function(){return te(this.flags_,e.isBeingObservedMask_)},set:function(i){this.flags_=ne(this.flags_,e.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return te(this.flags_,e.isPendingUnobservationMask_)},set:function(i){this.flags_=ne(this.flags_,e.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return te(this.flags_,e.diffValueMask_)?1:0},set:function(i){this.flags_=ne(this.flags_,e.diffValueMask_,i===1)}}])}();Ie.isBeingObservedMask_=1;Ie.isPendingUnobservationMask_=2;Ie.diffValueMask_=4;var zi=Qe("Atom",Ie);function ua(e,t,n){t===void 0&&(t=st),n===void 0&&(n=st);var i=new Ie(e);return t!==st&&Bu(i,t),n!==st&&Ma(i,n),i}function Dl(e,t){return e===t}function Rl(e,t){return Ji(e,t)}function xl(e,t){return Ji(e,t,1)}function $l(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var gn={identity:Dl,structural:Rl,default:$l,shallow:xl};function qe(e,t,n){return La(e)?e:Array.isArray(e)?q.array(e,{name:n}):Ne(e)?q.object(e,void 0,{name:n}):vt(e)?q.map(e,{name:n}):Ee(e)?q.set(e,{name:n}):typeof e=="function"&&!Mt(e)&&!Tt(e)?oa(e)?ft(e):Nt(n,e):e}function Pl(e,t,n){if(e==null||Fn(e)||Vn(e)||tt(e)||be(e))return e;if(Array.isArray(e))return q.array(e,{name:n,deep:!1});if(Ne(e))return q.object(e,void 0,{name:n,deep:!1});if(vt(e))return q.map(e,{name:n,deep:!1});if(Ee(e))return q.set(e,{name:n,deep:!1})}function Bn(e){return e}function Nl(e,t){return Ji(e,t)?t:e}var Ml="override";function Tl(e){return e.annotationType_===Ml}function Ft(e,t){return{annotationType_:e,options_:t,make_:jl,extend_:Bl,decorate_20223_:Il}}function jl(e,t,n,i){var r;if((r=this.options_)!=null&&r.bound)return this.extend_(e,t,n,!1)===null?0:1;if(i===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(Mt(n.value))return 1;var o=da(e,this,t,n,!1);return Se(i,t,o),2}function Bl(e,t,n,i){var r=da(e,this,t,n);return e.defineProperty_(t,r,i)}function Il(e,t){var n=t.kind,i=t.name,r=t.addInitializer,o=this,a=function(u){var h,d,f,m;return Ke((h=(d=o.options_)==null?void 0:d.name)!=null?h:i.toString(),u,(f=(m=o.options_)==null?void 0:m.autoAction)!=null?f:!1)};if(n=="field")return function(l){var u,h=l;return Mt(h)||(h=a(h)),(u=o.options_)!=null&&u.bound&&(h=h.bind(this),h.isMobxAction=!0),h};if(n=="method"){var c;return Mt(e)||(e=a(e)),(c=this.options_)!=null&&c.bound&&r(function(){var l=this,u=l[i].bind(l);u.isMobxAction=!0,l[i]=u}),e}M("Cannot apply '"+o.annotationType_+"' to '"+String(i)+"' (kind: "+n+"):"+(`
'`+o.annotationType_+"' can only be used on properties with a function value."))}function Ll(e,t,n,i){t.annotationType_,i.value}function da(e,t,n,i,r){var o,a,c,l,u,h,d;r===void 0&&(r=p.safeDescriptors),Ll(e,t,n,i);var f=i.value;if((o=t.options_)!=null&&o.bound){var m;f=f.bind((m=e.proxy_)!=null?m:e.target_)}return{value:Ke((a=(c=t.options_)==null?void 0:c.name)!=null?a:n.toString(),f,(l=(u=t.options_)==null?void 0:u.autoAction)!=null?l:!1,(h=t.options_)!=null&&h.bound?(d=e.proxy_)!=null?d:e.target_:void 0),configurable:r?e.isPlainObject_:!0,enumerable:!1,writable:!r}}function ha(e,t){return{annotationType_:e,options_:t,make_:Hl,extend_:Vl,decorate_20223_:Fl}}function Hl(e,t,n,i){var r;if(i===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((r=this.options_)!=null&&r.bound&&(!$e(e.target_,t)||!Tt(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(Tt(n.value))return 1;var o=fa(e,this,t,n,!1,!1);return Se(i,t,o),2}function Vl(e,t,n,i){var r,o=fa(e,this,t,n,(r=this.options_)==null?void 0:r.bound);return e.defineProperty_(t,o,i)}function Fl(e,t){var n,i=t.name,r=t.addInitializer;return Tt(e)||(e=ft(e)),(n=this.options_)!=null&&n.bound&&r(function(){var o=this,a=o[i].bind(o);a.isMobXFlow=!0,o[i]=a}),e}function Ul(e,t,n,i){t.annotationType_,i.value}function fa(e,t,n,i,r,o){o===void 0&&(o=p.safeDescriptors),Ul(e,t,n,i);var a=i.value;if(Tt(a)||(a=ft(a)),r){var c;a=a.bind((c=e.proxy_)!=null?c:e.target_),a.isMobXFlow=!0}return{value:a,configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function Wi(e,t){return{annotationType_:e,options_:t,make_:zl,extend_:Wl,decorate_20223_:Gl}}function zl(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function Wl(e,t,n,i){return ql(e,this,t,n),e.defineComputedProperty_(t,Ge({},this.options_,{get:n.get,set:n.set}),i)}function Gl(e,t){var n=this,i=t.name,r=t.addInitializer;return r(function(){var o=nt(this)[b],a=Ge({},n.options_,{get:e,context:this});a.name||(a.name="ObservableObject."+i.toString()),o.values_.set(i,new ge(a))}),function(){return this[b].getObservablePropValue_(i)}}function ql(e,t,n,i){t.annotationType_,i.get}function In(e,t){return{annotationType_:e,options_:t,make_:Kl,extend_:Yl,decorate_20223_:Xl}}function Kl(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function Yl(e,t,n,i){var r,o;return Jl(e,this),e.defineObservableProperty_(t,n.value,(r=(o=this.options_)==null?void 0:o.enhancer)!=null?r:qe,i)}function Xl(e,t){var n=this,i=t.kind,r=t.name,o=new WeakSet;function a(c,l){var u,h,d=nt(c)[b],f=new ze(l,(u=(h=n.options_)==null?void 0:h.enhancer)!=null?u:qe,"ObservableObject."+r.toString(),!1);d.values_.set(r,f),o.add(c)}if(i=="accessor")return{get:function(){return o.has(this)||a(this,e.get.call(this)),this[b].getObservablePropValue_(r)},set:function(l){return o.has(this)||a(this,l),this[b].setObservablePropValue_(r,l)},init:function(l){return o.has(this)||a(this,l),l}}}function Jl(e,t,n,i){t.annotationType_}var Zl="true",Ql=ma();function ma(e){return{annotationType_:Zl,options_:e,make_:eu,extend_:tu,decorate_20223_:nu}}function eu(e,t,n,i){var r,o;if(n.get)return Ln.make_(e,t,n,i);if(n.set){var a=Ke(t.toString(),n.set);return i===e.target_?e.defineProperty_(t,{configurable:p.safeDescriptors?e.isPlainObject_:!0,set:a})===null?0:2:(Se(i,t,{configurable:!0,set:a}),2)}if(i!==e.target_&&typeof n.value=="function"){var c;if(oa(n.value)){var l,u=(l=this.options_)!=null&&l.autoBind?ft.bound:ft;return u.make_(e,t,n,i)}var h=(c=this.options_)!=null&&c.autoBind?Nt.bound:Nt;return h.make_(e,t,n,i)}var d=((r=this.options_)==null?void 0:r.deep)===!1?q.ref:q;if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var f;n.value=n.value.bind((f=e.proxy_)!=null?f:e.target_)}return d.make_(e,t,n,i)}function tu(e,t,n,i){var r,o;if(n.get)return Ln.extend_(e,t,n,i);if(n.set)return e.defineProperty_(t,{configurable:p.safeDescriptors?e.isPlainObject_:!0,set:Ke(t.toString(),n.set)},i);if(typeof n.value=="function"&&(r=this.options_)!=null&&r.autoBind){var a;n.value=n.value.bind((a=e.proxy_)!=null?a:e.target_)}var c=((o=this.options_)==null?void 0:o.deep)===!1?q.ref:q;return c.extend_(e,t,n,i)}function nu(e,t){M("'"+this.annotationType_+"' cannot be used as a decorator")}var iu="observable",ru="observable.ref",ou="observable.shallow",au="observable.struct",_a={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(_a);function tn(e){return e||_a}var yi=In(iu),su=In(ru,{enhancer:Bn}),cu=In(ou,{enhancer:Pl}),lu=In(au,{enhancer:Nl}),pa=ke(yi);function nn(e){return e.deep===!0?qe:e.deep===!1?Bn:du(e.defaultDecorator)}function uu(e){var t;return e?(t=e.defaultDecorator)!=null?t:ma(e):void 0}function du(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:qe}function ga(e,t,n){if(Vt(t))return yi.decorate_20223_(e,t);if(We(t)){Ht(e,t,yi);return}return La(e)?e:Ne(e)?q.object(e,t,n):Array.isArray(e)?q.array(e,t):vt(e)?q.map(e,t):Ee(e)?q.set(e,t):typeof e=="object"&&e!==null?e:q.box(e,t)}ta(ga,pa);var hu={box:function(t,n){var i=tn(n);return new ze(t,nn(i),i.name,!0,i.equals)},array:function(t,n){var i=tn(n);return(p.useProxies===!1||i.proxy===!1?sd:Ju)(t,nn(i),i.name)},map:function(t,n){var i=tn(n);return new Va(t,nn(i),i.name)},set:function(t,n){var i=tn(n);return new Fa(t,nn(i),i.name)},object:function(t,n,i){return Le(function(){return ja(p.useProxies===!1||(i==null?void 0:i.proxy)===!1?nt({},i):qu({},i),t,n)})},ref:ke(su),shallow:ke(cu),deep:pa,struct:ke(lu)},q=ta(ga,hu),va="computed",fu="computed.struct",bi=Wi(va),mu=Wi(fu,{equals:gn.structural}),Ln=function(t,n){if(Vt(n))return bi.decorate_20223_(t,n);if(We(n))return Ht(t,n,bi);if(Ne(t))return ke(Wi(va,t));var i=Ne(n)?n:{};return i.get=t,i.name||(i.name=t.name||""),new ge(i)};Object.assign(Ln,bi);Ln.struct=ke(mu);var Fr,Ur,vn=0,_u=1,pu=(Fr=(Ur=pn(function(){},"name"))==null?void 0:Ur.configurable)!=null?Fr:!1,zr={value:"action",configurable:!0,writable:!1,enumerable:!1};function Ke(e,t,n,i){n===void 0&&(n=!1);function r(){return ya(e,n,t,i||this,arguments)}return r.isMobxAction=!0,r.toString=function(){return t.toString()},pu&&(zr.value=e,Se(r,"name",zr)),r}function ya(e,t,n,i,r){var o=gu(e,t);try{return n.apply(i,r)}catch(a){throw o.error_=a,a}finally{vu(o)}}function gu(e,t,n,i){var r=!1,o=0,a=p.trackingDerivation,c=!t||!a;se();var l=p.allowStateChanges;c&&(et(),l=Gi(!0));var u=Ki(!0),h={runAsAction_:c,prevDerivation_:a,prevAllowStateChanges_:l,prevAllowStateReads_:u,notifySpy_:r,startTime_:o,actionId_:_u++,parentActionId_:vn};return vn=h.actionId_,h}function vu(e){vn!==e.actionId_&&M(30),vn=e.parentActionId_,e.error_!==void 0&&(p.suppressReactionErrors=!0),qi(e.prevAllowStateChanges_),Et(e.prevAllowStateReads_),ce(),e.runAsAction_&&Pe(e.prevDerivation_),p.suppressReactionErrors=!1}function Gi(e){var t=p.allowStateChanges;return p.allowStateChanges=e,t}function qi(e){p.allowStateChanges=e}var ze=function(e){function t(i,r,o,a,c){var l;return o===void 0&&(o="ObservableValue"),c===void 0&&(c=gn.default),l=e.call(this,o)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=r,l.name_=o,l.equals=c,l.value_=r(i,void 0,o),l}la(t,e);var n=t.prototype;return n.dehanceValue=function(r){return this.dehancer!==void 0?this.dehancer(r):r},n.set=function(r){this.value_,r=this.prepareNewValue_(r),r!==p.UNCHANGED&&this.setNewValue_(r)},n.prepareNewValue_=function(r){if(oe(this)){var o=ae(this,{object:this,type:Oe,newValue:r});if(!o)return p.UNCHANGED;r=o.newValue}return r=this.enhancer(r,this.value_,this.name_),this.equals(this.value_,r)?p.UNCHANGED:r},n.setNewValue_=function(r){var o=this.value_;this.value_=r,this.reportChanged(),he(this)&&fe(this,{type:Oe,object:this,newValue:r,oldValue:o})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(r){return Ut(this,r)},n.observe_=function(r,o){return o&&r({observableKind:"value",debugObjectName:this.name_,object:this,type:Oe,newValue:this.value_,oldValue:void 0}),zt(this,r)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return ca(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(Ie),ge=function(){function e(n){this.dependenciesState_=T.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=T.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new bn(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=yn.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||M(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Ke("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?gn.structural:gn.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){ku(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},t.get=function(){if(this.isComputing&&M(32,this.name_,this.derivation),p.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)wi(this)&&(this.warnAboutUntrackedRead_(),se(),this.value_=this.computeValue_(!1),ce());else if(Ca(this),wi(this)){var i=p.trackingContext;this.keepAlive_&&!i&&(p.trackingContext=this),this.trackAndCompute()&&Su(this),p.trackingContext=i}var r=this.value_;if(an(r))throw r.cause;return r},t.set=function(i){if(this.setter_){this.isRunningSetter&&M(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,i)}finally{this.isRunningSetter=!1}}else M(34,this.name_)},t.trackAndCompute=function(){var i=this.value_,r=this.dependenciesState_===T.NOT_TRACKING_,o=this.computeValue_(!0),a=r||an(i)||an(o)||!this.equals_(i,o);return a&&(this.value_=o),a},t.computeValue_=function(i){this.isComputing=!0;var r=Gi(!1),o;if(i)o=ba(this,this.derivation,this.scope_);else if(p.disableErrorBoundaries===!0)o=this.derivation.call(this.scope_);else try{o=this.derivation.call(this.scope_)}catch(a){o=new bn(a)}return qi(r),this.isComputing=!1,o},t.suspend_=function(){this.keepAlive_||(Si(this),this.value_=void 0)},t.observe_=function(i,r){var o=this,a=!0,c=void 0;return Na(function(){var l=o.get();if(!a||r){var u=et();i({observableKind:"computed",debugObjectName:o.name_,type:Oe,object:o,newValue:l,oldValue:c}),Pe(u)}a=!1,c=l})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return ca(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},yt(e,[{key:"isComputing",get:function(){return te(this.flags_,e.isComputingMask_)},set:function(i){this.flags_=ne(this.flags_,e.isComputingMask_,i)}},{key:"isRunningSetter",get:function(){return te(this.flags_,e.isRunningSetterMask_)},set:function(i){this.flags_=ne(this.flags_,e.isRunningSetterMask_,i)}},{key:"isBeingObserved",get:function(){return te(this.flags_,e.isBeingObservedMask_)},set:function(i){this.flags_=ne(this.flags_,e.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return te(this.flags_,e.isPendingUnobservationMask_)},set:function(i){this.flags_=ne(this.flags_,e.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return te(this.flags_,e.diffValueMask_)?1:0},set:function(i){this.flags_=ne(this.flags_,e.diffValueMask_,i===1)}}])}();ge.isComputingMask_=1;ge.isRunningSetterMask_=2;ge.isBeingObservedMask_=4;ge.isPendingUnobservationMask_=8;ge.diffValueMask_=16;var Hn=Qe("ComputedValue",ge),T;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(T||(T={}));var yn;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(yn||(yn={}));var bn=function(t){this.cause=void 0,this.cause=t};function an(e){return e instanceof bn}function wi(e){switch(e.dependenciesState_){case T.UP_TO_DATE_:return!1;case T.NOT_TRACKING_:case T.STALE_:return!0;case T.POSSIBLY_STALE_:{for(var t=Ki(!0),n=et(),i=e.observing_,r=i.length,o=0;o<r;o++){var a=i[o];if(Hn(a)){if(p.disableErrorBoundaries)a.get();else try{a.get()}catch{return Pe(n),Et(t),!0}if(e.dependenciesState_===T.STALE_)return Pe(n),Et(t),!0}}return Sa(e),Pe(n),Et(t),!1}}}function ba(e,t,n){var i=Ki(!0);Sa(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++p.runId;var r=p.trackingDerivation;p.trackingDerivation=e,p.inBatch++;var o;if(p.disableErrorBoundaries===!0)o=t.call(n);else try{o=t.call(n)}catch(a){o=new bn(a)}return p.inBatch--,p.trackingDerivation=r,yu(e),Et(i),o}function yu(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,i=T.UP_TO_DATE_,r=0,o=e.unboundDepsCount_,a=0;a<o;a++){var c=n[a];c.diffValue===0&&(c.diffValue=1,r!==a&&(n[r]=c),r++),c.dependenciesState_>i&&(i=c.dependenciesState_)}for(n.length=r,e.newObserving_=null,o=t.length;o--;){var l=t[o];l.diffValue===0&&Oa(l,e),l.diffValue=0}for(;r--;){var u=n[r];u.diffValue===1&&(u.diffValue=0,wu(u,e))}i!==T.UP_TO_DATE_&&(e.dependenciesState_=i,e.onBecomeStale_())}function Si(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Oa(t[n],e);e.dependenciesState_=T.NOT_TRACKING_}function wa(e){var t=et();try{return e()}finally{Pe(t)}}function et(){var e=p.trackingDerivation;return p.trackingDerivation=null,e}function Pe(e){p.trackingDerivation=e}function Ki(e){var t=p.allowStateReads;return p.allowStateReads=e,t}function Et(e){p.allowStateReads=e}function Sa(e){if(e.dependenciesState_!==T.UP_TO_DATE_){e.dependenciesState_=T.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=T.UP_TO_DATE_}}var sn=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},cn=!0,ka=!1,p=function(){var e=Mn();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(cn=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new sn().version&&(cn=!1),cn?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new sn):(setTimeout(function(){ka||M(35)},1),new sn)}();function bu(){if((p.pendingReactions.length||p.inBatch||p.isRunningReactions)&&M(36),ka=!0,cn){var e=Mn();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),p=new sn}}function wu(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Oa(e,t){e.observers_.delete(t),e.observers_.size===0&&Aa(e)}function Aa(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,p.pendingUnobservations.push(e))}function se(){p.inBatch++}function ce(){if(--p.inBatch===0){Da();for(var e=p.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof ge&&n.suspend_())}p.pendingUnobservations=[]}}function Ca(e){var t=p.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&p.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&p.inBatch>0&&Aa(e),!1)}function Ea(e){e.lowestObserverState_!==T.STALE_&&(e.lowestObserverState_=T.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===T.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=T.STALE_}))}function Su(e){e.lowestObserverState_!==T.STALE_&&(e.lowestObserverState_=T.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===T.POSSIBLY_STALE_?t.dependenciesState_=T.STALE_:t.dependenciesState_===T.UP_TO_DATE_&&(e.lowestObserverState_=T.UP_TO_DATE_)}))}function ku(e){e.lowestObserverState_===T.UP_TO_DATE_&&(e.lowestObserverState_=T.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===T.UP_TO_DATE_&&(t.dependenciesState_=T.POSSIBLY_STALE_,t.onBecomeStale_())}))}var Me=function(){function e(n,i,r,o){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=T.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=yn.NONE,this.name_=n,this.onInvalidate_=i,this.errorHandler_=r,this.requiresObservable_=o}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,p.pendingReactions.push(this),Da())},t.runReaction_=function(){if(!this.isDisposed){se(),this.isScheduled=!1;var i=p.trackingContext;if(p.trackingContext=this,wi(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(r){this.reportExceptionInDerivation_(r)}}p.trackingContext=i,ce()}},t.track=function(i){if(!this.isDisposed){se(),this.isRunning=!0;var r=p.trackingContext;p.trackingContext=this;var o=ba(this,i,void 0);p.trackingContext=r,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Si(this),an(o)&&this.reportExceptionInDerivation_(o.cause),ce()}},t.reportExceptionInDerivation_=function(i){var r=this;if(this.errorHandler_){this.errorHandler_(i,this);return}if(p.disableErrorBoundaries)throw i;var o="[mobx] uncaught error in '"+this+"'";p.suppressReactionErrors||console.error(o,i),p.globalReactionErrorHandlers.forEach(function(a){return a(i,r)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(se(),Si(this),ce()))},t.getDisposer_=function(i){var r=this,o=function a(){r.dispose(),i==null||i.removeEventListener==null||i.removeEventListener("abort",a)};return i==null||i.addEventListener==null||i.addEventListener("abort",o),o[b]=this,o},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(i){},yt(e,[{key:"isDisposed",get:function(){return te(this.flags_,e.isDisposedMask_)},set:function(i){this.flags_=ne(this.flags_,e.isDisposedMask_,i)}},{key:"isScheduled",get:function(){return te(this.flags_,e.isScheduledMask_)},set:function(i){this.flags_=ne(this.flags_,e.isScheduledMask_,i)}},{key:"isTrackPending",get:function(){return te(this.flags_,e.isTrackPendingMask_)},set:function(i){this.flags_=ne(this.flags_,e.isTrackPendingMask_,i)}},{key:"isRunning",get:function(){return te(this.flags_,e.isRunningMask_)},set:function(i){this.flags_=ne(this.flags_,e.isRunningMask_,i)}},{key:"diffValue",get:function(){return te(this.flags_,e.diffValueMask_)?1:0},set:function(i){this.flags_=ne(this.flags_,e.diffValueMask_,i===1)}}])}();Me.isDisposedMask_=1;Me.isScheduledMask_=2;Me.isTrackPendingMask_=4;Me.isRunningMask_=8;Me.diffValueMask_=16;var Ou=100,ki=function(t){return t()};function Da(){p.inBatch>0||p.isRunningReactions||ki(Au)}function Au(){p.isRunningReactions=!0;for(var e=p.pendingReactions,t=0;e.length>0;){++t===Ou&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),i=0,r=n.length;i<r;i++)n[i].runReaction_()}p.isRunningReactions=!1}var wn=Qe("Reaction",Me);function Cu(e){var t=ki;ki=function(i){return e(function(){return t(i)})}}function Dt(){return!1}function Eu(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var Ra="action",Du="action.bound",xa="autoAction",Ru="autoAction.bound",$a="<unnamed action>",Oi=Ft(Ra),xu=Ft(Du,{bound:!0}),Ai=Ft(xa,{autoAction:!0}),$u=Ft(Ru,{autoAction:!0,bound:!0});function Pa(e){var t=function(i,r){if(pe(i))return Ke(i.name||$a,i,e);if(pe(r))return Ke(i,r,e);if(Vt(r))return(e?Ai:Oi).decorate_20223_(i,r);if(We(r))return Ht(i,r,e?Ai:Oi);if(We(i))return ke(Ft(e?xa:Ra,{name:i,autoAction:e}))};return t}var Ue=Pa(!1);Object.assign(Ue,Oi);var Nt=Pa(!0);Object.assign(Nt,Ai);Ue.bound=ke(xu);Nt.bound=ke($u);function Pu(e){return ya(e.name||$a,!1,e,this,void 0)}function Mt(e){return pe(e)&&e.isMobxAction===!0}function Na(e,t){var n,i,r,o;t===void 0&&(t=na);var a=(n=(i=t)==null?void 0:i.name)!=null?n:"Autorun",c=!t.scheduler&&!t.delay,l;if(c)l=new Me(a,function(){this.track(d)},t.onError,t.requiresObservable);else{var u=Mu(t),h=!1;l=new Me(a,function(){h||(h=!0,u(function(){h=!1,l.isDisposed||l.track(d)}))},t.onError,t.requiresObservable)}function d(){e(l)}return(r=t)!=null&&(r=r.signal)!=null&&r.aborted||l.schedule_(),l.getDisposer_((o=t)==null?void 0:o.signal)}var Nu=function(t){return t()};function Mu(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Nu}var Tu="onBO",ju="onBUO";function Bu(e,t,n){return Ta(Tu,e,t,n)}function Ma(e,t,n){return Ta(ju,e,t,n)}function Ta(e,t,n,i){var r=On(t),o=pe(i)?i:n,a=e+"L";return r[a]?r[a].add(o):r[a]=new Set([o]),function(){var c=r[a];c&&(c.delete(o),c.size===0&&delete r[a])}}var Iu="never",rn="always",Lu="observed";function Hu(e){e.isolateGlobalState===!0&&bu();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(p.useProxies=t===rn?!0:t===Iu?!1:typeof Proxy<"u"),t==="ifavailable"&&(p.verifyProxies=!0),n!==void 0){var i=n===rn?rn:n===Lu;p.enforceActions=i,p.allowStateChanges=!(i===!0||i===rn)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(r){r in e&&(p[r]=!!e[r])}),p.allowStateReads=!p.observableRequiresReaction,e.reactionScheduler&&Cu(e.reactionScheduler)}function ja(e,t,n,i){var r=Sl(t);return Le(function(){var o=nt(e,i)[b];ht(r).forEach(function(a){o.extend_(a,r[a],n&&a in n?n[a]:!0)})}),e}function Vu(e,t){return Ba(On(e,t))}function Ba(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=Fu(e.observing_).map(Ba)),t}function Fu(e){return Array.from(new Set(e))}var Uu=0;function Ia(){this.message="FLOW_CANCELLED"}Ia.prototype=Object.create(Error.prototype);var Jn=ha("flow"),zu=ha("flow.bound",{bound:!0}),ft=Object.assign(function(t,n){if(Vt(n))return Jn.decorate_20223_(t,n);if(We(n))return Ht(t,n,Jn);var i=t,r=i.name||"<unnamed flow>",o=function(){var c=this,l=arguments,u=++Uu,h=Ue(r+" - runid: "+u+" - init",i).apply(c,l),d,f=void 0,m=new Promise(function(x,j){var w=0;d=j;function S(V){f=void 0;var N;try{N=Ue(r+" - runid: "+u+" - yield "+w++,h.next).call(h,V)}catch(z){return j(z)}I(N)}function C(V){f=void 0;var N;try{N=Ue(r+" - runid: "+u+" - yield "+w++,h.throw).call(h,V)}catch(z){return j(z)}I(N)}function I(V){if(pe(V==null?void 0:V.then)){V.then(I,j);return}return V.done?x(V.value):(f=Promise.resolve(V.value),f.then(S,C))}S(void 0)});return m.cancel=Ue(r+" - runid: "+u+" - cancel",function(){try{f&&Wr(f);var x=h.return(void 0),j=Promise.resolve(x.value);j.then(st,st),Wr(j),d(new Ia)}catch(w){d(w)}}),m};return o.isMobXFlow=!0,o},Jn);ft.bound=ke(zu);function Wr(e){pe(e.cancel)&&e.cancel()}function Tt(e){return(e==null?void 0:e.isMobXFlow)===!0}function Wu(e,t){return e?Fn(e)||!!e[b]||zi(e)||wn(e)||Hn(e):!1}function La(e){return Wu(e)}function De(e,t){t===void 0&&(t=void 0),se();try{return e.apply(t)}finally{ce()}}function at(e){return e[b]}var Gu={has:function(t,n){return at(t).has_(n)},get:function(t,n){return at(t).get_(n)},set:function(t,n,i){var r;return We(n)?(r=at(t).set_(n,i,!0))!=null?r:!0:!1},deleteProperty:function(t,n){var i;return We(n)?(i=at(t).delete_(n,!0))!=null?i:!0:!1},defineProperty:function(t,n,i){var r;return(r=at(t).defineProperty_(n,i))!=null?r:!0},ownKeys:function(t){return at(t).ownKeys_()},preventExtensions:function(t){M(13)}};function qu(e,t){var n,i;return ia(),e=nt(e,t),(i=(n=e[b]).proxy_)!=null?i:n.proxy_=new Proxy(e,Gu)}function oe(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function Ut(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),ra(function(){var i=n.indexOf(t);i!==-1&&n.splice(i,1)})}function ae(e,t){var n=et();try{for(var i=[].concat(e.interceptors_||[]),r=0,o=i.length;r<o&&(t=i[r](t),t&&!t.type&&M(14),!!t);r++);return t}finally{Pe(n)}}function he(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function zt(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),ra(function(){var i=n.indexOf(t);i!==-1&&n.splice(i,1)})}function fe(e,t){var n=et(),i=e.changeListeners_;if(i){i=i.slice();for(var r=0,o=i.length;r<o;r++)i[r](t);Pe(n)}}function Ku(e,t,n){return Le(function(){var i,r=nt(e,n)[b];(i=t)!=null||(t=El(e)),ht(t).forEach(function(o){return r.make_(o,t[o])})}),e}var Zn=Symbol("mobx-keys");function le(e,t,n){return Ne(e)?ja(e,e,t,n):(Le(function(){var i=nt(e,n)[b];if(!e[Zn]){var r=Object.getPrototypeOf(e),o=new Set([].concat(ht(e),ht(r)));o.delete("constructor"),o.delete(b),Lt(r,Zn,o)}e[Zn].forEach(function(a){return i.make_(a,t&&a in t?t[a]:!0)})}),e)}var Gr="splice",Oe="update",Yu=1e4,Xu={get:function(t,n){var i=t[b];return n===b?i:n==="length"?i.getArrayLength_():typeof n=="string"&&!isNaN(n)?i.get_(parseInt(n)):$e(Sn,n)?Sn[n]:t[n]},set:function(t,n,i){var r=t[b];return n==="length"&&r.setArrayLength_(i),typeof n=="symbol"||isNaN(n)?t[n]=i:r.set_(parseInt(n),i),!0},preventExtensions:function(){M(15)}},Yi=function(){function e(n,i,r,o){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=r,this.legacyMode_=o,this.atom_=new Ie(n),this.enhancer_=function(a,c){return i(a,c,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},t.dehanceValues_=function(i){return this.dehancer!==void 0&&i.length>0?i.map(this.dehancer):i},t.intercept_=function(i){return Ut(this,i)},t.observe_=function(i,r){return r===void 0&&(r=!1),r&&i({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),zt(this,i)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(i){(typeof i!="number"||isNaN(i)||i<0)&&M("Out of range: "+i);var r=this.values_.length;if(i!==r)if(i>r){for(var o=new Array(i-r),a=0;a<i-r;a++)o[a]=void 0;this.spliceWithArray_(r,0,o)}else this.spliceWithArray_(i,r-i)},t.updateArrayLength_=function(i,r){i!==this.lastKnownLength_&&M(16),this.lastKnownLength_+=r,this.legacyMode_&&r>0&&Ga(i+r+1)},t.spliceWithArray_=function(i,r,o){var a=this;this.atom_;var c=this.values_.length;if(i===void 0?i=0:i>c?i=c:i<0&&(i=Math.max(0,c+i)),arguments.length===1?r=c-i:r==null?r=0:r=Math.max(0,Math.min(r,c-i)),o===void 0&&(o=gi),oe(this)){var l=ae(this,{object:this.proxy_,type:Gr,index:i,removedCount:r,added:o});if(!l)return gi;r=l.removedCount,o=l.added}if(o=o.length===0?o:o.map(function(d){return a.enhancer_(d,void 0)}),this.legacyMode_){var u=o.length-r;this.updateArrayLength_(c,u)}var h=this.spliceItemsIntoValues_(i,r,o);return(r!==0||o.length!==0)&&this.notifyArraySplice_(i,o,h),this.dehanceValues_(h)},t.spliceItemsIntoValues_=function(i,r,o){if(o.length<Yu){var a;return(a=this.values_).splice.apply(a,[i,r].concat(o))}else{var c=this.values_.slice(i,i+r),l=this.values_.slice(i+r);this.values_.length+=o.length-r;for(var u=0;u<o.length;u++)this.values_[i+u]=o[u];for(var h=0;h<l.length;h++)this.values_[i+o.length+h]=l[h];return c}},t.notifyArrayChildUpdate_=function(i,r,o){var a=!this.owned_&&Dt(),c=he(this),l=c||a?{observableKind:"array",object:this.proxy_,type:Oe,debugObjectName:this.atom_.name_,index:i,newValue:r,oldValue:o}:null;this.atom_.reportChanged(),c&&fe(this,l)},t.notifyArraySplice_=function(i,r,o){var a=!this.owned_&&Dt(),c=he(this),l=c||a?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Gr,index:i,removed:o,added:r,removedCount:o.length,addedCount:r.length}:null;this.atom_.reportChanged(),c&&fe(this,l)},t.get_=function(i){if(this.legacyMode_&&i>=this.values_.length){console.warn("[mobx] Out of bounds read: "+i);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[i])},t.set_=function(i,r){var o=this.values_;if(this.legacyMode_&&i>o.length&&M(17,i,o.length),i<o.length){this.atom_;var a=o[i];if(oe(this)){var c=ae(this,{type:Oe,object:this.proxy_,index:i,newValue:r});if(!c)return;r=c.newValue}r=this.enhancer_(r,a);var l=r!==a;l&&(o[i]=r,this.notifyArrayChildUpdate_(i,r,a))}else{for(var u=new Array(i+1-o.length),h=0;h<u.length-1;h++)u[h]=void 0;u[u.length-1]=r,this.spliceWithArray_(o.length,0,u)}},e}();function Ju(e,t,n,i){return n===void 0&&(n="ObservableArray"),i===void 0&&(i=!1),ia(),Le(function(){var r=new Yi(n,t,i,!1);aa(r.values_,b,r);var o=new Proxy(r.values_,Xu);return r.proxy_=o,e&&e.length&&r.spliceWithArray_(0,0,e),o})}var Sn={clear:function(){return this.splice(0)},replace:function(t){var n=this[b];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];var a=this[b];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(t);case 2:return a.spliceWithArray_(t,n)}return a.spliceWithArray_(t,n,r)},spliceWithArray:function(t,n,i){return this[b].spliceWithArray_(t,n,i)},push:function(){for(var t=this[b],n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.spliceWithArray_(t.values_.length,0,i),t.values_.length},pop:function(){return this.splice(Math.max(this[b].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[b],n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.spliceWithArray_(0,0,i),t.values_.length},reverse:function(){return p.trackingDerivation&&M(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){p.trackingDerivation&&M(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[b],i=n.dehanceValues_(n.values_).indexOf(t);return i>-1?(this.splice(i,1),!0):!1}};F("at",ie);F("concat",ie);F("flat",ie);F("includes",ie);F("indexOf",ie);F("join",ie);F("lastIndexOf",ie);F("slice",ie);F("toString",ie);F("toLocaleString",ie);F("toSorted",ie);F("toSpliced",ie);F("with",ie);F("every",ve);F("filter",ve);F("find",ve);F("findIndex",ve);F("findLast",ve);F("findLastIndex",ve);F("flatMap",ve);F("forEach",ve);F("map",ve);F("some",ve);F("toReversed",ve);F("reduce",Ha);F("reduceRight",Ha);function F(e,t){typeof Array.prototype[e]=="function"&&(Sn[e]=t(e))}function ie(e){return function(){var t=this[b];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function ve(e){return function(t,n){var i=this,r=this[b];r.atom_.reportObserved();var o=r.dehanceValues_(r.values_);return o[e](function(a,c){return t.call(n,a,c,i)})}}function Ha(e){return function(){var t=this,n=this[b];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_),r=arguments[0];return arguments[0]=function(o,a,c){return r(o,a,c,t)},i[e].apply(i,arguments)}}var Zu=Qe("ObservableArrayAdministration",Yi);function Vn(e){return jn(e)&&Zu(e[b])}var Qu={},je="add",kn="delete",Va=function(){function e(n,i,r){var o=this;i===void 0&&(i=qe),r===void 0&&(r="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[b]=Qu,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=i,this.name_=r,pe(Map)||M(18),Le(function(){o.keysAtom_=ua("ObservableMap.keys()"),o.data_=new Map,o.hasMap_=new Map,n&&o.merge(n)})}var t=e.prototype;return t.has_=function(i){return this.data_.has(i)},t.has=function(i){var r=this;if(!p.trackingDerivation)return this.has_(i);var o=this.hasMap_.get(i);if(!o){var a=o=new ze(this.has_(i),Bn,"ObservableMap.key?",!1);this.hasMap_.set(i,a),Ma(a,function(){return r.hasMap_.delete(i)})}return o.get()},t.set=function(i,r){var o=this.has_(i);if(oe(this)){var a=ae(this,{type:o?Oe:je,object:this,newValue:r,name:i});if(!a)return this;r=a.newValue}return o?this.updateValue_(i,r):this.addValue_(i,r),this},t.delete=function(i){var r=this;if(this.keysAtom_,oe(this)){var o=ae(this,{type:kn,object:this,name:i});if(!o)return!1}if(this.has_(i)){var a=Dt(),c=he(this),l=c||a?{observableKind:"map",debugObjectName:this.name_,type:kn,object:this,oldValue:this.data_.get(i).value_,name:i}:null;return De(function(){var u;r.keysAtom_.reportChanged(),(u=r.hasMap_.get(i))==null||u.setNewValue_(!1);var h=r.data_.get(i);h.setNewValue_(void 0),r.data_.delete(i)}),c&&fe(this,l),!0}return!1},t.updateValue_=function(i,r){var o=this.data_.get(i);if(r=o.prepareNewValue_(r),r!==p.UNCHANGED){var a=Dt(),c=he(this),l=c||a?{observableKind:"map",debugObjectName:this.name_,type:Oe,object:this,oldValue:o.value_,name:i,newValue:r}:null;o.setNewValue_(r),c&&fe(this,l)}},t.addValue_=function(i,r){var o=this;this.keysAtom_,De(function(){var u,h=new ze(r,o.enhancer_,"ObservableMap.key",!1);o.data_.set(i,h),r=h.value_,(u=o.hasMap_.get(i))==null||u.setNewValue_(!0),o.keysAtom_.reportChanged()});var a=Dt(),c=he(this),l=c||a?{observableKind:"map",debugObjectName:this.name_,type:je,object:this,name:i,newValue:r}:null;c&&fe(this,l)},t.get=function(i){return this.has(i)?this.dehanceValue_(this.data_.get(i).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var i=this,r=this.keys();return qr({next:function(){var a=r.next(),c=a.done,l=a.value;return{done:c,value:c?void 0:i.get(l)}}})},t.entries=function(){var i=this,r=this.keys();return qr({next:function(){var a=r.next(),c=a.done,l=a.value;return{done:c,value:c?void 0:[l,i.get(l)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(i,r){for(var o=ct(this),a;!(a=o()).done;){var c=a.value,l=c[0],u=c[1];i.call(r,u,l,this)}},t.merge=function(i){var r=this;return tt(i)&&(i=new Map(i)),De(function(){Ne(i)?wl(i).forEach(function(o){return r.set(o,i[o])}):Array.isArray(i)?i.forEach(function(o){var a=o[0],c=o[1];return r.set(a,c)}):vt(i)?(bl(i)||M(19,i),i.forEach(function(o,a){return r.set(a,o)})):i!=null&&M(20,i)}),this},t.clear=function(){var i=this;De(function(){wa(function(){for(var r=ct(i.keys()),o;!(o=r()).done;){var a=o.value;i.delete(a)}})})},t.replace=function(i){var r=this;return De(function(){for(var o=ed(i),a=new Map,c=!1,l=ct(r.data_.keys()),u;!(u=l()).done;){var h=u.value;if(!o.has(h)){var d=r.delete(h);if(d)c=!0;else{var f=r.data_.get(h);a.set(h,f)}}}for(var m=ct(o.entries()),x;!(x=m()).done;){var j=x.value,w=j[0],S=j[1],C=r.data_.has(w);if(r.set(w,S),r.data_.has(w)){var I=r.data_.get(w);a.set(w,I),C||(c=!0)}}if(!c)if(r.data_.size!==a.size)r.keysAtom_.reportChanged();else for(var V=r.data_.keys(),N=a.keys(),z=V.next(),X=N.next();!z.done;){if(z.value!==X.value){r.keysAtom_.reportChanged();break}z=V.next(),X=N.next()}r.data_=a}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(i,r){return zt(this,i)},t.intercept_=function(i){return Ut(this,i)},yt(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),tt=Qe("ObservableMap",Va);function qr(e){return e[Symbol.toStringTag]="MapIterator",Zi(e)}function ed(e){if(vt(e)||tt(e))return e;if(Array.isArray(e))return new Map(e);if(Ne(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return M(21,e)}var td={},Fa=function(){function e(n,i,r){var o=this;i===void 0&&(i=qe),r===void 0&&(r="ObservableSet"),this.name_=void 0,this[b]=td,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=r,pe(Set)||M(22),this.enhancer_=function(a,c){return i(a,c,r)},Le(function(){o.atom_=ua(o.name_),n&&o.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},t.clear=function(){var i=this;De(function(){wa(function(){for(var r=ct(i.data_.values()),o;!(o=r()).done;){var a=o.value;i.delete(a)}})})},t.forEach=function(i,r){for(var o=ct(this),a;!(a=o()).done;){var c=a.value;i.call(r,c,c,this)}},t.add=function(i){var r=this;if(this.atom_,oe(this)){var o=ae(this,{type:je,object:this,newValue:i});if(!o)return this}if(!this.has(i)){De(function(){r.data_.add(r.enhancer_(i,void 0)),r.atom_.reportChanged()});var a=!1,c=he(this),l=c||a?{observableKind:"set",debugObjectName:this.name_,type:je,object:this,newValue:i}:null;c&&fe(this,l)}return this},t.delete=function(i){var r=this;if(oe(this)){var o=ae(this,{type:kn,object:this,oldValue:i});if(!o)return!1}if(this.has(i)){var a=!1,c=he(this),l=c||a?{observableKind:"set",debugObjectName:this.name_,type:kn,object:this,oldValue:i}:null;return De(function(){r.atom_.reportChanged(),r.data_.delete(i)}),c&&fe(this,l),!0}return!1},t.has=function(i){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(i))},t.entries=function(){var i=0,r=Array.from(this.keys()),o=Array.from(this.values());return Kr({next:function(){var c=i;return i+=1,c<o.length?{value:[r[c],o[c]],done:!1}:{value:void 0,done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var i=this,r=0,o=Array.from(this.data_.values());return Kr({next:function(){return r<o.length?{value:i.dehanceValue_(o[r++]),done:!1}:{value:void 0,done:!0}}})},t.intersection=function(i){if(Ee(i)&&!be(i))return i.intersection(this);var r=new Set(this);return r.intersection(i)},t.union=function(i){if(Ee(i)&&!be(i))return i.union(this);var r=new Set(this);return r.union(i)},t.difference=function(i){return new Set(this).difference(i)},t.symmetricDifference=function(i){if(Ee(i)&&!be(i))return i.symmetricDifference(this);var r=new Set(this);return r.symmetricDifference(i)},t.isSubsetOf=function(i){return new Set(this).isSubsetOf(i)},t.isSupersetOf=function(i){return new Set(this).isSupersetOf(i)},t.isDisjointFrom=function(i){if(Ee(i)&&!be(i))return i.isDisjointFrom(this);var r=new Set(this);return r.isDisjointFrom(i)},t.replace=function(i){var r=this;return be(i)&&(i=new Set(i)),De(function(){Array.isArray(i)?(r.clear(),i.forEach(function(o){return r.add(o)})):Ee(i)?(r.clear(),i.forEach(function(o){return r.add(o)})):i!=null&&M("Cannot initialize set from "+i)}),this},t.observe_=function(i,r){return zt(this,i)},t.intercept_=function(i){return Ut(this,i)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},yt(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),be=Qe("ObservableSet",Fa);function Kr(e){return e[Symbol.toStringTag]="SetIterator",Zi(e)}var Yr=Object.create(null),Xr="remove",Ua=function(){function e(n,i,r,o){i===void 0&&(i=new Map),o===void 0&&(o=Ql),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=i,this.name_=r,this.defaultAnnotation_=o,this.keysAtom_=new Ie("ObservableObject.keys"),this.isPlainObject_=Ne(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(i){return this.values_.get(i).get()},t.setObservablePropValue_=function(i,r){var o=this.values_.get(i);if(o instanceof ge)return o.set(r),!0;if(oe(this)){var a=ae(this,{type:Oe,object:this.proxy_||this.target_,name:i,newValue:r});if(!a)return null;r=a.newValue}if(r=o.prepareNewValue_(r),r!==p.UNCHANGED){var c=he(this),l=!1,u=c||l?{type:Oe,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:o.value_,name:i,newValue:r}:null;o.setNewValue_(r),c&&fe(this,u)}return!0},t.get_=function(i){return p.trackingDerivation&&!$e(this.target_,i)&&this.has_(i),this.target_[i]},t.set_=function(i,r,o){return o===void 0&&(o=!1),$e(this.target_,i)?this.values_.has(i)?this.setObservablePropValue_(i,r):o?Reflect.set(this.target_,i,r):(this.target_[i]=r,!0):this.extend_(i,{value:r,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,o)},t.has_=function(i){if(!p.trackingDerivation)return i in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var r=this.pendingKeys_.get(i);return r||(r=new ze(i in this.target_,Bn,"ObservableObject.key?",!1),this.pendingKeys_.set(i,r)),r.get()},t.make_=function(i,r){if(r===!0&&(r=this.defaultAnnotation_),r!==!1){if(!(i in this.target_)){var o;if((o=this.target_[we])!=null&&o[i])return;M(1,r.annotationType_,this.name_+"."+i.toString())}for(var a=this.target_;a&&a!==Tn;){var c=pn(a,i);if(c){var l=r.make_(this,i,c,a);if(l===0)return;if(l===1)break}a=Object.getPrototypeOf(a)}Zr(this,r,i)}},t.extend_=function(i,r,o,a){if(a===void 0&&(a=!1),o===!0&&(o=this.defaultAnnotation_),o===!1)return this.defineProperty_(i,r,a);var c=o.extend_(this,i,r,a);return c&&Zr(this,o,i),c},t.defineProperty_=function(i,r,o){o===void 0&&(o=!1),this.keysAtom_;try{se();var a=this.delete_(i);if(!a)return a;if(oe(this)){var c=ae(this,{object:this.proxy_||this.target_,name:i,type:je,newValue:r.value});if(!c)return null;var l=c.newValue;r.value!==l&&(r=Ge({},r,{value:l}))}if(o){if(!Reflect.defineProperty(this.target_,i,r))return!1}else Se(this.target_,i,r);this.notifyPropertyAddition_(i,r.value)}finally{ce()}return!0},t.defineObservableProperty_=function(i,r,o,a){a===void 0&&(a=!1),this.keysAtom_;try{se();var c=this.delete_(i);if(!c)return c;if(oe(this)){var l=ae(this,{object:this.proxy_||this.target_,name:i,type:je,newValue:r});if(!l)return null;r=l.newValue}var u=Jr(i),h={configurable:p.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(a){if(!Reflect.defineProperty(this.target_,i,h))return!1}else Se(this.target_,i,h);var d=new ze(r,o,"ObservableObject.key",!1);this.values_.set(i,d),this.notifyPropertyAddition_(i,d.value_)}finally{ce()}return!0},t.defineComputedProperty_=function(i,r,o){o===void 0&&(o=!1),this.keysAtom_;try{se();var a=this.delete_(i);if(!a)return a;if(oe(this)){var c=ae(this,{object:this.proxy_||this.target_,name:i,type:je,newValue:void 0});if(!c)return null}r.name||(r.name="ObservableObject.key"),r.context=this.proxy_||this.target_;var l=Jr(i),u={configurable:p.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(o){if(!Reflect.defineProperty(this.target_,i,u))return!1}else Se(this.target_,i,u);this.values_.set(i,new ge(r)),this.notifyPropertyAddition_(i,void 0)}finally{ce()}return!0},t.delete_=function(i,r){if(r===void 0&&(r=!1),this.keysAtom_,!$e(this.target_,i))return!0;if(oe(this)){var o=ae(this,{object:this.proxy_||this.target_,name:i,type:Xr});if(!o)return null}try{var a;se();var c=he(this),l=!1,u=this.values_.get(i),h=void 0;if(!u&&(c||l)){var d;h=(d=pn(this.target_,i))==null?void 0:d.value}if(r){if(!Reflect.deleteProperty(this.target_,i))return!1}else delete this.target_[i];if(u&&(this.values_.delete(i),u instanceof ze&&(h=u.value_),Ea(u)),this.keysAtom_.reportChanged(),(a=this.pendingKeys_)==null||(a=a.get(i))==null||a.set(i in this.target_),c||l){var f={type:Xr,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:h,name:i};c&&fe(this,f)}}finally{ce()}return!0},t.observe_=function(i,r){return zt(this,i)},t.intercept_=function(i){return Ut(this,i)},t.notifyPropertyAddition_=function(i,r){var o,a=he(this),c=!1;if(a||c){var l=a||c?{type:je,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:i,newValue:r}:null;a&&fe(this,l)}(o=this.pendingKeys_)==null||(o=o.get(i))==null||o.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),ht(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function nt(e,t){var n;if($e(e,b))return e;var i=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",r=new Ua(e,new Map,String(i),uu(t));return Lt(e,b,r),e}var nd=Qe("ObservableObjectAdministration",Ua);function Jr(e){return Yr[e]||(Yr[e]={get:function(){return this[b].getObservablePropValue_(e)},set:function(n){return this[b].setObservablePropValue_(e,n)}})}function Fn(e){return jn(e)?nd(e[b]):!1}function Zr(e,t,n){var i;(i=e.target_[we])==null||delete i[n]}var id=Wa(0),rd=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),Qn=0,za=function(){};function od(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}od(za,Array.prototype);var Xi=function(e){function t(i,r,o,a){var c;return o===void 0&&(o="ObservableArray"),a===void 0&&(a=!1),c=e.call(this)||this,Le(function(){var l=new Yi(o,r,a,!0);l.proxy_=c,aa(c,b,l),i&&i.length&&c.spliceWithArray(0,0,i),rd&&Object.defineProperty(c,"0",id)}),c}la(t,e);var n=t.prototype;return n.concat=function(){this[b].atom_.reportObserved();for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return Array.prototype.concat.apply(this.slice(),o.map(function(c){return Vn(c)?c.slice():c}))},n[Symbol.iterator]=function(){var i=this,r=0;return Zi({next:function(){return r<i.length?{value:i[r++],done:!1}:{done:!0,value:void 0}}})},yt(t,[{key:"length",get:function(){return this[b].getArrayLength_()},set:function(r){this[b].setArrayLength_(r)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(za);Object.entries(Sn).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&Lt(Xi.prototype,t,n)});function Wa(e){return{enumerable:!1,configurable:!0,get:function(){return this[b].get_(e)},set:function(n){this[b].set_(e,n)}}}function ad(e){Se(Xi.prototype,""+e,Wa(e))}function Ga(e){if(e>Qn){for(var t=Qn;t<e+100;t++)ad(t);Qn=e}}Ga(1e3);function sd(e,t,n){return new Xi(e,t,n)}function On(e,t){if(typeof e=="object"&&e!==null){if(Vn(e))return t!==void 0&&M(23),e[b].atom_;if(be(e))return e.atom_;if(tt(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||M(25,t,Ci(e)),n}if(Fn(e)){if(!t)return M(26);var i=e[b].values_.get(t);return i||M(27,t,Ci(e)),i}if(zi(e)||Hn(e)||wn(e))return e}else if(pe(e)&&wn(e[b]))return e[b];M(28)}function cd(e,t){if(e||M(29),zi(e)||Hn(e)||wn(e)||tt(e)||be(e))return e;if(e[b])return e[b];M(24,e)}function Ci(e,t){var n;if(t!==void 0)n=On(e,t);else{if(Mt(e))return e.name;Fn(e)||tt(e)||be(e)?n=cd(e):n=On(e)}return n.name_}function Le(e){var t=et(),n=Gi(!0);se();try{return e()}finally{ce(),qi(n),Pe(t)}}var Qr=Tn.toString;function Ji(e,t,n){return n===void 0&&(n=-1),Ei(e,t,n)}function Ei(e,t,n,i,r){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var o=typeof e;if(o!=="function"&&o!=="object"&&typeof t!="object")return!1;var a=Qr.call(e);if(a!==Qr.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=eo(e),t=eo(t);var c=a==="[object Array]";if(!c){if(typeof e!="object"||typeof t!="object")return!1;var l=e.constructor,u=t.constructor;if(l!==u&&!(pe(l)&&l instanceof l&&pe(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),i=i||[],r=r||[];for(var h=i.length;h--;)if(i[h]===e)return r[h]===t;if(i.push(e),r.push(t),c){if(h=e.length,h!==t.length)return!1;for(;h--;)if(!Ei(e[h],t[h],n-1,i,r))return!1}else{var d=Object.keys(e),f;if(h=d.length,Object.keys(t).length!==h)return!1;for(;h--;)if(f=d[h],!($e(t,f)&&Ei(e[f],t[f],n-1,i,r)))return!1}return i.pop(),r.pop(),!0}function eo(e){return Vn(e)?e.slice():vt(e)||tt(e)||Ee(e)||be(e)?Array.from(e.entries()):e}var to,ld=((to=Mn().Iterator)==null?void 0:to.prototype)||{};function Zi(e){return e[Symbol.iterator]=ud,Object.assign(Object.create(ld),e)}function ud(){return this}["Symbol","Map","Set"].forEach(function(e){var t=Mn();typeof t[e]>"u"&&M("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Eu,extras:{getDebugName:Ci},$mobx:b});var Te,L,ei,no,mt=0,qa=[],W=O,io=W.__b,ro=W.__r,oo=W.diffed,ao=W.__c,so=W.unmount,co=W.__;function it(e,t){W.__h&&W.__h(L,e,mt||t),mt=0;var n=L.__H||(L.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function $(e){return mt=1,Un(Ka,e)}function Un(e,t,n){var i=it(Te++,2);if(i.t=e,!i.__c&&(i.__=[n?n(t):Ka(void 0,t),function(c){var l=i.__N?i.__N[0]:i.__[0],u=i.t(l,c);l!==u&&(i.__N=[u,i.__[1]],i.__c.setState({}))}],i.__c=L,!L.u)){var r=function(c,l,u){if(!i.__c.__H)return!0;var h=i.__c.__H.__.filter(function(f){return!!f.__c});if(h.every(function(f){return!f.__N}))return!o||o.call(this,c,l,u);var d=!1;return h.forEach(function(f){if(f.__N){var m=f.__[0];f.__=f.__N,f.__N=void 0,m!==f.__[0]&&(d=!0)}}),!(!d&&i.__c.props===c)&&(!o||o.call(this,c,l,u))};L.u=!0;var o=L.shouldComponentUpdate,a=L.componentWillUpdate;L.componentWillUpdate=function(c,l,u){if(this.__e){var h=o;o=void 0,r(c,l,u),o=h}a&&a.call(this,c,l,u)},L.shouldComponentUpdate=r}return i.__N||i.__}function G(e,t){var n=it(Te++,3);!W.__s&&nr(n.__H,t)&&(n.__=e,n.i=t,L.__H.__h.push(n))}function bt(e,t){var n=it(Te++,4);!W.__s&&nr(n.__H,t)&&(n.__=e,n.i=t,L.__h.push(n))}function Y(e){return mt=5,Wt(function(){return{current:e}},[])}function Qi(e,t,n){mt=6,bt(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function Wt(e,t){var n=it(Te++,7);return nr(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function g(e,t){return mt=8,Wt(function(){return e},t)}function re(e){var t=L.context[e.__c],n=it(Te++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(L)),t.props.value):e.__}function er(e,t){W.useDebugValue&&W.useDebugValue(t?t(e):e)}function dd(e){var t=it(Te++,10),n=$();return t.__=e,L.componentDidCatch||(L.componentDidCatch=function(i,r){t.__&&t.__(i,r),n[1](i)}),[n[0],function(){n[1](void 0)}]}function tr(){var e=it(Te++,11);if(!e.__){for(var t=L.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function hd(){for(var e;e=qa.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ln),e.__H.__h.forEach(Di),e.__H.__h=[]}catch(t){e.__H.__h=[],W.__e(t,e.__v)}}W.__b=function(e){L=null,io&&io(e)},W.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),co&&co(e,t)},W.__r=function(e){ro&&ro(e),Te=0;var t=(L=e.__c).__H;t&&(ei===L?(t.__h=[],L.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(t.__h.forEach(ln),t.__h.forEach(Di),t.__h=[],Te=0)),ei=L},W.diffed=function(e){oo&&oo(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(qa.push(t)!==1&&no===W.requestAnimationFrame||((no=W.requestAnimationFrame)||fd)(hd)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),ei=L=null},W.__c=function(e,t){t.some(function(n){try{n.__h.forEach(ln),n.__h=n.__h.filter(function(i){return!i.__||Di(i)})}catch(i){t.some(function(r){r.__h&&(r.__h=[])}),t=[],W.__e(i,n.__v)}}),ao&&ao(e,t)},W.unmount=function(e){so&&so(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{ln(i)}catch(r){t=r}}),n.__H=void 0,t&&W.__e(t,n.__v))};var lo=typeof requestAnimationFrame=="function";function fd(e){var t,n=function(){clearTimeout(i),lo&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);lo&&(t=requestAnimationFrame(n))}function ln(e){var t=L,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),L=t}function Di(e){var t=L;e.__c=e.__(),L=t}function nr(e,t){return!e||e.length!==t.length||t.some(function(n,i){return n!==e[i]})}function Ka(e,t){return typeof t=="function"?t(e):t}function Ri(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var i in t)if(i!=="__source"&&e[i]!==t[i])return!0;return!1}function An(e,t){this.props=e,this.context=t}function jt(e,t){function n(r){var o=this.props.ref,a=o==r.ref;return!a&&o&&(o.call?o(null):o.current=null),t?!t(this.props,r)||!a:Ri(this.props,r)}function i(r){return this.shouldComponentUpdate=n,Ce(e,r)}return i.displayName="Memo("+(e.displayName||e.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i}(An.prototype=new ue).isPureReactComponent=!0,An.prototype.shouldComponentUpdate=function(e,t){return Ri(this.props,e)||Ri(this.state,t)};var uo=O.__b;O.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),uo&&uo(e)};var md=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Bt(e){function t(n){if(!("ref"in n))return e(n,null);var i=n.ref;delete n.ref;var r=e(n,i);return n.ref=i,r}return t.$$typeof=md,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var ho=function(e,t){return e==null?null:de(de(e).map(t))},Ya={map:ho,forEach:ho,count:function(e){return e?de(e).length:0},only:function(e){var t=de(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:de},_d=O.__e;O.__e=function(e,t,n,i){if(e.then){for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t)}_d(e,t,n,i)};var fo=O.unmount;function Xa(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),e.__c.__H=null),(e=function(i,r){for(var o in r)i[o]=r[o];return i}({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(i){return Xa(i,t,n)})),e}function Ja(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(i){return Ja(i,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function Rt(){this.__u=0,this.t=null,this.__b=null}function Za(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Qa(e){var t,n,i;function r(o){if(t||(t=e()).then(function(a){n=a.default||a},function(a){i=a}),i)throw i;if(!n)throw t;return Ce(n,o)}return r.displayName="Lazy",r.__f=!0,r}function lt(){this.u=null,this.o=null}O.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),fo&&fo(e)},(Rt.prototype=new ue).__c=function(e,t){var n=t.__c,i=this;i.t==null&&(i.t=[]),i.t.push(n);var r=Za(i.__v),o=!1,a=function(){o||(o=!0,n.__R=null,r?r(c):c())};n.__R=a;var c=function(){if(!--i.__u){if(i.state.__a){var l=i.state.__a;i.__v.__k[0]=Ja(l,l.__c.__P,l.__c.__O)}var u;for(i.setState({__a:i.__b=null});u=i.t.pop();)u.forceUpdate()}};i.__u++||32&t.__u||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(a,a)},Rt.prototype.componentWillUnmount=function(){this.t=[]},Rt.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=Xa(this.__b,n,i.__O=i.__P)}this.__b=null}var r=t.__a&&Ce(U,null,e.fallback);return r&&(r.__u&=-33),[Ce(U,null,t.__a?null:e.children),r]};var mo=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function pd(e){return this.getChildContext=function(){return e.context},e.children}function gd(e){var t=this,n=e.i;t.componentWillUnmount=function(){dt(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],contains:function(){return!0},appendChild:function(i){this.childNodes.push(i),t.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),t.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),t.i.removeChild(i)}}),dt(Ce(pd,{context:t.context},e.__v),t.l)}function es(e,t){var n=Ce(gd,{__v:e,i:t});return n.containerInfo=t,n}(lt.prototype=new ue).__a=function(e){var t=this,n=Za(t.__v),i=t.o.get(e);return i[0]++,function(r){var o=function(){t.props.revealOrder?(i.push(r),mo(t,e,i)):r()};n?n(o):o()}},lt.prototype.render=function(e){this.u=null,this.o=new Map;var t=de(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},lt.prototype.componentDidUpdate=lt.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){mo(e,n,t)})};var ts=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,vd=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,yd=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,bd=/[A-Z0-9]/g,wd=typeof document<"u",Sd=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function ns(e,t,n){return t.__k==null&&(t.textContent=""),dt(e,t),typeof n=="function"&&n(),e?e.__c:null}function is(e,t,n){return Go(e,t),typeof n=="function"&&n(),e?e.__c:null}ue.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(ue.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var _o=O.event;function kd(){}function Od(){return this.cancelBubble}function Ad(){return this.defaultPrevented}O.event=function(e){return _o&&(e=_o(e)),e.persist=kd,e.isPropagationStopped=Od,e.isDefaultPrevented=Ad,e.nativeEvent=e};var ir,Cd={enumerable:!1,configurable:!0,get:function(){return this.class}},po=O.vnode;O.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,i=t.type,r={},o=i.indexOf("-")===-1;for(var a in n){var c=n[a];if(!(a==="value"&&"defaultValue"in n&&c==null||wd&&a==="children"&&i==="noscript"||a==="class"||a==="className")){var l=a.toLowerCase();a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&c===!0?c="":l==="translate"&&c==="no"?c=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?a="ondblclick":l!=="onchange"||i!=="input"&&i!=="textarea"||Sd(n.type)?l==="onfocus"?a="onfocusin":l==="onblur"?a="onfocusout":yd.test(a)&&(a=l):l=a="oninput":o&&vd.test(a)?a=a.replace(bd,"-$&").toLowerCase():c===null&&(c=void 0),l==="oninput"&&r[a=l]&&(a="oninputCapture"),r[a]=c}}i=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=de(n.children).forEach(function(u){u.props.selected=r.value.indexOf(u.props.value)!=-1})),i=="select"&&r.defaultValue!=null&&(r.value=de(n.children).forEach(function(u){u.props.selected=r.multiple?r.defaultValue.indexOf(u.props.value)!=-1:r.defaultValue==u.props.value})),n.class&&!n.className?(r.class=n.class,Object.defineProperty(r,"className",Cd)):(n.className&&!n.class||n.class&&n.className)&&(r.class=r.className=n.className),t.props=r}(e),e.$$typeof=ts,po&&po(e)};var go=O.__r;O.__r=function(e){go&&go(e),ir=e.__c};var vo=O.diffed;O.diffed=function(e){vo&&vo(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value),ir=null};var rs={ReactCurrentDispatcher:{current:{readContext:function(e){return ir.__n[e.__c].props.value},useCallback:g,useContext:re,useDebugValue:er,useDeferredValue:ar,useEffect:G,useId:tr,useImperativeHandle:Qi,useInsertionEffect:cr,useLayoutEffect:bt,useMemo:Wt,useReducer:Un,useRef:Y,useState:$,useSyncExternalStore:lr,useTransition:sr}}},Ed="18.3.1";function os(e){return Ce.bind(null,e)}function Gt(e){return!!e&&e.$$typeof===ts}function as(e){return Gt(e)&&e.type===U}function ss(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function cs(e){return Gt(e)?Vi.apply(null,arguments):e}function ls(e){return!!e.__k&&(dt(null,e),!0)}function us(e){return e&&(e.base||e.nodeType===1&&e)||null}var rr=function(e,t){return e(t)},ds=function(e,t){return e(t)},hs=U;function or(e){e()}function ar(e){return e}function sr(){return[!1,or]}var cr=bt,fs=Gt;function lr(e,t){var n=t(),i=$({h:{__:n,v:t}}),r=i[0].h,o=i[1];return bt(function(){r.__=n,r.v=t,ti(r)&&o({h:r})},[e,n,t]),G(function(){return ti(r)&&o({h:r}),e(function(){ti(r)&&o({h:r})})},[e]),n}function ti(e){var t,n,i=e.v,r=e.__;try{var o=i();return!((t=r)===(n=o)&&(t!==0||1/t==1/n)||t!=t&&n!=n)}catch{return!0}}var xi={useState:$,useId:tr,useReducer:Un,useEffect:G,useLayoutEffect:bt,useInsertionEffect:cr,useTransition:sr,useDeferredValue:ar,useSyncExternalStore:lr,startTransition:or,useRef:Y,useImperativeHandle:Qi,useMemo:Wt,useCallback:g,useContext:re,useDebugValue:er,version:"18.3.1",Children:Ya,render:ns,hydrate:is,unmountComponentAtNode:ls,createPortal:es,createElement:Ce,createContext:Pn,createFactory:os,cloneElement:cs,createRef:Ho,Fragment:U,isValidElement:Gt,isElement:fs,isFragment:as,isMemo:ss,findDOMNode:us,Component:ue,PureComponent:An,memo:jt,forwardRef:Bt,flushSync:ds,unstable_batchedUpdates:rr,StrictMode:hs,Suspense:Rt,SuspenseList:lt,lazy:Qa,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:rs};const Dd=Object.freeze(Object.defineProperty({__proto__:null,Children:Ya,Component:ue,Fragment:U,PureComponent:An,StrictMode:hs,Suspense:Rt,SuspenseList:lt,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:rs,cloneElement:cs,createContext:Pn,createElement:Ce,createFactory:os,createPortal:es,createRef:Ho,default:xi,findDOMNode:us,flushSync:ds,forwardRef:Bt,hydrate:is,isElement:fs,isFragment:as,isMemo:ss,isValidElement:Gt,lazy:Qa,memo:jt,render:ns,startTransition:or,unmountComponentAtNode:ls,unstable_batchedUpdates:rr,useCallback:g,useContext:re,useDebugValue:er,useDeferredValue:ar,useEffect:G,useErrorBoundary:dd,useId:tr,useImperativeHandle:Qi,useInsertionEffect:cr,useLayoutEffect:bt,useMemo:Wt,useReducer:Un,useRef:Y,useState:$,useSyncExternalStore:lr,useTransition:sr,version:Ed},Symbol.toStringTag,{value:"Module"}));if(!$)throw new Error("mobx-react-lite requires React with Hooks support");if(!Ku)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function Rd(e){e()}function xd(e){e||(e=Rd),Hu({reactionScheduler:e})}function $d(e){return Vu(e)}var Pd=1e4,Nd=1e4,Md=function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(i){i===void 0&&(i=Pd),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var r=Date.now();n.registrations.forEach(function(o,a){r-o.registeredAt>=i&&(n.finalize(o.value),n.registrations.delete(a))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,i){this.registrations.set(i,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,Nd))}}),e}(),Td=typeof FinalizationRegistry<"u"?FinalizationRegistry:Md,$i=new Td(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),ms={exports:{}},_s={};const jd=Sc(Dd);/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _t=jd;function Bd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Id=typeof Object.is=="function"?Object.is:Bd,Ld=_t.useState,Hd=_t.useEffect,Vd=_t.useLayoutEffect,Fd=_t.useDebugValue;function Ud(e,t){var n=t(),i=Ld({inst:{value:n,getSnapshot:t}}),r=i[0].inst,o=i[1];return Vd(function(){r.value=n,r.getSnapshot=t,ni(r)&&o({inst:r})},[e,n,t]),Hd(function(){return ni(r)&&o({inst:r}),e(function(){ni(r)&&o({inst:r})})},[e]),Fd(n),n}function ni(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Id(e,n)}catch{return!0}}function zd(e,t){return t()}var Wd=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zd:Ud;_s.useSyncExternalStore=_t.useSyncExternalStore!==void 0?_t.useSyncExternalStore:Wd;ms.exports=_s;var Gd=ms.exports;function yo(e){e.reaction=new Me("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function qd(e,t){t===void 0&&(t="observed");var n=xi.useRef(null);if(!n.current){var i={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(c){return $i.unregister(i),i.onStoreChange=c,i.reaction||(yo(i),i.stateVersion=Symbol()),function(){var l;i.onStoreChange=null,(l=i.reaction)===null||l===void 0||l.dispose(),i.reaction=null}},getSnapshot:function(){return i.stateVersion}};n.current=i}var r=n.current;r.reaction||(yo(r),$i.register(n,r,r)),xi.useDebugValue(r.reaction,$d),Gd.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot);var o,a;if(r.reaction.track(function(){try{o=e()}catch(c){a=c}}),a)throw a;return o}var ii,ri,ps=typeof Symbol=="function"&&Symbol.for,Kd=(ri=(ii=Object.getOwnPropertyDescriptor(function(){},"name"))===null||ii===void 0?void 0:ii.configurable)!==null&&ri!==void 0?ri:!1,bo=ps?Symbol.for("react.forward_ref"):typeof Bt=="function"&&Bt(function(e){return null}).$$typeof,wo=ps?Symbol.for("react.memo"):typeof jt=="function"&&jt(function(e){return null}).$$typeof;function R(e,t){var n;if(wo&&e.$$typeof===wo)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var i=(n=void 0)!==null&&n!==void 0?n:!1,r=e,o=e.displayName||e.name;if(bo&&e.$$typeof===bo&&(i=!0,r=e.render,typeof r!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var a=function(c,l){return qd(function(){return r(c,l)},o)};return a.displayName=e.displayName,Kd&&Object.defineProperty(a,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(a.contextTypes=e.contextTypes),i&&(a=Bt(a)),a=jt(a),Xd(e,a),a}var Yd={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function Xd(e,t){Object.keys(e).forEach(function(n){Yd[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}var oi;xd(rr);oi=$i.finalizeAllImmediately;var gs={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var c=arguments[a];c&&(o=r(o,i(c)))}return o}function i(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var c in o)t.call(o,c)&&o[c]&&(a=r(a,c));return a}function r(o,a){return a?o?o+" "+a:o+a:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(gs);var Jd=gs.exports;const H=wc(Jd),Zd=500,vs=({children:e,onClick:t,onDoubleClick:n})=>{const i=Y(),[r,o]=$(null),a=g(c=>{r&&r+Zd>c.timeStamp?n():t(),o(c.timeStamp)},[r,o,t,n]);return G(()=>{if(r){const c=l=>{i.current&&!i.current.contains(l.target)&&o(null)};return window.addEventListener("mousedown",c),()=>window.removeEventListener("mousedown",c)}},[i,r,o]),Vi(e,{ref:i,onMouseDown:a})},Qd={attributes:!0,childList:!0,subtree:!0,characterData:!0},ys=(e,t)=>{Array.from(e.children).forEach(n=>{n.nodeName==="IMG"&&!n.complete?n.onload=t:ys(n,t)})},So=({onHeight:e,onWidth:t,children:n,...i})=>{const[,r]=$({}),o=Y(),a=g(()=>{if(o.current){const{width:c,height:l}=o.current.getBoundingClientRect(),u={width:c,height:l};ys(o.current,a),r(h=>(u.height!==h.height&&e&&e(u.height),u.width!==h.width&&t&&t(u.width),u))}},[o,r,e,t]);return G(()=>{if(o.current){a();const c=new MutationObserver(a);return c.observe(o.current,Qd),()=>c.disconnect()}},[o,a]),Cs(a),s("div",{ref:o,...i,children:n})},bs=({color:e})=>{const t=`mock-spinner-${e}`,n=H("mock-spinner",{[t]:!!e});return s("div",{className:n,children:[s("div",{}),s("div",{}),s("div",{}),s("div",{})]})},k="weapon",D="vitality",A="spirit",ws=[k,D,A],eh=[0,500,1250,3e3,6e3],Ss=[{name:"Basic Magazine",tier:1,cost:500,category:k,active:!1,icon:"item/basic_magazine"},{name:"Close Quarters",tier:1,cost:500,category:k,active:!1,icon:"item/close_quarters"},{name:"Headshot Booster",tier:1,cost:500,category:k,active:!1,icon:"item/headshot_booster"},{name:"High-Velocity Mag",tier:1,cost:500,category:k,active:!1,icon:"item/high_velocity_mag"},{name:"Hollow Point Ward",tier:1,cost:500,category:k,active:!1,icon:"item/hollow_point_ward"},{name:"Monster Rounds",tier:1,cost:500,category:k,active:!1,icon:"item/monster_rounds"},{name:"Rapid Rounds",tier:1,cost:500,category:k,active:!1,icon:"item/rapid_rounds"},{name:"Restorative Shot",tier:1,cost:500,category:k,active:!1,icon:"item/restorative_shot"},{name:"Active Reload",tier:2,cost:1250,category:k,active:!1,icon:"item/active_reload"},{name:"Berserker",tier:2,cost:1250,category:k,active:!1,icon:"item/berserker"},{name:"Fleetfoot",tier:2,cost:1250,category:k,active:!0,icon:"item/fleetfoot"},{name:"Kinetic Dash",tier:2,cost:1250,category:k,active:!1,icon:"item/kinetic_dash"},{name:"Long Range",tier:2,cost:1250,category:k,active:!1,icon:"item/long_range"},{name:"Melee Charge",tier:2,cost:1250,category:k,active:!1,icon:"item/melee_charge"},{name:"Mystic Shot",tier:2,cost:1250,category:k,active:!1,icon:"item/mystic_shot"},{name:"Slowing Bullets",tier:2,cost:1250,category:k,active:!1,icon:"item/slowing_bullets"},{name:"Soul Shredder Bullets",tier:2,cost:1250,category:k,active:!1,icon:"item/soul_shredder_bullets"},{name:"Swift Striker",tier:2,cost:1250,category:k,active:!1,icon:"item/swift_striker"},{name:"Alchemical Fire",tier:3,cost:3e3,category:k,active:!0,icon:"item/alchemical_fire"},{name:"Burst Fire",tier:3,cost:3e3,category:k,active:!1,icon:"item/burst_fire"},{name:"Escalating Resilience",tier:3,cost:3e3,category:k,active:!1,icon:"item/escalating_resilience"},{name:"Headhunter",tier:3,cost:3500,category:k,active:!1,icon:"item/headhunter"},{name:"Heroic Aura",tier:3,cost:3e3,category:k,active:!0,icon:"item/heroic_aura"},{name:"Hunter's Aura",tier:3,cost:3e3,category:k,active:!1,icon:"item/hunters_aura"},{name:"Intensifying Magazine",tier:3,cost:3e3,category:k,active:!1,icon:"item/intensifying_magazine"},{name:"Point Blank",tier:3,cost:3500,category:k,active:!1,icon:"item/point_blank"},{name:"Pristine Emblem",tier:3,cost:3500,category:k,active:!1,icon:"item/pristine_emblem"},{name:"Sharpshooter",tier:3,cost:4250,category:k,active:!1,icon:"item/sharpshooter"},{name:"Spellslinger Headshots",tier:3,cost:4250,category:k,active:!1,icon:"item/spellslinger_headshots"},{name:"Tesla Bullets",tier:3,cost:3e3,category:k,active:!1,icon:"item/tesla_bullets"},{name:"Titanic Magazine",tier:3,cost:3500,category:k,active:!1,icon:"item/titanic_magazine"},{name:"Toxic Bullets",tier:3,cost:3e3,category:k,active:!1,icon:"item/toxic_bullets"},{name:"Warp Stone",tier:3,cost:3e3,category:k,active:!0,icon:"item/warp_stone"},{name:"Crippling Headshot",tier:4,cost:6e3,category:k,active:!1,icon:"item/crippling_headshot"},{name:"Frenzy",tier:4,cost:6e3,category:k,active:!1,icon:"item/frenzy"},{name:"Glass Cannon",tier:4,cost:6e3,category:k,active:!1,icon:"item/glass_cannon"},{name:"Lucky Shot",tier:4,cost:6e3,category:k,active:!1,icon:"item/lucky_shot"},{name:"Ricochet",tier:4,cost:6e3,category:k,active:!1,icon:"item/ricochet"},{name:"Shadow Weave",tier:4,cost:6e3,category:k,active:!0,icon:"item/shadow_weave"},{name:"Silencer",tier:4,cost:7450,category:k,active:!1,icon:"item/silencer"},{name:"Spiritual Overflow",tier:4,cost:6e3,category:k,active:!1,icon:"item/spiritual_overflow"},{name:"Vampiric Burst",tier:4,cost:6e3,category:k,active:!0,icon:"item/vampiric_burst"},{name:"Enduring Spirit",tier:1,cost:500,category:D,active:!1,icon:"item/enduring_spirit"},{name:"Extra Health",tier:1,cost:500,category:D,active:!1,icon:"item/extra_health"},{name:"Extra Regen",tier:1,cost:500,category:D,active:!1,icon:"item/extra_regen"},{name:"Extra Stamina",tier:1,cost:500,category:D,active:!1,icon:"item/extra_stamina"},{name:"Healing Rite",tier:1,cost:500,category:D,active:!0,icon:"item/healing_rite"},{name:"Melee Lifesteal",tier:1,cost:500,category:D,active:!1,icon:"item/melee_lifesteal"},{name:"Sprint Boots",tier:1,cost:500,category:D,active:!1,icon:"item/sprint_boots"},{name:"Bullet Armor",tier:2,cost:1250,category:D,active:!1,icon:"item/bullet_armor"},{name:"Bullet Lifesteal",tier:2,cost:1250,category:D,active:!1,icon:"item/bullet_lifesteal"},{name:"Combat Barrier",tier:2,cost:1250,category:D,active:!1,icon:"item/combat_barrier"},{name:"Debuff Reducer",tier:2,cost:1250,category:D,active:!1,icon:"item/debuff_reducer"},{name:"Divine Barrier",tier:2,cost:1250,category:D,active:!0,icon:"item/divine_barrier"},{name:"Enchanter's Barrier",tier:2,cost:1250,category:D,active:!1,icon:"item/enchanters_barrier"},{name:"Enduring Speed",tier:2,cost:1750,category:D,active:!1,icon:"item/enduring_speed"},{name:"Healbane",tier:2,cost:1250,category:D,active:!1,icon:"item/healbane"},{name:"Healing Booster",tier:2,cost:1250,category:D,active:!1,icon:"item/healing_booster"},{name:"Healing Nova",tier:2,cost:1750,category:D,active:!0,icon:"item/healing_nova"},{name:"Reactive Barrier",tier:2,cost:1250,category:D,active:!1,icon:"item/reactive_barrier"},{name:"Restorative Locket",tier:2,cost:1250,category:D,active:!0,icon:"item/restorative_locket"},{name:"Return Fire",tier:2,cost:1250,category:D,active:!0,icon:"item/return_fire"},{name:"Spirit Armor",tier:2,cost:1250,category:D,active:!1,icon:"item/spirit_armor"},{name:"Spirit Lifesteal",tier:2,cost:1250,category:D,active:!1,icon:"item/spirit_lifesteal"},{name:"Debuff Remover",tier:3,cost:4250,category:D,active:!0,icon:"item/debuff_remover"},{name:"Fortitude",tier:3,cost:3500,category:D,active:!1,icon:"item/fortitude"},{name:"Improved Bullet Armor",tier:3,cost:4250,category:D,active:!1,icon:"item/improved_bullet_armor"},{name:"Improved Spirit Armor",tier:3,cost:4250,category:D,active:!1,icon:"item/improved_spirit_armor"},{name:"Lifestrike",tier:3,cost:3500,category:D,active:!1,icon:"item/lifestrike"},{name:"Majestic Leap",tier:3,cost:3e3,category:D,active:!0,icon:"item/majestic_leap"},{name:"Metal Skin",tier:3,cost:3e3,category:D,active:!0,icon:"item/metal_skin"},{name:"Rescue Beam",tier:3,cost:3e3,category:D,active:!0,icon:"item/rescue_beam"},{name:"Superior Stamina",tier:3,cost:3500,category:D,active:!1,icon:"item/superior_stamina"},{name:"Colossus",tier:4,cost:6e3,category:D,active:!0,icon:"item/colossus"},{name:"Inhibitor",tier:4,cost:6e3,category:D,active:!1,icon:"item/inhibitor"},{name:"Leech",tier:4,cost:6e3,category:D,active:!1,icon:"item/leech"},{name:"Phantom Strike",tier:4,cost:6e3,category:D,active:!0,icon:"item/phantom_strike"},{name:"Siphon Bullets",tier:4,cost:6e3,category:D,active:!1,icon:"item/siphon_bullets"},{name:"Unstoppable",tier:4,cost:6e3,category:D,active:!0,icon:"item/unstoppable"},{name:"Veil Walker",tier:4,cost:6e3,category:D,active:!1,icon:"item/veil_walker"},{name:"Ammo Scavenger",tier:1,cost:500,category:A,active:!1,icon:"item/ammo_scavenger"},{name:"Extra Charge",tier:1,cost:500,category:A,active:!1,icon:"item/extra_charge"},{name:"Extra Spirit",tier:1,cost:500,category:A,active:!1,icon:"item/extra_spirit"},{name:"Infuser",tier:1,cost:500,category:A,active:!0,icon:"item/infuser"},{name:"Mystic Burst",tier:1,cost:500,category:A,active:!1,icon:"item/mystic_burst"},{name:"Mystic Reach",tier:1,cost:500,category:A,active:!1,icon:"item/mystic_reach"},{name:"Spirit Strike",tier:1,cost:500,category:A,active:!1,icon:"item/spirit_strike"},{name:"Bullet Resist Shredder",tier:2,cost:1250,category:A,active:!1,icon:"item/bullet_resist_shredder"},{name:"Cold Front",tier:2,cost:1250,category:A,active:!0,icon:"item/cold_front"},{name:"Decay",tier:2,cost:1250,category:A,active:!0,icon:"item/decay"},{name:"Duration Extender",tier:2,cost:1250,category:A,active:!1,icon:"item/duration_extender"},{name:"Improved Cooldown",tier:2,cost:1250,category:A,active:!1,icon:"item/improved_cooldown"},{name:"Mystic Vulnerability",tier:2,cost:1250,category:A,active:!1,icon:"item/mystic_vulnerability"},{name:"Quicksilver Reload",tier:2,cost:1250,category:A,active:!1,icon:"item/quicksilver_reload"},{name:"Slowing Hex",tier:2,cost:1750,category:A,active:!0,icon:"item/slowing_hex"},{name:"Suppressor",tier:2,cost:1250,category:A,active:!1,icon:"item/suppressor"},{name:"Withering Whip",tier:2,cost:1250,category:A,active:!0,icon:"item/withering_whip"},{name:"Arcane Surge",tier:3,cost:4250,category:A,active:!1,icon:"item/arcane_surge"},{name:"Ethereal Shift",tier:3,cost:3e3,category:A,active:!0,icon:"item/ethereal_shift"},{name:"Improved Burst",tier:3,cost:3500,category:A,active:!1,icon:"item/improved_burst"},{name:"Improved Reach",tier:3,cost:3500,category:A,active:!1,icon:"item/improved_reach"},{name:"Improved Spirit",tier:3,cost:3500,category:A,active:!1,icon:"item/improved_spirit"},{name:"Knockdown",tier:3,cost:3e3,category:A,active:!0,icon:"item/knockdown"},{name:"Mystic Slow",tier:3,cost:4250,category:A,active:!1,icon:"item/mystic_slow"},{name:"Rapid Recharge",tier:3,cost:3500,category:A,active:!1,icon:"item/rapid_recharge"},{name:"Silence Glyph",tier:3,cost:3e3,category:A,active:!0,icon:"item/silence_glyph"},{name:"Spirit Snatch",tier:3,cost:3500,category:A,active:!1,icon:"item/spirit_snatch"},{name:"Superior Cooldown",tier:3,cost:4250,category:A,active:!1,icon:"item/superior_cooldown"},{name:"Superior Duration",tier:3,cost:4250,category:A,active:!1,icon:"item/superior_duration"},{name:"Surge of Power",tier:3,cost:3e3,category:A,active:!1,icon:"item/surge_of_power"},{name:"Torment Pulse",tier:3,cost:3e3,category:A,active:!1,icon:"item/torment_pulse"},{name:"Boundless Spirit",tier:4,cost:9700,category:A,active:!1,icon:"item/boundless_spirit"},{name:"Curse",tier:4,cost:6e3,category:A,active:!0,icon:"item/curse"},{name:"Diviner's Kevlar",tier:4,cost:6e3,category:A,active:!1,icon:"item/diviners_kevlar"},{name:"Echo Shard",tier:4,cost:6e3,category:A,active:!0,icon:"item/echo_shard"},{name:"Escalating Exposure",tier:4,cost:7450,category:A,active:!1,icon:"item/escalating_exposure"},{name:"Magic Carpet",tier:4,cost:6e3,category:A,active:!0,icon:"item/magic_carpet"},{name:"Mystic Reverb",tier:4,cost:6e3,category:A,active:!1,icon:"item/mystic_reverb"},{name:"Refresher",tier:4,cost:6e3,category:A,active:!0,icon:"item/refresher"}],Cn=Object.fromEntries(Ss.map(e=>[e.name,e])),th=Object.groupBy(Ss,e=>e.category),xt=Object.fromEntries(Object.entries(th).map(([e,t])=>[e,Object.groupBy(t,n=>n.tier)]));Object.values(xt).forEach(e=>Object.values(e).forEach(t=>t.sort((n,i)=>n.active<i.active?-1:n.active>i.active?1:n.name<i.name?-1:n.name>i.name?1:0)));const ur=[["stat/cooldown","stat/charge","stat/charge_cooldown","stat/duration","stat/range","stat/aoe"],["stat/weapon_damage","stat/spirit_damage","stat/melee","stat/bullet","stat/fire_rate","stat/ammo","stat/reload"],["stat/bullet_armor","stat/bullet_resist_reduction","stat/spirit_armor","stat/spirit_resist_reduction","stat/bullet_shield","stat/spirit_shield"],["stat/move_speed","stat/stamina","stat/move_slow","stat/stun","stat/invisible"],["stat/health","stat/healing","stat/damage_amplification"],["stat/placeholder","stat/ability_point","stat/silence"]];ur.flat();const ks={abrams:["hero/abrams/siphon_life","hero/abrams/shoulder_charge","hero/abrams/infernal_resilience","hero/abrams/seismic_impact"],bebop:["hero/bebop/exploding_uppercut","hero/bebop/sticky_bomb","hero/bebop/hook","hero/bebop/hyper_beam"],dynamo:["hero/dynamo/kinetic_pulse","hero/dynamo/quantum_entanglement","hero/dynamo/rejuvenating_aurora","hero/dynamo/singularity"],grey_talon:["hero/grey_talon/charged_shot","hero/grey_talon/rain_of_arrows","hero/grey_talon/spirit_snare","hero/grey_talon/guided_owl"],haze:["hero/haze/sleep_dagger","hero/haze/smoke_bomb","hero/haze/fixation","hero/haze/bullet_dance"],infernus:["hero/infernus/catalyst","hero/infernus/flame_dash","hero/infernus/afterburn","hero/infernus/concussive_combustion"],ivy:["hero/ivy/kudzu_bomb","hero/ivy/watchers_covenant","hero/ivy/stone_form","hero/ivy/air_drop"],kelvin:["hero/kelvin/frost_grenade","hero/kelvin/ice_path","hero/kelvin/arctic_beam","hero/kelvin/frozen_shelter"],lady_geist:["hero/lady_geist/essence_bomb","hero/lady_geist/life_drain","hero/lady_geist/malice","hero/lady_geist/soul_exchange"],lash:["hero/lash/ground_strike","hero/lash/grapple","hero/lash/flog","hero/lash/death_slam"],mcginnis:["hero/mcginnis/mini_turret","hero/mcginnis/medicinal_specter","hero/mcginnis/spectral_wall","hero/mcginnis/heavy_barrage"],mirage:["hero/mirage/fire_scarabs","hero/mirage/tornado","hero/mirage/djinns_mark","hero/mirage/traveler"],mo_and_krill:["hero/mo_and_krill/scorn","hero/mo_and_krill/burrow","hero/mo_and_krill/sand_blast","hero/mo_and_krill/combo"],paradox:["hero/paradox/pulse_grenade","hero/paradox/time_wall","hero/paradox/kinetic_carbine","hero/paradox/paradoxical_swap"],pocket:["hero/pocket/barrage","hero/pocket/flying_cloak","hero/pocket/enchanters_satchel","hero/pocket/affliction"],seven:["hero/seven/lightning_ball","hero/seven/static_charge","hero/seven/power_surge","hero/seven/storm_cloud"],shiv:["hero/shiv/serrated_knives","hero/shiv/slice_and_dice","hero/shiv/bloodletting","hero/shiv/killing_blow"],vindicta:["hero/vindicta/stake","hero/vindicta/flight","hero/vindicta/crow_familiar","hero/vindicta/assassinate"],viscous:["hero/viscous/splatter","hero/viscous/the_cube","hero/viscous/puddle_punch","hero/viscous/goo_ball"],warden:["hero/warden/alchemical_flask","hero/warden/willpower","hero/warden/binding_word","hero/warden/last_stand"],wraith:["hero/wraith/card_trick","hero/wraith/project_mind","hero/wraith/full_auto","hero/wraith/telekinesis"],yamato:["hero/yamato/power_slash","hero/yamato/flying_strike","hero/yamato/crimson_slash","hero/yamato/shadow_transformation"]};new Set(Object.values(ks).flatMap(e=>e));const nh=(e,t)=>{const n=e.getBoundingClientRect();return t.clientX>n.x&&t.clientX<n.x+n.width&&t.clientY>n.y&&t.clientY<n.y+n.height},Ye=e=>JSON.parse(JSON.stringify(e)),ih=navigator.userAgent.toLowerCase().includes("firefox"),rh=e=>typeof e=="string"||e instanceof String,oh=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,un=e=>!!(e&&e.match(oh)),ah=(e,t)=>e.reduce((n,i)=>((n.length===0||n[n.length-1].length===t)&&n.push([]),n[n.length-1].push(i),n),[]),Os=(e,t)=>{if(!e||!t)return null;const n=(t-e)/1e3;return n<0?"":n<60?`${Math.floor(n)} sec ago`:n<3600?`${Math.floor(n/60)} min ago`:n<172800?`${Math.floor(n/3600)} hr ago`:`${Math.floor(n/86400)} days ago`},y=(e,t)=>g(Ue(e),t),zn=(e,t)=>G(()=>{const n=i=>{e.current&&!e.current.contains(i.target)&&t()};return window.addEventListener("mousedown",n),()=>window.removeEventListener("mousedown",n)},[e,t]),As=()=>{const[e,t]=$(null);return G(()=>{t(Date.now());const n=setInterval(()=>t(Date.now()),1e3);return()=>clearInterval(n)},[t]),e},Cs=e=>G(()=>(window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)),[e]),sh={attributes:!0,childList:!0,subtree:!0,characterData:!0},ch=e=>{const t=document.defaultView.getComputedStyle(e);return e.getBoundingClientRect().height+(parseInt(t.marginTop,10)||0)+(parseInt(t.marginBottom,10)||0)},lh=e=>Array.from(e.children).map(ch).reduce((t,n)=>n+t,0),Be=({className:e,children:t})=>{const n=H("mock-animated-div",e),i=Y(),[r,o]=$(0),a={height:`${r}px`},c=g(()=>{i.current&&(o(lh(i.current)),i.current.parentElement&&setTimeout(()=>{var l,u;return(u=(l=i.current)==null?void 0:l.parentElement)==null?void 0:u.scrollTo(0,0)},0))},[i,o]);return G(()=>{if(c(),i.current){const l=new MutationObserver(c);return l.observe(i.current,sh),()=>l.disconnect()}},[i,c]),Cs(c),s("div",{ref:i,className:n,style:a,children:t})},uh=({down:e,children:t,warning:n,onClose:i})=>{const r=Y(null);zn(r,i);const o=H("mock-tooltip",{"mock-tooltip-up":!e,"mock-tooltip-down":e,"mock-tooltip-warning":n});return s("div",{ref:r,className:o,children:t})},Wn=({renderTooltip:e,direction:t,children:n,warning:i})=>{const[r,o]=$(!1),a=t==="down",c=g(()=>o(h=>!h),[o]),l=g(()=>o(!1),[o]);return s("div",{className:"mock-tooltip-container",children:[s("div",{onMouseDown:c,children:n}),r&&s(uh,{down:a,warning:i,onClose:l,children:e()})]})},dh=["white","grey","orange","green","purple","aqua","red","yellow","cyan"],Pi={"item/basic_magazine":"item/basic_magazine.svg","item/close_quarters":"item/close_quarters.svg","item/headshot_booster":"item/headshot_booster.svg","item/high_velocity_mag":"item/high_velocity_mag.svg","item/hollow_point_ward":"item/hollow_point_ward.svg","item/monster_rounds":"item/monster_rounds.svg","item/rapid_rounds":"item/rapid_rounds.svg","item/restorative_shot":"item/restorative_shot.svg","item/active_reload":"item/active_reload.svg","item/berserker":"item/berserker.svg","item/fleetfoot":"item/fleetfoot.svg","item/kinetic_dash":"item/kinetic_dash.svg","item/long_range":"item/long_range.svg","item/melee_charge":"item/melee_charge.svg","item/mystic_shot":"item/mystic_shot.svg","item/slowing_bullets":"item/slowing_bullets.svg","item/soul_shredder_bullets":"item/soul_shredder_bullets.svg","item/swift_striker":"item/swift_striker.svg","item/alchemical_fire":"item/alchemical_fire.svg","item/burst_fire":"item/burst_fire.svg","item/escalating_resilience":"item/escalating_resilience.svg","item/headhunter":"item/headhunter.svg","item/heroic_aura":"item/heroic_aura.svg","item/hunters_aura":"item/hunters_aura.svg","item/intensifying_magazine":"item/intensifying_magazine.svg","item/point_blank":"item/point_blank.svg","item/pristine_emblem":"item/pristine_emblem.svg","item/sharpshooter":"item/sharpshooter.svg","item/spellslinger_headshots":"item/spellslinger_headshots.png","item/tesla_bullets":"item/tesla_bullets.svg","item/titanic_magazine":"item/titanic_magazine.svg","item/toxic_bullets":"item/toxic_bullets.svg","item/warp_stone":"item/warp_stone.svg","item/crippling_headshot":"item/crippling_headshot.svg","item/frenzy":"item/frenzy.svg","item/glass_cannon":"item/glass_cannon.svg","item/lucky_shot":"item/lucky_shot.svg","item/ricochet":"item/ricochet.svg","item/shadow_weave":"item/shadow_weave.svg","item/silencer":"item/silencer.svg","item/spiritual_overflow":"item/spiritual_overflow.svg","item/vampiric_burst":"item/vampiric_burst.svg","item/enduring_spirit":"item/enduring_spirit.svg","item/extra_health":"item/extra_health.svg","item/extra_regen":"item/extra_regen.svg","item/extra_stamina":"item/extra_stamina.svg","item/healing_rite":"item/healing_rite.svg","item/melee_lifesteal":"item/melee_lifesteal.svg","item/sprint_boots":"item/sprint_boots.svg","item/bullet_armor":"item/bullet_armor.svg","item/bullet_lifesteal":"item/bullet_lifesteal.svg","item/combat_barrier":"item/combat_barrier.svg","item/debuff_reducer":"item/debuff_reducer.svg","item/divine_barrier":"item/divine_barrier.svg","item/enchanters_barrier":"item/enchanters_barrier.svg","item/enduring_speed":"item/enduring_speed.svg","item/healbane":"item/healbane.svg","item/healing_booster":"item/healing_booster.svg","item/healing_nova":"item/healing_nova.svg","item/reactive_barrier":"item/reactive_barrier.svg","item/restorative_locket":"item/restorative_locket.svg","item/return_fire":"item/return_fire.svg","item/spirit_armor":"item/spirit_armor.svg","item/spirit_lifesteal":"item/spirit_lifesteal.svg","item/debuff_remover":"item/debuff_remover.svg","item/fortitude":"item/fortitude.svg","item/improved_bullet_armor":"item/improved_bullet_armor.svg","item/improved_spirit_armor":"item/improved_spirit_armor.svg","item/lifestrike":"item/lifestrike.svg","item/majestic_leap":"item/majestic_leap.svg","item/metal_skin":"item/metal_skin.svg","item/rescue_beam":"item/rescue_beam.svg","item/superior_stamina":"item/superior_stamina.svg","item/colossus":"item/colossus.svg","item/inhibitor":"item/inhibitor.svg","item/leech":"item/leech.svg","item/phantom_strike":"item/phantom_strike.svg","item/siphon_bullets":"item/siphon_bullets.svg","item/unstoppable":"item/unstoppable.svg","item/veil_walker":"item/veil_walker.svg","item/ammo_scavenger":"item/ammo_scavenger.svg","item/extra_charge":"item/extra_charge.svg","item/extra_spirit":"item/extra_spirit.svg","item/infuser":"item/infuser.svg","item/mystic_burst":"item/mystic_burst.svg","item/mystic_reach":"item/mystic_reach.svg","item/spirit_strike":"item/spirit_strike.svg","item/bullet_resist_shredder":"item/bullet_resist_shredder.svg","item/cold_front":"item/cold_front.svg","item/decay":"item/decay.svg","item/duration_extender":"item/duration_extender.svg","item/improved_cooldown":"item/improved_cooldown.svg","item/mystic_vulnerability":"item/mystic_vulnerability.svg","item/quicksilver_reload":"item/quicksilver_reload.svg","item/slowing_hex":"item/slowing_hex.svg","item/suppressor":"item/suppressor.svg","item/withering_whip":"item/withering_whip.svg","item/arcane_surge":"item/arcane_surge.png","item/ethereal_shift":"item/ethereal_shift.svg","item/improved_burst":"item/improved_burst.svg","item/improved_reach":"item/improved_reach.svg","item/improved_spirit":"item/improved_spirit.svg","item/knockdown":"item/knockdown.svg","item/mystic_slow":"item/mystic_slow.svg","item/rapid_recharge":"item/rapid_recharge.svg","item/silence_glyph":"item/silence_glyph.svg","item/spirit_snatch":"item/spirit_snatch.png","item/superior_cooldown":"item/superior_cooldown.svg","item/superior_duration":"item/superior_duration.svg","item/surge_of_power":"item/surge_of_power.svg","item/torment_pulse":"item/torment_pulse.svg","item/boundless_spirit":"item/boundless_spirit.svg","item/curse":"item/curse.svg","item/diviners_kevlar":"item/diviners_kevlar.svg","item/echo_shard":"item/echo_shard.svg","item/escalating_exposure":"item/escalating_exposure.svg","item/magic_carpet":"item/magic_carpet.svg","item/mystic_reverb":"item/mystic_reverb.svg","item/refresher":"item/refresher.svg","hero/abrams/infernal_resilience":"hero/abrams/infernal_resilience.svg","hero/abrams/seismic_impact":"hero/abrams/seismic_impact.svg","hero/abrams/shoulder_charge":"hero/abrams/shoulder_charge.svg","hero/abrams/siphon_life":"hero/abrams/siphon_life.svg","hero/bebop/exploding_uppercut":"hero/bebop/exploding_uppercut.svg","hero/bebop/hook":"hero/bebop/hook.svg","hero/bebop/hyper_beam":"hero/bebop/hyper_beam.svg","hero/bebop/sticky_bomb":"hero/bebop/sticky_bomb.svg","hero/dynamo/kinetic_pulse":"hero/dynamo/kinetic_pulse.svg","hero/dynamo/quantum_entanglement":"hero/dynamo/quantum_entanglement.svg","hero/dynamo/rejuvenating_aurora":"hero/dynamo/rejuvenating_aurora.svg","hero/dynamo/singularity":"hero/dynamo/singularity.svg","hero/grey_talon/charged_shot":"hero/grey_talon/charged_shot.svg","hero/grey_talon/guided_owl":"hero/grey_talon/guided_owl.svg","hero/grey_talon/spirit_snare":"hero/grey_talon/spirit_snare.svg","hero/grey_talon/rain_of_arrows":"hero/grey_talon/rain_of_arrows.svg","hero/haze/bullet_dance":"hero/haze/bullet_dance.svg","hero/haze/fixation":"hero/haze/fixation.svg","hero/haze/sleep_dagger":"hero/haze/sleep_dagger.svg","hero/haze/smoke_bomb":"hero/haze/smoke_bomb.svg","hero/infernus/afterburn":"hero/infernus/afterburn.svg","hero/infernus/catalyst":"hero/infernus/catalyst.svg","hero/infernus/concussive_combustion":"hero/infernus/concussive_combustion.svg","hero/infernus/flame_dash":"hero/infernus/flame_dash.svg","hero/ivy/air_drop":"hero/ivy/air_drop.svg","hero/ivy/kudzu_bomb":"hero/ivy/kudzu_bomb.svg","hero/ivy/stone_form":"hero/ivy/stone_form.svg","hero/ivy/watchers_covenant":"hero/ivy/watchers_covenant.svg","hero/kelvin/arctic_beam":"hero/kelvin/arctic_beam.svg","hero/kelvin/frost_grenade":"hero/kelvin/frost_grenade.svg","hero/kelvin/frozen_shelter":"hero/kelvin/frozen_shelter.svg","hero/kelvin/ice_path":"hero/kelvin/ice_path.svg","hero/lady_geist/essence_bomb":"hero/lady_geist/essence_bomb.svg","hero/lady_geist/life_drain":"hero/lady_geist/life_drain.svg","hero/lady_geist/malice":"hero/lady_geist/malice.svg","hero/lady_geist/soul_exchange":"hero/lady_geist/soul_exchange.svg","hero/lash/death_slam":"hero/lash/death_slam.svg","hero/lash/flog":"hero/lash/flog.svg","hero/lash/grapple":"hero/lash/grapple.svg","hero/lash/ground_strike":"hero/lash/ground_strike.svg","hero/mcginnis/heavy_barrage":"hero/mcginnis/heavy_barrage.svg","hero/mcginnis/medicinal_specter":"hero/mcginnis/medicinal_specter.svg","hero/mcginnis/mini_turret":"hero/mcginnis/mini_turret.svg","hero/mcginnis/spectral_wall":"hero/mcginnis/spectral_wall.svg","hero/mirage/djinns_mark":"hero/mirage/djinns_mark.svg","hero/mirage/fire_scarabs":"hero/mirage/fire_scarabs.svg","hero/mirage/tornado":"hero/mirage/tornado.svg","hero/mirage/traveler":"hero/mirage/traveler.svg","hero/mo_and_krill/burrow":"hero/mo_and_krill/burrow.svg","hero/mo_and_krill/combo":"hero/mo_and_krill/combo.svg","hero/mo_and_krill/sand_blast":"hero/mo_and_krill/sand_blast.svg","hero/mo_and_krill/scorn":"hero/mo_and_krill/scorn.svg","hero/paradox/kinetic_carbine":"hero/paradox/kinetic_carbine.svg","hero/paradox/paradoxical_swap":"hero/paradox/paradoxical_swap.svg","hero/paradox/pulse_grenade":"hero/paradox/pulse_grenade.svg","hero/paradox/time_wall":"hero/paradox/time_wall.svg","hero/pocket/affliction":"hero/pocket/affliction.svg","hero/pocket/barrage":"hero/pocket/barrage.svg","hero/pocket/enchanters_satchel":"hero/pocket/enchanters_satchel.svg","hero/pocket/flying_cloak":"hero/pocket/flying_cloak.svg","hero/seven/lightning_ball":"hero/seven/lightning_ball.svg","hero/seven/power_surge":"hero/seven/power_surge.svg","hero/seven/static_charge":"hero/seven/static_charge.svg","hero/seven/storm_cloud":"hero/seven/storm_cloud.svg","hero/shiv/bloodletting":"hero/shiv/bloodletting.svg","hero/shiv/killing_blow":"hero/shiv/killing_blow.svg","hero/shiv/serrated_knives":"hero/shiv/serrated_knives.svg","hero/shiv/slice_and_dice":"hero/shiv/slice_and_dice.svg","hero/vindicta/assassinate":"hero/vindicta/assassinate.svg","hero/vindicta/crow_familiar":"hero/vindicta/crow_familiar.svg","hero/vindicta/flight":"hero/vindicta/flight.svg","hero/vindicta/stake":"hero/vindicta/stake.svg","hero/viscous/goo_ball":"hero/viscous/goo_ball.svg","hero/viscous/puddle_punch":"hero/viscous/puddle_punch.svg","hero/viscous/splatter":"hero/viscous/splatter.svg","hero/viscous/the_cube":"hero/viscous/the_cube.svg","hero/warden/alchemical_flask":"hero/warden/alchemical_flask.svg","hero/warden/binding_word":"hero/warden/binding_word.svg","hero/warden/last_stand":"hero/warden/last_stand.svg","hero/warden/willpower":"hero/warden/willpower.svg","hero/wraith/card_trick":"hero/wraith/card_trick.svg","hero/wraith/full_auto":"hero/wraith/full_auto.svg","hero/wraith/project_mind":"hero/wraith/project_mind.svg","hero/wraith/telekinesis":"hero/wraith/telekinesis.svg","hero/yamato/crimson_slash":"hero/yamato/crimson_slash.svg","hero/yamato/flying_strike":"hero/yamato/flying_strike.svg","hero/yamato/power_slash":"hero/yamato/power_slash.svg","hero/yamato/shadow_transformation":"hero/yamato/shadow_transformation.svg","stat/cooldown":"stat/cooldown.svg","stat/charge":"stat/charge.svg","stat/charge_cooldown":"stat/charge_cooldown.svg","stat/duration":"stat/duration.svg","stat/range":"stat/range.svg","stat/aoe":"stat/aoe.svg","stat/weapon_damage":"stat/weapon_damage.svg","stat/spirit_damage":"stat/spirit_damage.svg","stat/melee":"stat/melee.svg","stat/bullet":"stat/bullet.svg","stat/fire_rate":"stat/fire_rate.svg","stat/ammo":"stat/ammo.svg","stat/reload":"stat/reload.svg","stat/bullet_armor":"stat/bullet_armor.svg","stat/bullet_resist_reduction":"stat/bullet_resist_reduction.png","stat/spirit_armor":"stat/spirit_armor.svg","stat/spirit_resist_reduction":"stat/spirit_resist_reduction.png","stat/bullet_shield":"stat/bullet_shield.svg","stat/spirit_shield":"stat/spirit_shield.svg","stat/move_speed":"stat/move_speed.svg","stat/stamina":"stat/stamina.svg","stat/move_slow":"stat/move_slow.svg","stat/stun":"stat/stun.svg","stat/invisible":"stat/invisible.svg","stat/health":"stat/health.svg","stat/healing":"stat/healing.svg","stat/damage_amplification":"stat/damage_amplification.svg","stat/placeholder":"stat/placeholder.svg","stat/ability_point":"stat/ability_point.svg","stat/silence":"stat/silence.svg",cancel:"cancel.svg",compress:"compress.svg",dropdown:"dropdown.svg",error:"error.svg",expand:"expand.svg",font:"font.svg",gear:"gear.svg",grip:"grip.svg",hourglass_half:"hourglass_half.svg",plus:"plus.svg",soul:"soul.svg",spirit:"spirit.svg",swap:"swap.svg",trash:"trash.svg",vitality:"vitality.svg",weapon:"weapon.svg"},hh=Object.values(Pi),fh=/^data:/,mh=e=>!!e.match(fh),B=({image:e,large:t,color:n,onMouseDown:i})=>{const r=`mock-icon-${n}`,o=H("mock-icon",{[r]:!!n,"mock-icon-clickable":!!i,"mock-icon-large":!!t}),a=Pi[e]||Pi["stat/placeholder"],c=e&&mh(e)?`url(${e})`:`url("/deadmock/icon/${a}")`;return s("span",{className:o,style:{maskImage:c},onMouseDown:i})},_h=R(({image:e,model:t})=>{const n=y(()=>t.image=e,[e,t]);return s("div",{className:"mock-icon-picker-button",onClick:n,children:s(B,{color:t.color,image:e})})}),ph=R(({color:e,model:t})=>{const n=y(()=>t.color=e,[e,t]);return s("div",{className:"mock-icon-picker-button",onClick:n,children:s(B,{color:e})})}),gh=R(({model:e,resize:t})=>{const n=y(()=>e.large=!e.large,[e]),i=e.large?"compress":"expand";return s("div",{className:"mock-icon-picker",children:[s("div",{children:[t&&s("span",{onClick:n,children:s(B,{color:"white",image:i})}),dh.map(o=>s(ph,{color:o,model:e},o))]}),ur.map((o,a)=>s("div",{children:o.map(c=>s(_h,{image:c,model:e},c))},a))]})}),dr=R(({model:e,resize:t})=>{const n=g(()=>s(gh,{model:e,resize:t}),[e,t]);return s(Wn,{click:!0,direction:"down",renderTooltip:n,children:s("div",{className:"mock-editable-icon",children:s(B,{color:e.color,image:e.image,large:e.large})})})}),Ni=["v1","v2"],pt=Ni[Ni.length-1],vh=e=>!e||(e==null?void 0:e.length)===0,yh=e=>e===!0?1:e===!1||e===null||e===void 0?0:e,Es=(e,t,n)=>{var r;let i=((r=n==null?void 0:n.serialize)==null?void 0:r.call(n))||n;if(Array.isArray(i)&&(i=i.map(o=>Es(e,`${t}[]`,o))),e==="IconModel"){if(t==="image"&&n==="stat/placeholder")return 0;if(t==="color"&&n==="grey")return 0}return e==="ValueModel"&&t==="stat"&&n==="stat"?0:yh(i)},Ds=(e,t,n)=>Array.isArray(t)?e.map(i=>Ds(i,t[0],n)):!t||!t.deserialize?e:t.deserialize(e,n),bh=e=>{if(!Array.isArray(e))return e;let t=e.length-1;for(;e[t]===0;)t--;return e.slice(0,t+1)},ye=(e,t)=>{const n=Array.isArray(t)?{[pt]:t}:t,i=n[pt];e.prototype.serialize=function(){return bh(i.map(([r])=>Es(e.name,r,this[r])))},e.deserialize=(r,o)=>{const a=n[o]||i;if(!Array.isArray(r))return r;const c=r.map((l,u)=>{const[h,d]=a[u];return[h,Ds(l,d,o)]});return Object.fromEntries(c.filter(([,l])=>!vh(l)))}};class hr{constructor(t){v(this,"image","stat/placeholder");v(this,"color","grey");v(this,"large",!1);this.image=(t==null?void 0:t.image)||this.image,this.color=(t==null?void 0:t.color)||this.color,this.large=!!(t!=null&&t.large),le(this)}}ye(hr,[["image"],["color"],["large"]]);const wh=300,fr=()=>s("div",{draggable:!0,className:"mock-drag-list-grip",children:s(B,{color:"grey",image:"grip"})}),Rs=({children:e,index:t,active:n,onStart:i,onEnd:r})=>{const o=H({"mock-drag-list-item":t!==null,"mock-drag-list-item-unused":t===null,"mock-drag-list-item-active":n}),a=g(l=>{i(t),l.stopPropagation()},[t,i]),c=g(l=>{r(l)},[r]);return t===null?s("div",{className:o,children:e}):s("div",{className:o,onDragEnd:c,onDragStart:a,children:e})},Sh=(e,t)=>t?e.x+e.width/2:e.y+e.height/2,kh=(e,t,n)=>{const r=Array.from(t.children).filter(a=>a.classList.contains("mock-drag-list-item")||a.classList.contains("mock-animated-div")&&Array.from(a.children).some(c=>c.classList.contains("mock-drag-list-item"))).map(a=>Sh(a.getBoundingClientRect())),o=n?e.clientX:e.clientY;for(let a=0;a<r.length;a++)if(o<r[a])return a;return r.length},mr=(e,t)=>{const n=H("mock-drag-list-divider",{"mock-drag-list-divider-highlighted":e===t});return s("div",{className:n})},Oh=(e,t)=>{const n=new Set(t),i=[];let r=0,o=0;for(;r<e.length&&o<t.length;)n.has(e[r])?e[r]===t[o]?(i.push(e[r]),++r,++o):(i.push(t[o]),++o):(i.push(e[r]),++r);if(r<e.length){const a=new Set(i);i.push(...e.slice(r).filter(c=>!a.has(c)))}else o<t.length&&i.push(...t.slice(o));return i},Ah=(e,t,n,i,r)=>e.flatMap((o,a)=>[mr(a,n),s(Rs,{active:a===t,index:a,onEnd:r,onStart:i,children:o},o.key)]),Ch=(e,t,n,i,r,o)=>{const a=Object.fromEntries(t.map(l=>[l.key,l]));let c=0;return e.flatMap(l=>{const u=a[l];if(!u)return[s(Be,{},l)];const h=c++;return[mr(h,i),s(Be,{children:s(Rs,{active:h===n,index:h,onEnd:o,onStart:r,children:u})},l)]})},_r=R(({horizontal:e,animated:t,children:n,onMove:i})=>{const r=Y(),[o,a]=$(null),[c,l]=$(null),[,u]=$(null),[h,d]=$([]),[f,m]=$([]),x=g(N=>{u(0),a(N)},[u,a]),j=g(N=>{o!==null&&(r.current&&l(kh(N,r.current,e)),N.preventDefault(),N.stopPropagation())},[o,e,l]),w=g(()=>{o!==null&&u(N=>N+1)},[o,u]),S=g(()=>{o!==null&&u(N=>N<=1?(l(null),null):N-1)},[o,u,l]),C=y(N=>{o!==null&&(c!==null&&(c<o||c>o+1)&&i(z=>{const X=z.splice(o,1);z.splice(c<o?c:c-1,0,...X)}),u(null),l(null),a(null),N.stopPropagation())},[o,c,a,l,i]);G(()=>{if(t){const N=de(n).map(X=>X.key);d(Oh(h,N));const z=new Set(h).difference(new Set(N));if(z.size>0){const X=Date.now()+wh;m(_=>_.concat(Array.from(z).map(P=>({id:P,timestamp:X}))))}}},[h,t,n,d,m]),G(()=>{if(t){let N=!1,z=!1;const X=Date.now();for(;f.length>0&&f[0].timestamp<X;){const _=h.indexOf(f[0].id);_!==-1&&(h.splice(_,1),N=!0),z=!0,f.shift()}if(z&&m(Array.from(f)),N&&d(h),f.length>0){const _=setTimeout(()=>m(P=>Array.from(P)),f[0].timestamp-X);return()=>clearTimeout(_)}}},[h,t,f,d,m]);const I=de(n),V=t?Ch(h,I,o,c,x,C):Ah(I,o,c,x,C);return s("div",{ref:r,className:"mock-drag-list",onDragEnter:w,onDragLeave:S,onDragOver:j,onDrop:C,children:[V,mr(I.length,c)]})}),qt=({children:e,onMouseDown:t,overlap:n})=>{const i=H({"mock-delete-button-overlap":n});return s("div",{className:"mock-deleteable",children:[e,s("span",{children:s("span",{className:i,children:s("span",{className:"mock-delete-button",children:s(B,{color:"red",image:"cancel",onMouseDown:t})})})})]})},He=(e,t)=>e,wt=(e,t,n,i)=>({source:e,cursor:t,end:t+n,data:i}),rt=(e,t,n)=>({source:e,cursor:t,error:n}),xs=He(({source:e,cursor:t})=>t===e.length?wt(e,t,0,null):rt(e,t,"end: more data in stream")),Kt=(...e)=>He(({source:t,cursor:n})=>{const i=[];let r=n;for(let o=0;o<e.length;o++){const a=e[o]({source:t,cursor:r});if(a.error)return rt(t,n,`all[${o}].${a.error}`);r=a.end,i.push(a.data)}return wt(t,n,r-n,i)}),En=(...e)=>He(({source:t,cursor:n})=>{for(const i of e){const r=i({source:t,cursor:n});if(!r.error)return r}return rt(t,n,"any: no match")}),Eh=e=>He(({source:t,cursor:n})=>e({source:t,cursor:n}).error?wt(t,n,0,null):rt(t,n,"not: subparser succeeded")),gt=(e,t)=>He(({source:n,cursor:i})=>{const r=e({source:n,cursor:i});return r.error||(r.data=t(r.data)),r}),Xe=(e,t,n)=>He(({source:i,cursor:r})=>{const o=[];let a=null,c=r,l=0;for(;l<=t;){const u=n({source:i,cursor:c});if(u.error){a=u.error;break}l+=1,c=u.end,o.push(u.data)}return l<e?rt(i,r,`range: found ${l} of ${e}, error: ${a}`):wt(i,r,c-r,o)}),Dh=(e,t)=>Xe(e,e,t),Rh=e=>Xe(0,1/0,e),Dn=e=>He(({source:t,cursor:n})=>t.length>n&&t[n]===e?wt(t,n,1,e):rt(t,n,`char(${e}): no match`)),pr=e=>He(({source:t,cursor:n})=>{const r=t.slice(n).match(e);return!r||r.index!==0?rt(t,n,"regex: no match"):wt(t,n,r[0].length,r)}),xh=e=>t=>{const n=e({source:t,cursor:0});if(n.error)throw new Error(n.error);return n.data},$s=new RegExp("[\\t\\r\\f]|\\p{Zs}","u"),ko=pr($s),Oo=e=>!!e.match($s),$h=new RegExp("\\p{Pc}|\\p{Pd}|\\p{Pe}|\\p{Pf}|\\p{Pi}|\\p{Po}|\\p{Ps}|\\p{Sc}|\\p{Sk}|\\p{Sm}|\\p{So}","u"),Ao=e=>!!e.match($h),Mi=Kt(Xe(0,1/0,ko),Dn(`
`),Xe(0,1/0,ko)),Ph=gt(Kt(Mi,Eh(Mi)),()=>({type:"linebreak"})),Nh=Dh(2,Mi),Mh=/[!"#%&',-/:;<=>?@_`~^$\\.*+()[\]{}|/]/,Th=gt(Kt(Dn("\\"),pr(Mh)),e=>e[1][0]),jh=/[^_*\n\\]+/,Bh=gt(En(Th,gt(pr(jh),e=>e[0])),e=>({type:"text",data:e})),Ih=({source:e,cursor:t})=>{const n=En(Xe(1,1/0,Dn("*")),Xe(1,1/0,Dn("_")))({source:e,cursor:t});if(n.error)return n;const i=e[t-1],r=e[n.end],o="tag",a=n.data.join(""),c=!i||Oo(i)||i===`
`,l=i&&Ao(i),u=!r||Oo(r)||r===`
`,h=r&&Ao(r),d=!u&&(!h||c||l),f=!c&&(!l||u||h),m=d,x=f;return n.data={type:o,data:a,canOpen:m,canClose:x},a[0]!=="*"&&(n.data.canOpen=m&&(!f||l),n.data.canClose=x&&(!d||h)),n},Lh=e=>{const t=Math.min(2,Math.min(e[0].data.length,e[e.length-1].data.length));return{type:t===2?"strong":"em",delims:t,data:e.slice(1,e.length-1)}},Hh=e=>{let t=0;const n={"*":0,_:0};for(;t<e.length;){const i=e[t];if(i.type==="tag"&&i.canClose){let r=null;const o=i.data[0],a=n[o];for(let c=t-1;c>=a;c--){const l=e[c];if(l.type==="tag"&&l.canOpen&&l.data[0]===i.data[0]){if((i.canOpen||l.canClose)&&(l.data.length+i.data.length)%3===0&&(l.data.length%3!==0||i.data.length%3!==0)&&(l.data.length<2||i.data.length<2))continue;r=c;break}}if(r!==null){const c=e[r],l=Lh(e.slice(r,t+1));c.data=c.data.substring(0,c.data.length-l.delims),i.data=i.data.substring(0,i.data.length-l.delims);const u=r+(c.data.length===0?0:1),d=t+(i.data.length===0?1:0)-u;e.splice(u,d,l),t=u}}++t}},Ps=e=>{var n;const t=[];for(let i=0;i<e.data.length;i++){const r=e.data[i];r.type==="tag"||r.type==="text"?((n=t[t.length-1])==null?void 0:n.type)==="text"?t[t.length-1].data+=r.data:t.push({type:"text",data:r.data}):(Array.isArray(r.data)&&Ps(r),t.push(r))}e.data=t},Ns=e=>(e.type==="document"?e.data.forEach(Ns):e.type==="paragraph"&&(Hh(e.data),Ps(e)),e),Vh=gt(Kt(Xe(1,1/0,En(Ih,Bh,Ph)),En(Nh,xs)),e=>({type:"paragraph",data:e[0]})),Fh=gt(Kt(Rh(Vh),xs),e=>Ns({type:"document",data:e[0]})),Ms=xh(Fh),Uh=["muted","normal","bright","purple","orange","green"],me=({italic:e,weight:t,color:n,children:i})=>{const r=`mock-text-color-${n}`,o=H("mock-text",{"mock-text-italic":e,[r]:!!n,"mock-text-thin":t===400,"mock-text-medium":t===500,"mock-text-semibold":t===600,"mock-text-bold":t===700});return s("span",{className:o,children:i})},Gn=e=>s(me,{...e,weight:600}),Je=e=>s(me,{...e,weight:700}),zh={text:{},strong:{weight:700,color:"bright"},emphasis:{italic:!0,color:"muted"}},At=(e,t)=>{if(e.type==="document")return s(U,{children:e.data.map(n=>At(n,t))});if(e.type==="paragraph")return s(U,{children:[e.data.map(n=>At(n,t)),s("br",{})]});if(e.type==="linebreak")return s(U,{children:s("br",{})});if(e.type==="text")return s(me,{...t.text,children:e.data});if(e.type==="em")return s(me,{...t.emphasis,children:e.data.map(n=>At(n,t))});if(e.type==="strong")return s(me,{...t.strong,children:e.data.map(n=>At(n,t))});console.error("invalid node type")},Wh=({text:e,format:t=zh})=>{if(!e)return null;const n=At(Ms(e),t);return s(U,{children:n})},Ts=e=>s(U,{children:e.split(`
`).reduce((t,n)=>t===null?n:s(U,{children:[t,s("br",{}),n]}))}),js=(e,t)=>{t(!0),setTimeout(()=>{e.current.contentEditable="true",e.current.focus(),window.getSelection().selectAllChildren(e.current)},0)},Bs=(e,t,n)=>{t(!1),n(e.target.innerText.replaceAll(/\n+/g,`
`).trim()),e.target.innerText="",e.target.contentEditable="false",e.target.scrollTo({top:0,left:0}),window.getSelection().removeAllRanges()},_e=R(({onChange:e,children:t})=>{const n=Y(null),[i,r]=$(!1),[o,a]=$(null),c=g(()=>{a(n.current.innerText),js(n,r)},[n,r,a]),l=g(d=>{Bs(d,r,e)},[r,e]),u=i?Ts(o):t,h=H("mock-editable-text","mock-text",{"mock-text-color-bright":i});return s("span",{ref:n,className:h,spellCheck:!1,onBlur:l,onMouseDown:i?null:c,children:u})}),gr=R(({text:e,format:t,onChange:n})=>{const i=Y(null),[r,o]=$(!1),a=g(()=>{js(i,o)},[i,o]),c=g(h=>{Bs(h,o,n)},[o,n]),l=r?Ts(e):s(Wh,{format:t,text:e}),u=H("mock-editable-markdown","mock-text",{"mock-text-color-bright":r});return s("div",{ref:i,className:u,spellCheck:!1,onBlur:c,onMouseDown:r?null:a,children:l})}),Ae=({label:e,onClick:t})=>s("div",{className:"mock-sidebar-button",onClick:t,children:[s(Gn,{children:e}),s(B,{color:"bright-green",image:"plus"})]}),qn=({renderButtons:e,children:t})=>s(U,{children:[s("div",{className:"mock-sidebar-buttons",children:s("div",{children:e()})}),t]}),Gh=R(({model:e,color:t})=>{const n=y(()=>e.color=t,[t,e]),i=H("mock-style-picker-color",`mock-text-color-${t}`);return s("div",{className:i,onClick:n})}),qh=[400,500,600,700],Kh=R(({model:e,weight:t})=>{const n=`mock-text-color-${e.color}`,i=H("mock-style-picker-weight",{[n]:!!e.color}),r=y(()=>e.weight=t,[t,e]);return s("div",{className:i,style:{fontWeight:t},onClick:r,children:"Aa"})}),Yh=R(({model:e})=>s("div",{className:"mock-style-picker",children:[s("div",{children:Uh.map(t=>s(Gh,{color:t,model:e},t))}),s("div",{children:qh.map(t=>s(Kh,{model:e,weight:t},t))})]}));class K{constructor(t){v(this,"id");v(this,"icon");v(this,"signed",!1);v(this,"conditional",!1);v(this,"value",0);v(this,"units","");v(this,"stat","stat");v(this,"weight",null);v(this,"color",null);v(this,"spiritScaling",null);this.id=crypto.randomUUID(),this.stat=(t==null?void 0:t.stat)??this.stat,this.value=(t==null?void 0:t.value)||this.value,this.units=(t==null?void 0:t.units)??this.units,this.color=(t==null?void 0:t.color)||this.color,this.weight=(t==null?void 0:t.weight)||this.weight,this.spiritScaling=(t==null?void 0:t.spiritScaling)||this.spiritScaling,this.signed=!!(t!=null&&t.signed),this.conditional=!!(t!=null&&t.conditional),this.icon=new hr(t==null?void 0:t.icon),le(this)}}ye(K,[["icon",hr],["stat"],["value"],["units"],["signed"],["spiritScaling"],["conditional"],["weight"],["color"]]);const Xh=/^(([+-]?)\d*(?:.\d+)?)(.*)$/,Is=R(e=>{const t=(i,r)=>{if(!i&&r>=0)return null;const o=r>=0?"+":"-";return s(Gn,{color:"muted",children:o})},n=i=>i?s(Je,{color:"muted",children:i}):null;return s(U,{children:[t(e.signed,e.value),s(Je,{color:"bright",children:Math.abs(e.value)}),n(e.units)]})}),Yt=R(({model:e})=>{const t=y(n=>{const i=n.match(Xh),r=i&&parseFloat(i[1]);!i||isNaN(r)?console.error("value parse failed",i,n):(e.signed=i[2].length>0,e.value=parseFloat(i[1]),e.units=i[3])},[e]);return s(_e,{onChange:t,children:s(Is,{signed:e.signed,units:e.units,value:e.value})})}),Jh=(e,t,n)=>e?s("div",{className:"mock-spirit-scaling-box",children:s("div",{children:[s("span",{children:"x"}),s(_e,{onChange:n,children:t.spiritScaling})]})}):null,Ls=R(({model:e,detailed:t})=>{const n=y(i=>{const r=parseFloat(i);isNaN(r)?console.error("failed to parse",i):e.spiritScaling=r},[e]);return e.spiritScaling===null||e.spiritScaling===void 0?null:s("div",{className:"mock-spirit-scaling",children:[s("span",{className:"mock-spirit-scaling-icon"}),Jh(t,e,n)]})}),Zh=R(({data:e,onEmpty:t})=>{const n=y(()=>e.addCell(),[e]),i=y(()=>e.addValue(),[e]),r=()=>s(U,{children:[s(Ae,{label:"Cell",onClick:n}),s(Ae,{label:"Value",onClick:i})]}),o=e.cells.map((c,l)=>s("div",{className:"mock-grid-cell",children:[s("div",{className:"mock-grid-cell-position",children:[s(Ls,{detailed:!0,model:c}),s(Qh,{data:e,model:c,onEmpty:t})]}),s("div",{className:"mock-grid-cell-contents",children:s(tf,{model:c})})]},l)),a=e.values.length===0?null:s("div",{className:"mock-grid-values-cell",children:e.values.map((c,l)=>s(ef,{index:l,model:e,onEmpty:t},l))});return s(qn,{renderButtons:r,children:s("div",{className:"mock-grid",children:[o,a]})})}),Qh=R(({data:e,model:t,onEmpty:n})=>{const i=y(()=>{const c=e.cells.indexOf(t);c===-1?console.error("grid cell not found",t):(e.removeCell(c),n&&e.cells.length===0&&e.values.length===0&&n())},[e,t,n]),r=y(()=>{const c=t.spiritScaling===null||t.spiritScaling===void 0;t.spiritScaling=c?0:null},[t]),o=y(()=>t.conditional=!t.conditional,[t]),a=g(()=>s(Yh,{model:t}),[t]);return s("div",{className:"mock-grid-cell-hover-buttons",children:[s(B,{color:"red",image:"cancel",onMouseDown:i}),s(Wn,{click:!0,direction:"up",renderTooltip:a,children:s(B,{color:"white",image:"font"})}),s(B,{color:"purple",image:"spirit",onMouseDown:r}),s(B,{color:"white",image:"hourglass_half",onMouseDown:o})]})}),ef=R(({model:e,index:t,onEmpty:n})=>{const i=e.values[t],r=y(a=>i.stat=a,[i]),o=y(()=>{e.removeValue(t),e.cells.length===0&&e.values.length===0&&n()},[t,e,n]);return s("div",{className:"mock-grid-values-cell-item",children:s(qt,{onMouseDown:o,children:[s("span",{className:"mock-grid-values-cell-value",children:[s(dr,{model:i.icon}),s(Yt,{model:i})]}),s(_e,{onChange:r,children:s(me,{children:i.stat})})]})})}),tf=R(({model:e})=>{const t=y(n=>e.stat=n,[e]);return s(U,{children:[s("div",{className:"mock-grid-cell-value",children:[s(dr,{resize:!0,model:e.icon}),s(Yt,{model:e})]}),s(_e,{onChange:t,children:s(me,{color:e.color||"bright",weight:e.weight||600,children:e.stat})}),e.conditional?s(Gn,{italic:!0,color:"muted",children:"Conditional"}):null]})});class Xt{constructor(t){v(this,"cells",[]);v(this,"values",[]);var n,i;this.cells=((n=t==null?void 0:t.cells)==null?void 0:n.map(r=>new K(r)))||this.cells,this.values=((i=t==null?void 0:t.values)==null?void 0:i.map(r=>new K(r)))||this.values,le(this)}addCell(t){this.cells.push(new K(t))}removeCell(t){this.cells.splice(t,1)}addValue(t){this.values.push(new K(t))}removeValue(t){this.values.splice(t,1)}}ye(Xt,[["cells",[K]],["values",[K]]]);const nf=R(({details:e,section:t})=>{const n=y(()=>{e.removeSection(t)},[e,t]),i=y(o=>{o.length===0?n():t.markdownData=o},[t,n]),r=t.gridData?s(Zh,{data:t.gridData,onEmpty:n}):s(gr,{text:t.markdownData,onChange:i});return s("div",{className:"mock-details-section",children:[s(fr,{}),r]})}),Hs=R(({model:e})=>{const t=y(()=>e.addMarkdownSection(),[e]),n=y(()=>e.addGridSection(),[e]),i=y(a=>e.description=a,[e]),r=y(a=>a(e.sections),[e]),o=g(()=>s(U,{children:[s(Ae,{label:"Markdown",onClick:t}),s(Ae,{label:"Grid",onClick:n})]}),[n,t]);return s(qn,{renderButtons:o,children:s("div",{className:"mock-details",children:[s("div",{className:"mock-details-description",children:s(gr,{text:e.description,onChange:i})}),s(_r,{onMove:r,children:e.sections.map(a=>s(nf,{details:e,section:a},a.id))})]})})}),Vs={gridData:{cells:[{}],values:[{}]}},Fs="Insert **markdown** _here_.",Us={markdownData:Fs};class $t{constructor(t){v(this,"id");v(this,"markdownData",null);v(this,"gridData",null);this.id=crypto.randomUUID(),this.markdownData=(t==null?void 0:t.markdownData)||null,this.gridData=t!=null&&t.gridData?new Xt(t.gridData):null,!this.markdownData&&!this.gridData&&(this.markdownData=Us.markdownData),le(this)}}ye($t,[["gridData",Xt],["markdownData"]]);class Jt{constructor(t){v(this,"description",Fs);v(this,"sections",[]);var n;this.description=(t==null?void 0:t.description)??this.description,this.sections=((n=t==null?void 0:t.sections)==null?void 0:n.map(i=>new $t(i)))||this.sections,le(this)}addMarkdownSection(){this.sections.push(new $t(Us))}addGridSection(){this.sections.push(new $t(Vs))}removeSection(t){const n=this.sections.indexOf(t);n!==-1&&this.sections.splice(n,1)}}ye(Jt,[["description"],["sections",[$t]]]);const on=R(({model:e,value:t})=>{const n=y(()=>e.removeStat(t),[e,t]);return t?s(qt,{overlap:!0,onMouseDown:n,children:s("div",{className:"mock-ability-stat",children:[s(dr,{model:t.icon}),s(Yt,{model:t})]})}):null}),rf=e=>e.reduce((t,n)=>(["charges","chargeCooldown","cooldown"].includes(n.stat)?t[n.stat]=n:t.remainder.push(n),t),{remainder:[]}),of=R(({model:e})=>{const t=y(d=>e.name=d,[e]),n=y(()=>e.addStat(),[e]),i=y(()=>{e.addStat({icon:{image:"stat/cooldown"},value:1,units:"s",signed:!1,stat:"cooldown"})},[e]),r=y(()=>{e.addStat({icon:{image:"stat/charge"},value:1,units:"",signed:!1,stat:"charges"}),e.addStat({icon:{image:"stat/charge_cooldown"},value:1,units:"s",signed:!1,stat:"chargeCooldown"})},[e]),{charges:o,chargeCooldown:a,cooldown:c,remainder:l}=rf(e.stats),u=()=>s(U,{children:[s(Ae,{label:"Stat",onClick:n}),c?null:s(Ae,{label:"Cooldown",onClick:i}),o&&a?null:s(Ae,{label:"Charges",onClick:r})]}),h=()=>!o&&!a?null:s("div",{className:"mock-ability-stat-group",children:[s(on,{model:e,value:o}),s(on,{model:e,value:a})]});return s(qn,{renderButtons:u,children:s("div",{className:"mock-ability-header",children:[s("div",{className:"mock-ability-header-left",children:[s("div",{className:"mock-ability-header-title",children:s(_e,{onChange:t,children:e.name})}),s("div",{className:"mock-ability-header-misc-stats",children:l.map((d,f)=>s(on,{model:e,value:d},f))})]}),s("div",{className:"mock-ability-header-right",children:[h(),s(on,{model:e,value:c})]})]})})}),af=[1,2,5],sf=/^[+-]?\*?\*?[+-]?[0-9.]+\s*[A-z/%]*\*?\*?\n[A-z ]+$/,cf={text:{},strong:{weight:700},emphasis:{weight:500,color:"muted",italic:!0}},lf={text:{},strong:{weight:700,color:"bright"},emphasis:{weight:500,color:"muted",italic:!0}},uf=R(({active:e,model:t,tier:n})=>{const i=H("mock-ability-upgrade",{"mock-ability-upgrade-inactive":!e}),r=y(l=>t.upgrades[n]=l,[t,n]),o=!!t.upgrades[n].match(sf),a=o?lf:cf,c=H("mock-ability-upgrade-text",{"mock-ability-upgrade-value":o});return s("div",{className:i,children:[s("div",{className:"mock-ability-upgrade-cost",children:[s(B,{color:"purple",image:"stat/ability_point"}),s(Je,{children:af[n]})]}),s("div",{className:c,children:s(gr,{format:a,text:t.upgrades[n],onChange:r})})]})}),zs=R(({model:e})=>s("div",{className:"mock-ability",children:[s(Be,{className:"mock-ability-header-animated",children:s(of,{model:e})}),s("div",{className:"mock-ability-body-background",children:[s("div",{className:"mock-ability-body-noise"}),s("div",{className:"mock-ability-body",children:[s(Be,{children:s(Hs,{model:e.details})}),s(Be,{className:"mock-ability-upgrades-animated",children:s("div",{className:"mock-ability-upgrades",children:e.upgrades.map((t,n)=>s(uf,{model:e,tier:n},n))})})]})]})]}));class Ze{constructor(t){v(this,"id");v(this,"category","ability");v(this,"name","");v(this,"stats",[]);v(this,"upgrades",["","",""]);v(this,"details",null);var n;this.id=(t==null?void 0:t.id)||crypto.randomUUID(),this.name=(t==null?void 0:t.name)||this.name,this.stats=((n=t==null?void 0:t.stats)==null?void 0:n.map(i=>new K(i)))||this.stats,this.upgrades=Ye((t==null?void 0:t.upgrades)||this.upgrades),this.details=new Jt(t==null?void 0:t.details),le(this)}addStat(t){this.stats.push(new K(t))}removeStat(t){const n=this.stats.indexOf(t);n!==-1&&this.stats.splice(n,1)}}ye(Ze,{v1:[["category"],["name"],["stats",[K]],["description"],["sections",[Xt]],["upgrades"]],v2:[["category"],["name"],["stats",[K]],["details",Jt],["upgrades"]]});function St(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function df(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const i=St(n);return(r,o)=>i.then(a=>o(a.transaction(t,r).objectStore(t)))}let ai;function Kn(){return ai||(ai=df("keyval-store","keyval")),ai}function hf(e,t=Kn()){return t("readonly",n=>St(n.get(e)))}function ff(e,t,n=Kn()){return n("readwrite",i=>(i.put(t,e),St(i.transaction)))}function mf(e,t=Kn()){return t("readwrite",n=>(n.delete(e),St(n.transaction)))}function _f(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},St(e.transaction)}function pf(e=Kn()){return e("readonly",t=>{if(t.getAllKeys)return St(t.getAllKeys());const n=[];return _f(t,i=>n.push(i.key)).then(()=>n)})}const Zt=Pn(null),Ws=e=>new Promise(t=>{const n=new FileReader;n.onload=i=>t(i.target.result),n.readAsDataURL(e)});class gf{constructor(){v(this,"data");this.data={}}store(t){return t.key=crypto.randomUUID(),t.timestamp=Date.now(),this.data[t.key]=Promise.resolve(t),ff(t.key,t).then(()=>t.key)}retrieve(t){return this.data[t]?this.data[t]:hf(t).then(n=>{if(!n)throw new Error(`file data not found for key: ${t}`);return n})}remove(t){return mf(t).then(()=>delete this.data[t])}list(){return pf()}}class Co{constructor(t,n){v(this,"_type");v(this,"_cache");this._type=t,this._cache=n}store(t){return this._cache.store({type:this._type,file:t})}retrieve(t){return this._cache.retrieve(t).then(n=>{if(n.type!==this._type)throw new Error(`expected file of type ${this._type} but found ${n.type}`);return Ws(n.file)})}remove(t){return this._cache.remove(t)}list(){return this._cache.list().then(t=>Promise.all(t.map(n=>this._cache.retrieve(n))).then(n=>t.filter((i,r)=>n[r].type===this._type)))}}class vf{constructor(){this._cache=new gf,this.portrait=new Co("portrait",this._cache),this.icon=new Co("icon",this._cache)}}const Yn=({children:e,id:t})=>{const n=re(Zt),[i,r]=$(null);G(()=>{un(t)?n._cache.retrieve(t).then(c=>Ws(c.file)).then(c=>r(c)).catch(c=>{r("error"),console.error("error loading image file",c)}):r(null)},[t,n,r]);const o=un(t)?i:t,a=un(t)&&!i?s(bs,{color:e.props.color}):Vi(e,{image:o});return s("span",{className:"mock-stored-image",children:a})},yf=({children:e,onDrop:t,type:n})=>{const[i,r]=$(!1),o=re(Zt),a=g(d=>{const f=d.dataTransfer.items[0];d.preventDefault(),f.kind==="file"&&o[n].store(f.getAsFile()).then(t).catch(m=>console.error("failed to store file",m)),r(!1)},[o,n,t,r]),c=g(d=>{d.preventDefault()},[]),l=g(()=>{r(!0)},[r]),u=g(()=>{r(!1)},[r]),h=H("mock-file-drop-zone-icon",{"mock-file-drop-zone-icon-hover":i});return s("div",{className:"mock-file-drop-zone",children:[s("div",{className:h,onDragEnter:l,onDragLeave:u,onDragOver:c,onDrop:a}),e]})},vr=({children:e,duration:t,image:n,iconColor:i,onComplete:r})=>{const[o,a]=$(null),c=g(()=>{a(d=>(clearTimeout(d),setTimeout(r,t)))},[t,r,a]),l=g(()=>{a(d=>(clearTimeout(d),null))},[a]),u=H("mock-hold-timer-icon",{"mock-hold-timer-icon-animating":!!o}),h={animationDuration:`${t}ms`};return s("div",{className:"mock-hold-timer",onMouseDown:c,onMouseLeave:l,onMouseUp:l,children:[s("div",{children:e}),s("div",{className:u,children:[s("div",{className:"mock-hold-timer-circle",style:h,children:s("svg",{viewBox:"0 0 36 36",children:s("circle",{cx:"18",cy:"18",fill:"none",r:"15.91",stroke:"white",transform:"rotate(-90, 18 18)"})})}),s(B,{color:i,image:n})]})]})},bf={portrait:["dynamo.webp"]},wf=({onUpload:e,type:t})=>{const n=re(Zt),i=g(o=>{o.stopPropagation()},[]),r=g(o=>{o.stopPropagation(),Promise.all(Array.from(o.target.files).map(a=>n[t].store(a))).then(a=>{e(a[0])}).catch(a=>console.error("failed to store selected files",a))},[n,t,e]);return s("div",{className:"mock-image-dialog-upload",children:[s("label",{htmlFor:"image-upload",children:"Select File"}),s("input",{multiple:!0,accept:"image/*",id:"image-upload",name:"image-upload",type:"file",onCancel:i,onChange:r})]})},Sf=({id:e,children:t,onDelete:n})=>{const i=g(()=>n(e),[e,n]);return s("div",{className:"mock-image-modal-deleteable",children:[s(vr,{duration:1e3,iconColor:"red",image:"cancel",onComplete:i}),t]})},Gs=({type:e,component:t,onChange:n,onApply:i})=>{const r=t,[o,a]=$([]),c=re(Zt),l=g(d=>{n(d),c[e].list().then(f=>a(f))},[e,a,n,c]),u=g(d=>{c[e].remove(d).then(()=>c[e].list().then(f=>a(f)))},[e,a,c]);G(()=>{c[e].list().then(d=>a(d))},[e,a,c]);const h=bf[e]||[];return s(U,{children:[s(wf,{type:e,onUpload:l}),o.map(d=>s(Sf,{id:d,onDelete:u,children:s(r,{id:d,onApply:i,onChange:n})},d)),h.map(d=>s(r,{id:d,onApply:i,onChange:n},d))]})},kf=({label:e,active:t,onChange:n})=>{const i=H("mock-image-modal-mode",{"mock-image-modal-mode-active":t}),r=g(()=>n(e),[e,n]);return s("div",{className:i,onClick:r,children:e})},qs=({modes:e,active:t,onChange:n})=>s("div",{className:"mock-image-modal-header",children:s("div",{className:"mock-image-modal-modes",children:e.map(i=>s(kf,{active:t===i,label:i,onChange:n},i))})}),Ks=({id:e,onChange:t,onApply:n})=>{const i=g(()=>t(e),[e,t]),r=g(()=>n(e),[e,n]);return s(vs,{onClick:i,onDoubleClick:r,children:s("span",{className:"mock-icon-dialog-image-button",children:s(Yn,{id:e,children:s(B,{color:"dark-grey"})})})})},Of=({groups:e,onChange:t,onApply:n})=>s(U,{children:e.map((i,r)=>s("div",{children:i.map(o=>s(Ks,{id:o,onApply:n,onChange:t},o))},r))}),yr={ability:Object.values(ks),item:Object.values(xt).map(e=>[1,2,3,4].map(t=>e[t].map(n=>n.icon))).flat(),other:ur},Af=Object.keys(yr).concat(["custom"]),Cf=e=>Object.entries(yr).filter(([,t])=>t.some(n=>n.includes(e))).map(([t])=>t)[0]||"custom",Ef=({image:e,onChange:t,onClose:n})=>{const[i,r]=$(e),[o,a]=$(()=>Cf(e)),c=g(f=>a(f),[a]),l=g(()=>{n()},[n]),u=g(()=>{t(i)},[i,t]),h=g(f=>{t(f)},[t]);return s("div",{className:"mock-image-modal",children:[s(qs,{active:o,modes:Af,onChange:c}),s("div",{className:"mock-image-modal-body",children:[s("div",{className:"mock-left-scroll",children:s("div",{className:"mock-icon-dialog-images",children:o==="custom"?s(Gs,{component:Ks,type:"icon",onApply:h,onChange:r}):s(Of,{groups:yr[o],onApply:h,onChange:r})},o)}),s("div",{className:"mock-image-dialog-preview",children:s("div",{className:"mock-image-dialog-preview-icon",children:s(Yn,{id:i,children:s(B,{color:"dark-grey"})},i)})})]}),s("div",{className:"mock-image-modal-footer",children:[s("div",{className:"mock-image-modal-cancel",onClick:l,children:"Cancel"}),s("div",{className:"mock-image-modal-apply",onClick:u,children:"Apply"})]})]})},Df=({image:e})=>{if(e==="error")return s(B,{color:"orange",image:"error"});const t={backgroundImage:`url("${e}")`};return s("div",{className:"mock-hero-portrait",style:t})},br=({id:e})=>s(Yn,{id:e,children:s(Df,{})}),Rf=({id:e,onChange:t,onApply:n})=>{const i=g(()=>t(e),[e,t]),r=g(()=>n(e),[e,n]);return s(vs,{onClick:i,onDoubleClick:r,children:s("div",{className:"mock-portrait-button",children:s(br,{id:e})})})},Eo="Custom Portrait",xf=({image:e,onChange:t,onClose:n})=>{const[i,r]=$(e),o=g(()=>{n()},[n]),a=g(()=>{t(i)},[i,t]),c=g(l=>{t(l)},[t]);return s("div",{className:"mock-image-modal",children:[s(qs,{active:Eo,modes:[Eo]}),s("div",{className:"mock-image-modal-body",children:[s("div",{className:"mock-left-scroll",children:s("div",{className:"mock-portrait-dialog-images",children:s(Gs,{component:Rf,type:"portrait",onApply:c,onChange:r})})}),s("div",{className:"mock-image-dialog-preview",children:s(br,{id:i})},i)]}),s("div",{className:"mock-image-modal-footer",children:[s("div",{className:"mock-image-modal-cancel",onClick:o,children:"Cancel"}),s("div",{className:"mock-image-modal-apply",onClick:a,children:"Apply"})]})]})},$f=({image:e,onClose:t,onChange:n,type:i})=>{const r=Y(),o=g(c=>{c.stopPropagation(),r.current&&!nh(r.current,c)&&t()},[r,t]);return G(()=>{const{current:c}=r;if(c)return c.showModal(),()=>c.close()},[r]),s("dialog",{ref:r,className:"mock-image-dialog",onCancel:t,onClick:o,children:i==="icon"?s(Ef,{image:e,onChange:n,onClose:t}):s(xf,{image:e,onChange:n,onClose:t})})},Ys=({children:e,image:t,onChange:n,type:i})=>{const[r,o]=$(!1),a=g(()=>o(!0),[o]),c=g(()=>o(!1),[o]),l=g(u=>{o(!1),n(u)},[o,n]);return s("div",{className:"mock-image-modal-trigger",onClick:a,children:[s("div",{className:"mock-image-modal-overlay"}),r&&s($f,{image:t,type:i,onChange:l,onClose:c}),s(yf,{type:i,onDrop:n,children:e})]})};class wr{constructor(t){v(this,"id","");v(this,"image","");this.id=(t==null?void 0:t.id)||this.id,this.image=(t==null?void 0:t.image)||this.image,le(this)}}ye(wr,[["id"],["image"]]);class Sr{constructor(t){v(this,"label","");v(this,"color","");v(this,"stats",[]);var n;this.label=(t==null?void 0:t.label)||this.label,this.color=(t==null?void 0:t.color)||this.color,this.stats=((n=t==null?void 0:t.stats)==null?void 0:n.map(i=>new K(i)))||this.stats,le(this)}}ye(Sr,[["label"],["color"],["stats",[K]]]);class kr{constructor(t){v(this,"id");v(this,"category","hero");v(this,"name","");v(this,"tagline","");v(this,"description","");v(this,"portrait","");v(this,"statGroups",[]);v(this,"abilities",[]);var n,i;this.id=(t==null?void 0:t.id)||crypto.randomUUID(),this.name=(t==null?void 0:t.name)||this.name,this.tagline=(t==null?void 0:t.tagline)||this.tagline,this.description=(t==null?void 0:t.description)||this.description,this.portrait=(t==null?void 0:t.portrait)||this.portrait,this.statGroups=((n=t==null?void 0:t.statGroups)==null?void 0:n.map(r=>new Sr(r)))||this.statGroups,this.abilities=((i=t==null?void 0:t.abilities)==null?void 0:i.map(r=>new wr(r)))||this.abilities,le(this)}addStat(t){this.stats.push(new K(t))}removeStat(t){const n=this.stats.indexOf(t);n!==-1&&this.stats.splice(n,1)}}ye(kr,[["category"],["name"],["tagline"],["description"],["portrait"],["statGroups",[Sr]],["abilities",[wr]]]);const Pf={active:!1,cooldown:6,details:{sections:[Vs]}};class Rn{constructor(t){v(this,"id");v(this,"active",!1);v(this,"cooldown",0);v(this,"details",null);this.id=crypto.randomUUID(),this.active=!!(t!=null&&t.active),this.cooldown=(t==null?void 0:t.cooldown)||this.cooldown,this.details=new Jt(t==null?void 0:t.details),le(this)}}ye(Rn,{v1:[["description"],["sections",[Xt]],["active"],["cooldown"]],v2:[["details",Jt],["active"],["cooldown"]]});class Or{constructor(t){v(this,"id");v(this,"category","weapon");v(this,"name","");v(this,"tier",1);v(this,"components",[]);v(this,"stats",[]);v(this,"effects",[]);var n,i;this.id=t&&t.id||crypto.randomUUID(),this.category=(t==null?void 0:t.category)||this.category,this.name=(t==null?void 0:t.name)||this.name,this.tier=(t==null?void 0:t.tier)||this.tier,this.components=Ye((t==null?void 0:t.components)||this.components),this.stats=((n=t==null?void 0:t.stats)==null?void 0:n.map(r=>new K(r)))||this.stats,this.effects=((i=t==null?void 0:t.effects)==null?void 0:i.map(r=>new Rn(r)))||this.effects,le(this)}get cost(){return eh[this.tier]+this.components.reduce((t,n)=>{var i;return t+((i=Cn[n])==null?void 0:i.cost)},0)}get componentInfo(){return this.components.map(t=>Cn[t])}addComponent(t){this.components.push(t||"Extra Health")}removeComponent(t){this.components.splice(t,1)}addStat(t){this.stats.push(new K({signed:!0,...t}))}removeStat(t){const n=this.stats.indexOf(t);n!==-1&&this.stats.splice(n,1)}addEffect(t){this.effects.push(new Rn({...Ye(Pf),...t}))}removeEffect(t){const n=this.effects.indexOf(t);n!==-1&&this.effects.splice(n,1)}}ye(Or,[["category"],["name"],["tier"],["components"],["stats",[K]],["effects",[Rn]]]);const Nf=e=>e.map(t=>rh(t)?{markdownData:t}:{gridData:t}),Do=e=>{const{description:t}=e,n=Nf(e.sections);e.details={description:t,sections:n},delete e.description,delete e.sections},Ro={v1:e=>(e.category==="ability"?Do(e):e.effects&&e.effects.forEach(Do),e)},Xs=(e,t)=>{if(t===pt)return e;if(!Ro[t])throw new Error(`unknown version: ${t}`);return Ro[t](Ye(e))},Mf=e=>{if(e==="ability")return Ze;if(e==="hero")return kr;if(ws.includes(e))return Or;throw new Error(`unrecognized model category: ${e}`)},Tf=(e,t)=>{const n=Mf(e[0]);return Xs(n.deserialize(e,t),t)},Ti="version",dn="history",jf=[Ti,dn],ot=Pn(null);class Bf{constructor(t){this._storage=(t==null?void 0:t.storage)||window.localStorage}_writeVersion(){this._storage.setItem(Ti,pt)}migrate(){const t=this._storage.getItem(Ti);if(t&&t!==pt)if(Ni.includes(t)){const n=this._storage.length;for(let i=0;i<n;i++){const r=this._storage.key(i);if(!jf.includes(r)){const o=JSON.parse(this._storage.getItem(r));this._storage.setItem(r,JSON.stringify(Xs(o,t)))}}}else console.error("unsupported stored data version in localStorage",t);this._writeVersion()}history(){const t=this._storage.getItem(dn);return t&&JSON.parse(t)||[]}save(t){const n=this.history(),i=n.findIndex(r=>r.id===t.id);i>=0&&n.splice(i,1),n.unshift({id:t.id,category:t.category,name:t.name,timestamp:Date.now()}),this._storage.setItem(dn,JSON.stringify(n)),this._storage.setItem(t.id,JSON.stringify(t))}load(t){const n=this._storage.getItem(t);return n?JSON.parse(n):null}remove(t){const n=this.history().filter(i=>i.id!==t);this._storage.setItem(dn,JSON.stringify(n)),this._storage.removeItem(t)}clear(){const t=[],n=this._storage.length;for(let i=0;i<n;i++){const r=this._storage.key(i);t.push(r)}t.forEach(i=>this._storage.removeItem(i)),this._writeVersion()}}const If={category:"weapon",name:"Heroic Aura",tier:3,components:[],stats:[{value:20,units:"%",signed:!0,stat:"Bullet Lifesteal"},{value:150,signed:!0,stat:"Bonus Health"},{value:1,units:" m/s",signed:!0,stat:"Move Speed"}],effects:[{active:!1,details:{description:"Provides **Fire Rate** to nearby player minions.",sections:[{gridData:{cells:[{icon:{image:"stat/fire_rate",color:"orange"},value:40,units:"%",stat:"Minions Fire Rate",signed:!0,conditional:!0}],values:[{value:20,units:"m",stat:"Radius"}]}}]}},{active:!0,cooldown:32,details:{description:"Provides bonus **Movement Speed** and **Fire Rate** to you and nearby allies.",sections:[{gridData:{cells:[{icon:{image:"stat/move_speed",color:"grey"},value:2,units:"m/s",stat:"Movement Speed",signed:!0,conditional:!0},{icon:{image:"stat/fire_rate",color:"orange"},value:25,units:"%",stat:"Fire Rate",signed:!0,conditional:!0}],values:[{value:30,units:"m",stat:"Active Radius"},{value:6,units:"s",stat:"Duration"}]}}]}}]},Lf=["weapon","Heroic Aura",3,[],[[[],"Bullet Lifesteal",20,"%",1],[[],"Bonus Health",150,"",1],[[],"Move Speed",1," m/s",1]],[[["Provides **Fire Rate** to nearby player minions.",[[[[[["stat/fire_rate","orange"],"Minions Fire Rate",40,"%",1,0,1]],[[[],"Radius",20,"m"]]]]]]],[["Provides bonus **Movement Speed** and **Fire Rate** to you and nearby allies.",[[[[[["stat/move_speed"],"Movement Speed",2,"m/s",1,0,1],[["stat/fire_rate","orange"],"Fire Rate",25,"%",1,0,1]],[[[],"Active Radius",30,"m"],[[],"Duration",6,"s"]]]]]],1,32]]],Hf={category:"weapon",name:"Hollow Point Ward",tier:1,stats:[{value:95,stat:"Spirit Shield Health",signed:!0},{value:4,stat:"Spirit Power",signed:!0}],effects:[{active:!1,details:{description:"When you are **above 65% health**, deal additional **Weapon Damage**.",sections:[{gridData:{cells:[{icon:{image:"stat/weapon_damage",color:"orange"},value:20,units:"%",stat:"Weapon Damage",color:"orange",signed:!0,conditional:!0}]}}]}}]},Vf=["weapon","Hollow Point Ward",1,[],[[[],"Spirit Shield Health",95,"",1],[[],"Spirit Power",4,"",1]],[[["When you are **above 65% health**, deal additional **Weapon Damage**.",[[[[[["stat/weapon_damage","orange"],"Weapon Damage",20,"%",1,0,1,0,"orange"]],[]]]]]]]],Ff={category:"spirit",name:"Slowing Hex",tier:2,components:["Enduring Spirit"],stats:[{value:10,units:"%",stat:"Spirit Lifesteal",signed:!0},{value:5,stat:"Spirit Power",signed:!0},{value:75,stat:"Bonus Health",signed:!0}],effects:[{active:!0,cooldown:26,details:{description:`Deals **Spirit Damage**, **Slows** targets movement and dashes.  Also **Silences their movement-based items and abilities.**
_Does not affect target's stamina usage._`,sections:[{gridData:{cells:[{icon:{image:"stat/spirit_damage",color:"purple",large:!0},value:80,stat:"Damage",color:"purple"},{icon:{image:"stat/move_slow"},value:20,units:"%",stat:"Movement Slow",conditional:!0},{icon:{image:"stat/move_slow"},value:-30,units:"%",stat:"Dash Distance",signed:!0,conditional:!0}],values:[{value:29,units:"m",stat:"Cast Range"},{value:3,units:"s",stat:"Duration"}]}}]}}]},Uf=["vitality","Return Fire",2,[],[[[],"Bonus Health",125,"",1],[[],"Spirit Power",9,"",1]],[[["Automatically **fire a bullet** towards any attacker who damages you with their abilities or weapon.",[[[[[["stat/weapon_damage","orange",1],"Bullet Damage Returned",60,"%",0,0,0,0,"orange"],[["stat/spirit_damage","purple",1],"Spirit Damage Returned",30,"%",0,0,0,0,"purple"],[["stat/bullet_shield","orange"],"Bullet Resist",25,"%",1,0,1]],[[[],"Duration",7,"s"]]]]]],1,25]]],zf={category:"vitality",name:"Return Fire",tier:2,stats:[{value:125,stat:"Bonus Health",signed:!0},{value:9,stat:"Spirit Power",signed:!0}],effects:[{active:!0,cooldown:25,details:{description:"Automatically **fire a bullet** towards any attacker who damages you with their abilities or weapon.",sections:[{gridData:{cells:[{icon:{image:"stat/weapon_damage",color:"orange",large:!0},value:60,units:"%",stat:"Bullet Damage Returned",color:"orange"},{icon:{image:"stat/spirit_damage",color:"purple",large:!0},value:30,units:"%",stat:"Spirit Damage Returned",color:"purple"},{icon:{image:"stat/bullet_shield",color:"orange"},value:25,units:"%",stat:"Bullet Resist",signed:!0,conditional:!0}],values:[{value:7,units:"s",stat:"Duration"}]}}]}}]},Wf=["spirit","Slowing Hex",2,["Enduring Spirit"],[[[],"Spirit Lifesteal",10,"%",1],[[],"Spirit Power",5,"",1],[[],"Bonus Health",75,"",1]],[[[`Deals **Spirit Damage**, **Slows** targets movement and dashes.  Also **Silences their movement-based items and abilities.**
_Does not affect target's stamina usage._`,[[[[[["stat/spirit_damage","purple",1],"Damage",80,"",0,0,0,0,"purple"],[["stat/move_slow"],"Movement Slow",20,"%",0,0,1],[["stat/move_slow"],"Dash Distance",-30,"%",1,0,1]],[[[],"Cast Range",29,"m"],[[],"Duration",3,"s"]]]]]],1,26]]],Gf={category:"weapon",name:"Shadow Weave",tier:4,stats:[{signed:!0,value:15,stat:"Health Regen"},{signed:!0,value:300,stat:"Spirit Shield Health"},{signed:!0,value:30,units:"%",stat:"Ammo"}],effects:[{active:!0,cooldown:48,details:{description:"Become **Stealthed**. Whenever you take damage while Stealthed you get briefly revealed.",sections:[{gridData:{cells:[{icon:{image:"stat/invisible"},conditional:!0,value:25,units:"s",stat:"Invisibility"}],values:[{value:26,units:"m",stat:"Spot Radius"}]}},{markdownData:"Attacking or using an ability will end your stealth and start an **ambush**, temporarily granting your bonus **Fire Rate** and **Spirit Power**."},{gridData:{cells:[{icon:{image:"stat/weapon_damage",color:"orange"},signed:!0,conditional:!0,value:30,units:"%",stat:"Ambush Fire Rate",color:"orange"},{icon:{image:"stat/spirit_damage",color:"purple"},signed:!0,conditional:!0,value:55,units:"",stat:"Ambush Spirit Power",color:"purple"}],values:[{value:8,units:"s",stat:"Ambush Duration"}]}}]}}]},qf=["weapon","Shadow Weave",4,[],[[[],"Health Regen",15,"",1],[[],"Spirit Shield Health",300,"",1],[[],"Ammo",30,"%",1]],[[["Become **Stealthed**. Whenever you take damage while Stealthed you get briefly revealed.",[[[[[["stat/invisible"],"Invisibility",25,"s",0,0,1]],[[[],"Spot Radius",26,"m"]]]],[0,"Attacking or using an ability will end your stealth and start an **ambush**, temporarily granting your bonus **Fire Rate** and **Spirit Power**."],[[[[["stat/weapon_damage","orange"],"Ambush Fire Rate",30,"%",1,0,1,0,"orange"],[["stat/spirit_damage","purple"],"Ambush Spirit Power",55,"",1,0,1,0,"purple"]],[[[],"Ambush Duration",8,"s"]]]]]],1,48]]],Kf={category:"ability",name:"Tornado",stats:[{icon:{image:"stat/cooldown"},value:32,units:"s",stat:"cooldown"},{icon:{image:"stat/duration"},value:.75,units:"s"}],details:{description:"Transform yourself into a tornado that travels forward, **damaging enemies** and **lifting them up in the air**.  After emerging from the tornado you gain **bullet evasion**.",sections:[{gridData:{cells:[{icon:{image:"stat/spirit_damage",color:"purple"},value:70,stat:"Damage",spiritScaling:.7},{value:1.5,units:"s",stat:"Lift Duration",icon:{image:"stat/duration"}},{value:30,units:"%",stat:"Bullet Evasion Chance"}],values:[{value:3.5,units:"s",stat:"Bullet Evasion Duration"},{value:3.5,units:"m",stat:"Radius",icon:{image:"stat/aoe"}}]}}]},upgrades:[`**+0.5s**
Lift Duration`,`**-14s**
Cooldown`,`**+20%**
Bullet Evasion Chance`]},Yf=["ability","Tornado",[[["stat/cooldown"],"cooldown",32,"s"],[["stat/duration"],0,.75,"s"]],["Transform yourself into a tornado that travels forward, **damaging enemies** and **lifting them up in the air**.  After emerging from the tornado you gain **bullet evasion**.",[[[[[["stat/spirit_damage","purple"],"Damage",70,"",0,.7],[["stat/duration"],"Lift Duration",1.5,"s"],[[],"Bullet Evasion Chance",30,"%"]],[[[],"Bullet Evasion Duration",3.5,"s"],[["stat/aoe"],"Radius",3.5,"m"]]]]]],[`**+0.5s**
Lift Duration`,`**-14s**
Cooldown`,`**+20%**
Bullet Evasion Chance`]],Xf={category:"hero",name:"Dynamo",portrait:"dynamo.webp",tagline:"Locks down the enemy team",description:"Dynamo keeps himself and his allies healthy while waiting for his moment. Few things can warp a team fight more than a well coordinated use of Singularity.",abilities:[{id:"KineticPulse",image:"hero/dynamo/kinetic_pulse"},{id:"QuantumEntanglement",image:"hero/dynamo/quantum_entanglement"},{id:"RejuvenatingAurora",image:"hero/dynamo/rejuvenating_aurora"},{id:"Singularity",image:"hero/dynamo/singularity"}],statGroups:[{label:"Weapon",color:"orange",stats:[{icon:{image:"stat/weapon_damage",color:"orange"},value:60,units:"",stat:"DPS"},{icon:{image:"stat/bullet",color:"orange"},value:15,units:"",stat:"Bullet Damage"},{icon:{image:"stat/ammo"},value:18,units:"",stat:"Ammo"},{icon:{image:"stat/fire_rate"},value:4,units:"",stat:"Bullets per sec"},{icon:{image:"stat/melee",color:"orange"},value:63,units:"",stat:"Light Melee"},{icon:{image:"stat/melee",color:"orange"},value:116,units:"",stat:"Heavy Melee"}]},{label:"Vitality",color:"green",stats:[{icon:{image:"stat/health"},value:650,units:"",stat:"Max Health"},{icon:{image:"stat/healing"},value:2,units:"",stat:"Health Regen"},{icon:{image:"stat/bullet_armor"},value:0,units:"%",stat:"Bullet Resist"},{icon:{image:"stat/spirit_armor"},value:0,units:"%",stat:"Spirit Resist"},{icon:{image:"stat/move_speed"},value:6.5,units:" m/s",stat:"Move Speed"},{icon:{image:"stat/move_speed"},signed:!0,value:0,units:" m/s",stat:"Sprint Speed"},{icon:{image:"stat/stamina"},value:3,units:"",stat:"Stamina"}]}]},Jf=["hero","Dynamo","Locks down the enemy team","Dynamo keeps himself and his allies healthy while waiting for his moment. Few things can warp a team fight more than a well coordinated use of Singularity.","dynamo.webp",[["Weapon","orange",[[["stat/weapon_damage","orange"],"DPS",60,""],[["stat/bullet","orange"],"Bullet Damage",15,""],[["stat/ammo"],"Ammo",18,""],[["stat/fire_rate"],"Bullets per sec",4,""],[["stat/melee","orange"],"Light Melee",63,""],[["stat/melee","orange"],"Heavy Melee",116,""]]],["Vitality","green",[[["stat/health"],"Max Health",650,""],[["stat/healing"],"Health Regen",2,""],[["stat/bullet_armor"],"Bullet Resist",0,"%"],[["stat/spirit_armor"],"Spirit Resist",0,"%"],[["stat/move_speed"],"Move Speed",6.5," m/s"],[["stat/move_speed"],"Sprint Speed",0," m/s",1],[["stat/stamina"],"Stamina",3,""]]]],[["KineticPulse","hero/dynamo/kinetic_pulse"],["QuantumEntanglement","hero/dynamo/quantum_entanglement"],["RejuvenatingAurora","hero/dynamo/rejuvenating_aurora"],["Singularity","hero/dynamo/singularity"]]],Zf={category:"ability",name:"Kinetic Pulse",stats:[{icon:{image:"stat/cooldown"},value:25,units:"s",stat:"cooldown"},{icon:{image:"stat/charge"},value:1,units:"",stat:"charges"},{icon:{image:"stat/charge_cooldown"},value:5,units:"s",stat:"chargeCooldown"}],details:{description:"Release an energy pulse that knocks enemies up into the air.",sections:[{gridData:{cells:[{icon:{image:"stat/spirit_damage",color:"purple"},value:100,stat:"Damage",spiritScaling:1.4},{icon:{image:"stat/aoe"},value:15,units:"m",stat:"Stomp Range",spiritScaling:.275}],values:[{icon:{image:"stat/aoe"},value:5,units:"m",stat:"Ability Width"}]}}]},upgrades:["Hit enemies are **fire rate and movement slowed** by **35%** for **4s**.","Dynamo deals **30% more Weapon Damage** to hit enemies for **8s**",`**+125**
Damage`]},Qf=["ability","Kinetic Pulse",[[["stat/cooldown"],"cooldown",25,"s"],[["stat/charge"],"charges",1,""],[["stat/charge_cooldown"],"chargeCooldown",5,"s"]],["Release an energy pulse that knocks enemies up into the air.",[[[[[["stat/spirit_damage","purple"],"Damage",100,"",0,1.4],[["stat/aoe"],"Stomp Range",15,"m",0,.275]],[[["stat/aoe"],"Ability Width",5,"m"]]]]]],["Hit enemies are **fire rate and movement slowed** by **35%** for **4s**.","Dynamo deals **30% more Weapon Damage** to hit enemies for **8s**",`**+125**
Damage`]],em={category:"ability",name:"Quantum Entanglement",stats:[{icon:{image:"stat/cooldown"},value:11,units:"s",stat:"cooldown"},{icon:{image:"stat/range"},value:9,units:"m"}],details:{description:"Dynamo briefly **disappears into the void** and then reappears a short distance away.  On reappearing, your weapon is **reloaded** and has a **fire rate bonus** for the next clip (Max 8s).  Can be Alt-Cast to also bring nearby allies and give them half fire rate bonus.",sections:[{gridData:{cells:[{icon:{image:"stat/duration"},value:1.4,units:"s",stat:"Void Time"},{icon:{image:"stat/aoe"},value:9,units:"m",stat:"Ally Distance"},{icon:{image:"stat/fire_rate"},value:25,units:"%",stat:"Fire Rate Bonus"}]}}]},upgrades:[`**+4m**
Cast Range`,`**+25%**
Fire Rate Bonus`,"On reappearing, **+120%** base ammo"]},tm=["ability","Quantum Entanglement",[[["stat/cooldown"],"cooldown",11,"s"],[["stat/range"],0,9,"m"]],["Dynamo briefly **disappears into the void** and then reappears a short distance away.  On reappearing, your weapon is **reloaded** and has a **fire rate bonus** for the next clip (Max 8s).  Can be Alt-Cast to also bring nearby allies and give them half fire rate bonus.",[[[[[["stat/duration"],"Void Time",1.4,"s"],[["stat/aoe"],"Ally Distance",9,"m"],[["stat/fire_rate"],"Fire Rate Bonus",25,"%"]],[]]]]],[`**+4m**
Cast Range`,`**+25%**
Fire Rate Bonus`,"On reappearing, **+120%** base ammo"]],nm={category:"ability",name:"Rejuvenating Aurora",stats:[{icon:{image:"stat/cooldown"},value:45,units:"s",stat:"cooldown"}],details:{description:"While channelling, **restore health over time** to you and any allies nearby.",sections:[{gridData:{cells:[{icon:{image:"stat/healing"},value:32,units:"/s",stat:"Health Restored",spiritScaling:.45},{icon:{image:"stat/charge"},value:5,units:"s",stat:"Channel Duration"}],values:[{icon:{image:"stat/aoe"},value:8,units:"m",stat:"Friendly Heal Radius"}]}}]},upgrades:["Gain **+4m/s movespeed bonus** for 8s if Aurora is fully channeled.  Gain instantly with 5AP Upgrade.",`**-15s**
Cooldown`,"**Full move and ability use** and additionally heals **+4% of Max Health** per second"]},im=["ability","Rejuvenating Aurora",[[["stat/cooldown"],"cooldown",45,"s"]],["While channelling, **restore health over time** to you and any allies nearby.",[[[[[["stat/healing"],"Health Restored",32,"/s",0,.45],[["stat/charge"],"Channel Duration",5,"s"]],[[["stat/aoe"],"Friendly Heal Radius",8,"m"]]]]]],["Gain **+4m/s movespeed bonus** for 8s if Aurora is fully channeled.  Gain instantly with 5AP Upgrade.",`**-15s**
Cooldown`,"**Full move and ability use** and additionally heals **+4% of Max Health** per second"]],rm={category:"ability",name:"Singularity",stats:[{icon:{image:"stat/cooldown"},value:180,units:"s",stat:"cooldown"}],details:{description:"Create a singularity in your hands that **pulls in nearby enemies and damages them**. Once it's finished, enemies get knocked into the air.",sections:[{gridData:{cells:[{icon:{image:"stat/charge"},value:2.75,units:"s",stat:"Channel Duration"},{icon:{image:"stat/spirit_damage",color:"purple"},value:60,stat:"DPS",spiritScaling:.21}],values:[{icon:{image:"stat/aoe"},value:8,units:"m",stat:"Singularity Radius"}]}}]},upgrades:[`**+2m**
Singularity Radius`,`**+0.75s**
Channel Duration`,"Singularity takes **3.8%** of the enemies' max health each second."]},om=["ability","Singularity",[[["stat/cooldown"],"cooldown",180,"s"]],["Create a singularity in your hands that **pulls in nearby enemies and damages them**. Once it's finished, enemies get knocked into the air.",[[[[[["stat/charge"],"Channel Duration",2.75,"s"],[["stat/spirit_damage","purple"],"DPS",60,"",0,.21]],[[["stat/aoe"],"Singularity Radius",8,"m"]]]]]],[`**+2m**
Singularity Radius`,`**+0.75s**
Channel Duration`,"Singularity takes **3.8%** of the enemies' max health each second."]],hn={HeroicAura:{hydrated:If,serialized:Lf},HollowPointWard:{hydrated:Hf,serialized:Vf},ReturnFire:{hydrated:zf,serialized:Uf},SlowingHex:{hydrated:Ff,serialized:Wf},ShadowWeave:{hydrated:Gf,serialized:qf},Tornado:{hydrated:Kf,serialized:Yf},Dynamo:{hydrated:Xf,serialized:Jf},KineticPulse:{hydrated:Zf,serialized:Qf},QuantumEntanglement:{hydrated:em,serialized:tm},RejuvenatingAurora:{hydrated:nm,serialized:im},Singularity:{hydrated:rm,serialized:om}},xn=Object.fromEntries(Object.entries(hn).map(([e,t])=>[e,t.hydrated])),Js=[{label:"Item",data:hn.HollowPointWard.hydrated},{label:"Ability",data:hn.Tornado.hydrated},{label:"Hero",data:hn.Dynamo.hydrated}],Zs=({id:e,number:t})=>s("div",{className:"mock-hero-ability-icon-container",children:[s("div",{className:"mock-hero-ability-icon",children:s(Yn,{id:e,children:s(B,{color:"dark-grey"})})}),s("div",{className:"mock-hero-ability-number",children:t})]}),am=R(({model:e,number:t})=>{const{image:n}=e,i=y(r=>e.image=r);return s("div",{className:"mock-hero-ability-button",children:s(Ys,{image:n,type:"icon",onChange:i,children:s(Zs,{id:n,number:t})})})}),sm=({onChange:e})=>{const t=re(ot),n=g(()=>{const i=new Ze(xn.Tornado);t.save(i),e(i.id)},[e,t]);return s("div",{onClick:n,children:[s("span",{children:"Ability"}),s("span",{children:"New"})]})},cm=({id:e,name:t,timestamp:n,onChange:i})=>{const r=g(()=>i(e),[e,i]),o=As();return s("div",{onClick:r,children:[s("span",{children:t}),s("span",{children:Os(n,o)})]})},lm=({onChange:e,onClose:t})=>{const n=Y();zn(n,t);const r=re(ot).history().filter(o=>o.category==="ability");return s("div",{ref:n,className:"mock-hero-ability-picker-dropdown",children:[s(sm,{onChange:e}),r.map(({id:o,name:a,timestamp:c})=>s(cm,{id:o,name:a,timestamp:c,onChange:e},o))]})},um=R(({foreignModel:e})=>{const[t,n]=$(!1),i=g(()=>n(!0),[n]),r=g(()=>n(!1),[n]),o=y(a=>{e.id=a,n(!1)},[e,n]);return s("div",{className:"mock-hero-ability-picker",children:[s("div",{className:"mock-hero-ability-picker-trigger",onMouseDown:i,children:s(B,{color:"white",image:"swap"})}),t&&s(lm,{onChange:o,onClose:r})]})}),dm=["mock-sidebar-buttons","mock-tooltip"],hm=e=>!dm.some(t=>e.classList&&e.classList.contains(t)),fm=()=>s("svg",{viewBox:"0 0 90 190",children:s("path",{d:"M0 188.8A45 45 0 0130 146.4l30 -10A45 45 0 0089 94A45 45 0 0060 51.6l-30 -10A45 45 0 010 0",fill:"#ffffff",paintOrder:"stroke",stroke:"black",strokeLinejoin:"round",strokeWidth:"2"})}),mm=({id:e,number:t,offset:n,onClick:i})=>{const r=`clamp(0rem, calc(${n}px - 14.25rem), 6.25rem)`;return s("div",{className:"mock-hero-ability-gutter",onClick:i,children:s("div",{style:{top:r},children:s("div",{children:[s(fm,{}),s("div",{className:"mock-hero-ability-gutter-icon",children:s(Zs,{id:e,number:t})})]})})})},xo=R(({foreignModel:e,gutterOffset:t,number:n,onChangeModel:i,onHeight:r})=>{const o=re(ot),a=Y(),[c,l]=$(null),[u,h]=$(null),[d,f]=$(null);G(()=>{const w=xn[e.id]||o.load(e.id);w?h(new Ze(w)):f(new Error(`no ability found with id: ${e.id}`))},[e.id,h,f,o]),G(()=>{setTimeout(()=>{if(u&&a.current){const w=a.current.getBoundingClientRect(),S=1200,C=Math.floor(w.height*S/w.width);_l(a.current,{filter:hm,canvasWidth:S,canvasHeight:C,pixelRatio:1}).then(I=>l(I)).catch(I=>console.error("failed to generate ability image",I))}},100)},[a,u,l]);const m=y(()=>{if(!un(e.id)){const w=xn[e.id];if(!w)throw new Error(`no example data for ability id: ${e.id}`);const S=new Ze(w);window.localStorage.setItem(S.id,JSON.stringify(S)),e.id=S.id}i(e.id)},[e,i]),x=()=>s(So,{className:"mock-hero-ability-loading",onClick:m,onHeight:r,children:s("div",{children:d?s(B,{color:"orange",image:"error"}):s(bs,{})})}),j=()=>s(So,{className:"mock-hero-ability-display-rendered",onClick:m,onHeight:r,children:s("img",{src:c,width:"100%"})});return s("div",{className:"mock-hero-ability-display",children:[s("div",{inert:!0,className:"mock-hero-ability-display-hidden",children:s("div",{ref:a,children:u&&s(zs,{model:u})})}),s(um,{foreignModel:e}),s(mm,{id:e.image,number:n,offset:t,onClick:m}),c?j():x()]})}),_m=({index:e,left:t,right:n,onChangeModel:i})=>{const[r,o]=$(null),[a,c]=$(null),l=Math.min(r,a),u=g(d=>{o(d)},[o]),h=g(d=>{c(d)},[c]);return s("div",{className:"mock-hero-ability-row",children:[s(xo,{foreignModel:t,gutterOffset:l,number:e*2+1,onChangeModel:i,onHeight:u},t.id),s(xo,{foreignModel:n,gutterOffset:l,number:e*2+2,onChangeModel:i,onHeight:h},n.id)]})},pm=({model:e,onChangeModel:t})=>{const n=ah(e.abilities,2);return s("div",{className:"mock-hero-abilities",children:n.map((i,r)=>s(_m,{index:r,left:i[0],right:i[1],onChangeModel:t},r))})},gm=R(({model:e})=>{const t=y(i=>e.portrait=i),n=e.portrait;return s("div",{className:"mock-hero-portrait-frame",children:s(Ys,{image:n,type:"portrait",onChange:t,children:s(br,{id:n})})})}),vm=R(({model:e})=>{const t=y(()=>{const n=e.spiritScaling===null||e.spiritScaling===void 0;e.spiritScaling=n?0:null},[e]);return s("div",{className:"mock-hero-stat",children:[s("div",{className:"mock-hero-stat-position",children:[s(Ls,{detailed:!0,model:e}),s("div",{className:"mock-hero-stat-spirit-scaling-button",children:s(B,{color:"purple",image:"spirit",onMouseDown:t})})]}),s("div",{className:"mock-hero-stat-contents",children:[s("div",{children:[s(B,{color:e.icon.color,image:e.icon.image}),s(Yt,{model:e})]}),s(me,{children:e.stat})]})]})}),ym=R(({model:e})=>s("div",{className:"mock-hero-stats-grid",children:[s("div",{className:"mock-hero-stats-grid-label",children:s(me,{color:e.color,children:e.label})}),s("div",{className:"mock-hero-stats-grid-cells",children:e.stats.map(t=>s(vm,{index:t.id,model:t},t.id))})]})),bm=R(({model:e,onChangeModel:t})=>{const n=y(o=>{e.name=o.split(" ").map(a=>a.toLowerCase()).map(a=>`${a[0].toUpperCase()}${a.slice(1)}`).join(" ")},[e]),i=y(o=>e.tagline=o,[e]),r=y(o=>e.description=o,[e]);return s("div",{className:"mock-hero",children:[s("div",{className:"mock-hero-top",children:[s("div",{className:"mock-hero-synopsis",children:[s("div",{className:"mock-hero-name",children:s(_e,{onChange:n,children:e.name})}),s("div",{className:"mock-hero-tagline",children:s(_e,{onChange:i,children:e.tagline})}),s("div",{className:"mock-hero-ability-icons",children:e.abilities.map((o,a)=>s(am,{model:o,number:a+1},a))}),s("div",{className:"mock-hero-description",children:s("div",{children:s(_e,{onChange:r,children:e.description})})})]}),s(gm,{model:e})]}),s("div",{className:"mock-hero-stats",children:e.statGroups.map(o=>s(ym,{model:o},o.label))}),s(pm,{model:e,onChangeModel:t})]})}),wm=({item:e,onChange:t})=>{const n=g(()=>t(e),[e,t]),i=H(`mock-item-picker-icon-${e.category}`),r=`item-${e.category}`;return s("div",{className:i,onClick:n,children:s(B,{color:r,image:e.icon})})},si=[1,2,3,4],Sm=({onChange:e})=>{const t=n=>s("div",{className:"mock-item-picker-tier",children:n.map(i=>s(wm,{item:i,onChange:e},i.name))});return s("div",{className:"mock-item-picker",children:[s("div",{className:"mock-item-picker-weapon-group",children:si.map(n=>t(xt.weapon[n]))}),s("div",{className:"mock-item-picker-vitality-group",children:si.map(n=>t(xt.vitality[n]))}),s("div",{className:"mock-item-picker-spirit-group",children:si.map(n=>t(xt.spirit[n]))})]})},km=R(({model:e,index:t})=>{const n=y(()=>e.removeComponent(t),[t,e]),i=y(l=>e.components[t]=l.name,[t,e]),r=e.componentInfo[t],o=H("mock-item-component-badge-icon",`mock-item-component-badge-${r.category}`),a=g(()=>s(Sm,{onChange:i}),[i]),c=`item-${r.category}`;return s("div",{className:"mock-item-component",children:s(qt,{onMouseDown:n,children:s("div",{className:"mock-item-component-badge",children:[s(Wn,{click:!0,direction:"down",renderTooltip:a,children:s("div",{className:o,children:s(B,{color:c,image:r.icon})})}),s("div",{className:"mock-item-component-badge-name",children:s(Je,{children:r.name})})]})})})}),Om=R(({model:e})=>e.components.length===0?null:s("div",{className:"mock-item-components",children:[s("div",{children:s(Je,{children:"COMPONENTS:"})}),e.components.map((t,n)=>s(km,{index:n,model:e},n))]})),Am=R(({item:e,model:t})=>{const n=y(l=>{const u=parseFloat(l);isNaN(u)?console.error("failed to parse",l):t.cooldown=u},[t]),i=y(()=>t.active=!t.active,[t]),r=y(()=>e.removeEffect(t),[e,t]),o=t.active?s(Je,{color:"bright",children:"Active"}):s(Gn,{italic:!0,children:"Passive"}),a=H("mock-item-effect-header",{"mock-item-effect-header-active":t.active}),c=H("mock-item-effect-cooldown",{"mock-item-effect-no-cooldown":!t.cooldown});return s("div",{className:"mock-item-effect",children:[s("div",{className:a,children:[s(qt,{onMouseDown:r,children:[s(fr,{}),s("span",{className:"mock-item-effect-type",onClick:i,children:o})]}),s("div",{className:c,children:[s(B,{color:"white",image:"stat/cooldown"}),s(_e,{onChange:n,children:s(me,{color:"bright",children:t.cooldown||0})}),s(Je,{children:"s"})]})]}),s(Hs,{model:t.details})]})}),Qs={spirit:{tier:[0,4,8,12,16],stat:"Spirit Power",image:"spirit",color:"purple"},weapon:{units:"%",tier:[0,6,10,14,18],stat:"Weapon Damage",image:"weapon",color:"orange"},vitality:{units:"%",tier:[0,11,14,17,20],stat:"Base Health",image:"vitality",color:"green"}},ci=Object.keys(Qs),Cm={},Em=new Intl.NumberFormat("en-US",Cm),Dm=R(({model:e})=>{const t=y(u=>e.name=u,[e]),n=y(()=>e.tier=e.tier%4+1,[e]),i=y(()=>{const u=ci.indexOf(e.category)+1;e.category=ci[u%ci.length]},[e]),r=y(()=>e.addComponent(),[e]),o=y(()=>e.addEffect(),[e]),a=y(()=>e.addStat({signed:!0}),[e]),c=g(()=>s(U,{children:[s(Ae,{label:"Component",onClick:r}),s(Ae,{label:"Effect",onClick:o}),s(Ae,{label:"Stat",onClick:a})]}),[r,o,a]),l=Qs[e.category];if(!l)throw new Error(`invalid category: ${e.category}`);return s(qn,{renderButtons:c,children:s("div",{className:"mock-item-header",children:[s("div",{children:[s("div",{className:"item-name",children:s(_e,{onChange:t,children:s(me,{color:"bright",children:e.name})})}),s("div",{className:"item-cost",children:[s(B,{color:"cyan",image:"soul"}),s("span",{children:Em.format(e.cost)})]})]}),s("div",{className:"item-bonus",children:[s("div",{className:"item-bonus-value",onClick:n,children:[s(Is,{signed:!0,units:l.units,value:l.tier[e.tier]}),s(B,{color:l.color,image:l.image})]}),s("div",{className:"item-bonus-stat",onClick:i,children:l.stat})]})]})})}),Rm=R(({itemModel:e,statModel:t})=>{const n=y(r=>t.stat=r,[t]),i=y(()=>e.removeStat(t),[e,t]);return s("div",{className:"mock-item-stat",children:s(qt,{onMouseDown:i,children:[s(fr,{}),s(Yt,{model:t}),s(_e,{onChange:n,children:t.stat})]})})}),xm=R(({model:e})=>{const t=y(n=>n(e.stats),[e]);return e.stats.length===0?null:s("div",{className:"mock-item-stats",children:s(_r,{onMove:t,children:e.stats.map(n=>s(Rm,{itemModel:e,statModel:n},n.id))})})}),$m=R(({model:e})=>{const t=H("mock-item",`mock-item-${e.category}`),n=y(i=>i(e.effects),[e]);return s("div",{className:t,children:[s(Be,{className:"mock-item-header-animated",children:s(Dm,{model:e})}),s(Be,{className:"mock-item-components-animated",children:s(Om,{model:e})}),s(Be,{className:"mock-item-stats-animated",children:s(xm,{model:e})}),s(_r,{animated:!0,onMove:n,children:e.effects.map(i=>s(Am,{item:e,model:i},i.id))})]})}),Ar=e=>e.cells.concat(e.values||[]),Cr=e=>e[0].toUpperCase()+e.slice(1),$o={"stat/cooldown":"Cooldown","stat/charge":"Charges","stat/charge_cooldown":"Charge Cooldown","stat/duration":"Duration","stat/range":"Range","stat/aoe":"Area of Effect"},Er=e=>{if(!$o[e.icon.image])return null;const t=Ye(e);return t.stat=$o[e.icon.image],t.stat==="Charges"&&t.value===1&&(t.stat="Charge"),t},Pm={weapon:e=>[e.slice(0,4),e.slice(4)],vitality:e=>[e.slice(0,2),e.slice(2,4),e.slice(4)]},Dr=e=>e.map(t=>Pm[t.label.toLowerCase()](t.stats)),Ve=(e,t)=>e?`[COLOR=${t}]${e}[/COLOR]`:"",J=e=>e?`[B]${e}[/B]`:"",li=e=>e?`[I]${e}[/I]`:"",ui=e=>e?`[INDENT]${e}[/INDENT]`:"",di=(e,t)=>t?`[SIZE=${e}]${t}[/SIZE]`:"",ec=({orange:e,purple:t,green:n,blue:i,cyan:r,grey:o,red:a,sanitize:c})=>{const l={ability:i,weapon:e,vitality:n,spirit:t},u=(_,P)=>l[P]?l[P](_):_,h=(_,P)=>{if(_.type==="document"||_.type==="paragraph")return _.data.map(E=>h(E)).join("");if(_.type==="linebreak")return`
`;if(_.type==="text")return c(_.data);if(_.type==="em")return li(_.data.map(E=>h(E)));if(_.type==="strong")return J(_.data.map(E=>h(E)));console.error("invalid node type")},d=_=>h(Ms(_)),f=_=>{const P=_.signed&&_.value>=0?"+":"",E=_.spiritScaling?` (${t(`+${J(_.spiritScaling)} x ${J("Spirit")}`)})`:"",Z=_.conditional?o(li(" (Conditional)")):"",kt=`${o(P)}${_.value}${o(c(_.units))}`;return`${J(kt)} ${c(_.stat)}${E}${Z}`},m=_=>_.length===0?"":`
[LIST]
${_.map(P=>`[*] ${f(P)}`).join(`
`)}
[/LIST]
`.trim(),x=_=>{const P=_.sections.map(E=>E.markdownData?`
${d(E.markdownData)}`:`
${m(Ar(E.gridData))}`).join("");return`${d(_.description)}${P}`},j=_=>{const P=_.cooldown!==0?` (${J(_.cooldown)}${J(o("s"))} Cooldown)`:"",E=ui(x(_.details));return`
${J(_.active?"Active":"Passive")}${P}:
${E}
`.trim()},w=_=>{const P=_.map(E=>Cn[E]?`${u(E,Cn[E].category)}`:E).map(J).join(", ");return P?`${J("Components")}: ${P}
`:""},S=_=>{const P=m(_.stats),E=w(_.components),Z=_.effects.map(kt=>`
${ui(j(kt))}`).join("");return`
${di(5,J(u(c(_.name),_.category)))}
${J(`${u(Cr(_.category),_.category)} Tier ${_.tier}`)}
${E}${J(r(`${_.cost} Souls`))}
${P}${Z}
`.trim()},C=_=>{const P=_.map(Er).filter(E=>E).map(f).join(" | ");return P?`${P}
`:""},I=_=>_.replaceAll(/[\r\n\t]+/g," "),V=_=>_.map((P,E)=>`${J(`Tier ${E+1}`)}: ${d(I(P))}`).join(`
`),N=_=>{const P=C(_.stats),E=x(_.details),Z=V(_.upgrades);return`
${di(5,J(i(c(_.name))))}
${P}${E}
${Z}
`.trim()},z=_=>{const P=_.split(`
`);return`${P[0]}
${ui(P.slice(1).join(`
`))}`};return{formatItem:S,formatAbility:N,formatHero:_=>{const P=Dr(_.statGroups).map(Z=>Z.map(kt=>kt.map(f).join(" | ")).join(`
`)).join(`
[HR][/HR]
`),E=_.abilities.map(Z=>z(N(Z))).join(`

`);return`
${di(6,J(a(c(_.name))))}
${li(c(_.tagline))}

${c(_.description)}

[HR][/HR]
${P}
[HR][/HR]

${E}
`.trim()}}},Nm=new Proxy({},{get:()=>e=>e}),Mm={sanitize:e=>e?`[PLAIN]${e}[/PLAIN]`:"",orange:e=>Ve(e,"#ec981a"),purple:e=>Ve(e,"#ce91ff"),green:e=>Ve(e,"#7cbb1e"),blue:e=>Ve(e,"#3399f3"),cyan:e=>Ve(e,"#9affd6"),grey:e=>Ve(e,"#aaaaaa"),red:e=>Ve(e,"#dd3939")},Tm=ec(Mm),jm=ec(Nm),Bm=e=>e.split(`
`).map(t=>`> ${t}`).join(`
`),Rr=e=>{const t=e.signed&&e.value>=0?"+":"",n=e.spiritScaling?` (+${e.spiritScaling} x Spirit)`:"",i=e.conditional?" _(Conditional)_":"";return`${t}${e.value}${e.units} ${e.stat}${n}${i}`},tc=e=>e.length===0?"":e.map(t=>`- ${Rr(t)}`).join(`
`),Po=e=>e.replaceAll(/[\n]/g,`  
`),nc=e=>{const t=e.sections.map(n=>n.markdownData?`

${Po(n.markdownData)}`:`

${tc(Ar(n.gridData))}`).join("");return`${Po(e.description)}${t}`},Im=e=>{const t=e.cooldown!==0?` (${e.cooldown}s Cooldown)`:"",n=nc(e.details);return Bm(`
${e.active?"**Active**":"**Passive**"}${t}:  

${n}
`.trim())},Lm=e=>{const t=e.join(", ");return t?`Components: ${t}  
`:""},Hm=e=>{const t=tc(e.stats),n=Lm(e.components),i=e.effects.map(r=>`

${Im(r)}`).join("");return`
##### ${e.name}
${Cr(e.category)} Tier ${e.tier}  
${n}${e.cost} Souls

${t}${i}
`.trim()},Vm=e=>{const t=e.map(Er).filter(n=>n).map(Rr).join(" | ");return t?`${t}  
`:""},Fm=e=>e.replaceAll(/[\r\n\t]+/g," "),Um=e=>e.map((t,n)=>`Tier ${n+1}: ${Fm(t)}`).join(`  
`),ic=e=>{const t=Vm(e.stats),n=nc(e.details),i=Um(e.upgrades);return`
##### ${e.name}
${t}
${n}

${i}
`.trim()},zm=e=>{const t=Dr(e.statGroups).map(i=>i.map(r=>r.map(Rr).join(" | ")).join(`  
`)).join(`

---

`),n=e.abilities.map(ic).join(`

---

`);return`
### ${e.name}
_${e.tagline}_

${e.description}

---

${t}

---

${n}
`.trim()},Wm={formatItem:Hm,formatAbility:ic,formatHero:zm},Gm=e=>e.split(`
`).map(t=>`  ${t}`.trimEnd()).join(`
`),ji=e=>e.replaceAll(/[*_]/g,""),xr=e=>{const t=e.signed&&e.value>=0?"+":"",n=e.spiritScaling?` (+${e.spiritScaling} x Spirit)`:"",i=e.conditional?" (Conditional)":"";return`${t}${e.value}${e.units} ${e.stat}${n}${i}`},rc=e=>e.length===0?"":e.map(t=>`* ${xr(t)}`).join(`
`),oc=e=>{const t=e.sections.map(n=>n.markdownData?`

${ji(n.markdownData)}`:`

${rc(Ar(n.gridData))}`).join("");return`${ji(e.description)}${t}`},qm=e=>{const t=e.cooldown!==0?` (${e.cooldown}s Cooldown)`:"",n=oc(e.details);return`
${e.active?"Active":"Passive"}${t}:
${n}
`.trim()},Km=e=>{const t=e.join(", ");return t?`Components: ${t}
`:""},Ym=e=>{const t=rc(e.stats),n=Km(e.components),i=e.effects.map(r=>`

${qm(r)}`).join("");return`
${e.name}
${Cr(e.category)} Tier ${e.tier}
${n}${e.cost} Souls

${t}${i}
`.trim()},Xm=e=>{const t=e.map(Er).filter(n=>n).map(xr).join(" | ");return t?`${t}
`:""},Jm=e=>e.replaceAll(/[\r\n\t]+/g," "),Zm=e=>e.map((t,n)=>`Tier ${n+1}: ${Jm(ji(t))}`).join(`
`),ac=e=>{const t=Xm(e.stats),n=oc(e.details),i=Zm(e.upgrades);return`
${e.name}
${t}
${n}

${i}
`.trim()},Qm=e=>{const t=Dr(e.statGroups).map(r=>r.map(o=>o.map(xr).join(" | ")).join(`
`)).join(`

`),n=["Ability (1)","Ability (2)","Ability (3)","Ultimate"],i=e.abilities.map((r,o)=>`${n[o]}: ${Gm(ac(r)).trim()}`).join(`

`);return`
${e.name}
${e.tagline}

${e.description}

${t}

${i}
`.trim()},e_={formatItem:Ym,formatAbility:ac,formatHero:Qm},sc=[["BBcode (simple)",jm],["BBcode (color)",Tm],["Markdown",Wm],["Plaintext",e_]],t_=sc[0][0],Bi=Object.fromEntries(sc),n_=(e,t)=>{const n=Ye(e);return n.abilities=n.abilities.map(i=>Ye(new Ze(xn[i.id]||t.load(i.id)))),n},i_=(e,t,n)=>e.category==="ability"?t.formatAbility(e):e.category==="hero"?t.formatHero(n_(e,n)):t.formatItem(e),r_=(e,t,n)=>{if(!Bi[t])throw new Error(`unknown export format: ${t}`);const i=new Blob([i_(e,Bi[t],n)],{type:"text/plain"});navigator.clipboard.write([new ClipboardItem({"text/plain":i})])},o_=({format:e,selected:t,onChange:n})=>{const i=H("mock-editor-copy-text-entry",{"mock-editor-copy-text-entry-selected":t}),r=g(()=>n(e),[e,n]);return s("div",{className:i,onClick:r,children:e})},a_=({format:e,onChange:t,onClose:n})=>{const i=Y(null);zn(i,n);const r=Object.keys(Bi);return s("div",{ref:i,className:"mock-editor-copy-text-dropdown",children:r.map(o=>s(o_,{format:o,selected:o===e,onChange:t},o))})},s_=({model:e})=>{const t=re(ot),[n,i]=$(t_),[r,o]=$(!1),a=g(()=>o(!0),[o]),c=g(()=>o(!1),[o]),l=g(()=>r_(e,n,t),[e,n,t]),u=g(h=>{i(h),o(!1)},[i,o]);return s("div",{children:[r&&s(a_,{format:n,onChange:u,onClose:c}),s("div",{className:"mock-editor-copy-text-button",children:[s("div",{onClick:l,children:s("span",{children:"Copy Text"})}),s(B,{color:"white",image:"dropdown",onMouseDown:r?null:a})]})]})},c_=({category:e,name:t,onMouseDown:n})=>{const i=H("mock-editor-history-current",`mock-editor-history-${e}`);return s("div",{className:i,onMouseDown:n,children:[s("span",{children:t||"-"}),s("span",{}),s("span",{})]})},l_=({state:e,data:t,onClose:n})=>{const i=re(ot),r=As(),o=g(()=>{e.loadRecord(t.id),n()},[e,t,n]),a=g(()=>{i.remove(t.id),n()},[t,i,n]),c=H("mock-editor-history-entry",`mock-editor-history-${t.category}`),l=Os(t.timestamp,r)||0;return s("div",{className:c,onClick:o,children:[s("span",{children:s("span",{children:t.name||"-"})}),s("span",{children:l}),s("span",{children:s(vr,{duration:1e3,iconColor:"white",image:"trash",onComplete:a})})]})},u_=({state:e,onClose:t})=>{const n=e.activeModel,i=H("mock-editor-history-template"),r=y(()=>{n.id=crypto.randomUUID(),t()},[n,t]);return s("div",{className:i,onClick:r,children:[s("span",{children:s("span",{children:"Copy Current"})}),s("span",{children:"New"}),s("span",{})]})},d_=({data:e,label:t,state:n,onClose:i})=>{const r=H("mock-editor-history-template",`mock-editor-history-${e.category}`),o=g(()=>{n.loadRaw(e),i()},[i,n,e]);return s("div",{className:r,onClick:o,children:[s("span",{children:s("span",{children:t})}),s("span",{children:"New"}),s("span",{})]})},h_=({state:e,onClose:t})=>{const n=g(()=>{e.clearAll(),t()},[e,t]);return s("div",{className:"mock-editor-history-clear",children:s(vr,{duration:1e3,iconColor:"white",image:"trash",onComplete:n,children:s("span",{children:"Clear Data"})})})},f_=({state:e,onClose:t})=>{const n=re(ot),i=Y(null),[r,o]=$([]);return G(()=>{const a=n.history();a.splice(0,1),o(a)},[o,n]),zn(i,t),s("div",{ref:i,className:"mock-editor-history-dropdown",children:s("div",{children:[r.map((a,c)=>s(l_,{data:a,state:e,onClose:t},c)),s(u_,{state:e,onClose:t}),Js.map(a=>s(d_,{data:a.data,label:a.label,state:e,onClose:t},a.label)),s(h_,{state:e,onClose:t})]})})},m_=R(({state:e})=>{const[t,n]=$(!1),{category:i,name:r}=e.activeModel||{},o=g(()=>n(c=>!c),[n]),a=g(()=>n(!1),[n]);return s("div",{className:"mock-editor-history",children:[s(B,{color:"white",image:"dropdown",onMouseDown:o}),s("div",{className:"mock-editor-history-position",children:t&&s(f_,{state:e,onClose:a})}),s(c_,{category:i,name:r,onMouseDown:o})]})}),__=["mock-sidebar-buttons","mock-tooltip","mock-hero-ability-display-hidden"],p_=e=>!__.some(t=>e.classList&&e.classList.contains(t)),g_=e=>`${e.replace(/[^A-z0-9]+/,"-")}-${Math.floor(Date.now()/1e3)}`,v_=e=>{const t=s("div",{className:"mock-editor-button",onClick:e,children:"Copy"});return ih?s(Wn,{warning:!0,direction:"down",renderTooltip:()=>s("div",{className:"mock-editor-warning",children:["Copying image data to the clipboard is buggy on Firefox and may slightly alter colors.",s("b",{children:" Take a screenshot "}),"or",s("b",{children:" save as an image "}),"to avoid this problem."]}),children:t}):t},y_={ability:1204,weapon:924,vitality:924,spirit:924,hero:2004},No=(e,t)=>{const n=e.getBoundingClientRect(),i=y_[t.category]||924,r=Math.ceil(n.height*i/n.width);e.classList.add("mock-to-image");const o=pl(e,{filter:p_,canvasWidth:i,canvasHeight:r,pixelRatio:1}).finally(()=>e.classList.remove("mock-to-image"));return o.catch(a=>console.error("failed to generate image",a)),o},cc=R(({state:e})=>{const t=Y(null),{category:n,name:i}=e.activeModel||{},r=g(()=>{const h=No(t.current,e.activeModel);navigator.clipboard.write([new ClipboardItem({"image/png":h})])},[t,e]),o=g(()=>No(t.current,e.activeModel).then(h=>kc.saveAs(h,`${g_(e.activeModel.name)}.png`)),[t,e]),a=g(()=>{const h=[pt,e.activeModel.serialize()],d=window.btoa(JSON.stringify(h)),f=new URL(window.location);f.hash=d;const m=new Blob([f.toString()],{type:"text/plain"});navigator.clipboard.write([new ClipboardItem({"text/plain":m})])},[e]),c=y(h=>{e.loadRecord(h)},[e]);G(()=>{i&&(document.title=`${i} - Deadmock`)},[i]);const l=()=>n==="ability"?s(zs,{model:e.activeModel}):n==="hero"?s(bm,{model:e.activeModel,onChangeModel:c}):ws.includes(n)?s($m,{model:e.activeModel}):null,u=s("div",{className:"mock-editor-button",onClick:a,children:"Copy Link"});return s("div",{className:"mock-editor",children:[s("div",{className:"mock-editor-buttons",children:[v_(r),s("div",{className:"mock-editor-button",onClick:o,children:"Save"}),n==="hero"?null:u,s(s_,{model:e.activeModel}),s(m_,{state:e})]}),s("div",{ref:t,className:"mock-editor-content",children:l()})]})});cc.propTypes={};class b_{constructor(t,n){v(this,"activeModel",null);v(this,"_modelStorage",null);this._modelStorage=t,this._modelStorage.migrate(),this._initializeModel(n),le(this),Na(()=>this._flush(),{delay:100}),window.addEventListener("popstate",()=>{var o;const i=(o=history.state)==null?void 0:o.id,r=i&&this._modelStorage.load(i);this._initializeModel(r)})}_initializeModel(t){var i,r,o;const n=(r=(i=this._modelStorage.history())==null?void 0:i[0])==null?void 0:r.id;t?this.loadRaw(t,{noHistory:!0}):n?this.loadRecord(n,{noHistory:!0}):this.loadRaw(Js[0].data,{noHistory:!0}),history.replaceState({id:this.activeModel.id,depth:((o=history.state)==null?void 0:o.depth)||0},"")}loadRaw(t,n){if(t.category==="ability"?this._setActive(new Ze(t)):t.category==="hero"?this._setActive(new kr(t)):this._setActive(new Or(t)),!(n!=null&&n.noHistory)){const i=history.state.depth+1,{id:r,name:o}=this.activeModel;history.pushState({id:r,depth:i},`Deadmock - ${o}`),window.scrollTo({top:0})}}loadRecord(t,n){const i=this._modelStorage.load(t);i?this.loadRaw(i,n):console.error("failed to load record from localStorage",t)}clearAll(){var n;this._modelStorage.clear(),this.activeModel=null,(((n=history.state)==null?void 0:n.depth)||0)===0?this._initializeModel(null):history.go(-history.state.depth)}_setActive(t){this._flush(),Pu(()=>{this.activeModel=t})}_flush(){this.activeModel&&this._modelStorage.save(this.activeModel)}}const Mo=[...hh],w_=10,lc=()=>{if(Mo.length>0){const e=Mo.pop(),t=new Image;t.addEventListener("load",()=>lc()),t.src=`/deadmock/icon/${e}`}};for(let e=0;e<w_;e++)lc();const uc=()=>{if(window.location.hash!==""&&window.location.hash!=="#")try{const[e,t]=JSON.parse(window.atob(window.location.hash.replace("#",""))),n=Tf(t,e);return window.location.hash="",n}catch(e){console.error("failed to load model from fragment:",e)}return null},S_=new vf,dc=new Bf,hc=new b_(dc,uc()),k_=()=>{const e=uc();e&&hc.loadRaw(e)};window.addEventListener("hashchange",k_);const O_=window.innerWidth-document.body.clientWidth;document.body.style.setProperty("--scrollbar-width",`${O_}px`);dt(s(Zt.Provider,{value:S_,children:s(ot.Provider,{value:dc,children:s(cc,{state:hc})})}),document.getElementById("app"));
