var pc=Object.defineProperty;var vc=(e,t,n)=>t in e?pc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var v=(e,t,n)=>vc(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var Lt,O,Bo,Fe,$r,Io,hi,Ii,fi,mi,Lo,Nt={},Ho=[],yc=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Pn=Array.isArray;function xe(e,t){for(var n in t)e[n]=t[n];return e}function Vo(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Ce(e,t,n){var i,r,o,a={};for(o in t)o=="key"?i=t[o]:o=="ref"?r=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?Lt.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)a[o]===void 0&&(a[o]=e.defaultProps[o]);return Et(e,a,i,r,null)}function Et(e,t,n,i,r){var o={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++Bo,__i:-1,__u:0};return r==null&&O.vnode!=null&&O.vnode(o),o}function Fo(){return{current:null}}function U(e){return e.children}function de(e,t){this.props=e,this.context=t}function ut(e,t){if(t==null)return e.__?ut(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?ut(e):null}function Uo(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Uo(e)}}function _i(e){(!e.__d&&(e.__d=!0)&&Fe.push(e)&&!mn.__r++||$r!==O.debounceRendering)&&(($r=O.debounceRendering)||Io)(mn)}function mn(){var e,t,n,i,r,o,a,c;for(Fe.sort(hi);e=Fe.shift();)e.__d&&(t=Fe.length,i=void 0,o=(r=(n=e).__v).__e,a=[],c=[],n.__P&&((i=xe({},r)).__v=r.__v+1,O.vnode&&O.vnode(i),Li(n.__P,i,r,n.__n,n.__P.namespaceURI,32&r.__u?[o]:null,a,o??ut(r),!!(32&r.__u),c),i.__v=r.__v,i.__.__k[i.__i]=i,Go(a,i,c),i.__e!=o&&Uo(i)),Fe.length>t&&Fe.sort(hi));mn.__r=0}function zo(e,t,n,i,r,o,a,c,l,u,h){var d,f,m,R,j,S=i&&i.__k||Ho,w=t.length;for(n.__d=l,bc(n,t,S),l=n.__d,d=0;d<w;d++)(m=n.__k[d])!=null&&(f=m.__i===-1?Nt:S[m.__i]||Nt,m.__i=d,Li(e,m,f,r,o,a,c,l,u,h),R=m.__e,m.ref&&f.ref!=m.ref&&(f.ref&&Hi(f.ref,null,m),h.push(m.ref,m.__c||R,m)),j==null&&R!=null&&(j=R),65536&m.__u||f.__k===m.__k?l=Wo(m,l,e):typeof m.type=="function"&&m.__d!==void 0?l=m.__d:R&&(l=R.nextSibling),m.__d=void 0,m.__u&=-196609);n.__d=l,n.__e=j}function bc(e,t,n){var i,r,o,a,c,l=t.length,u=n.length,h=u,d=0;for(e.__k=[],i=0;i<l;i++)(r=t[i])!=null&&typeof r!="boolean"&&typeof r!="function"?(a=i+d,(r=e.__k[i]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?Et(null,r,null,null,null):Pn(r)?Et(U,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?Et(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=e,r.__b=e.__b+1,o=null,(c=r.__i=Sc(r,n,a,h))!==-1&&(h--,(o=n[c])&&(o.__u|=131072)),o==null||o.__v===null?(c==-1&&d--,typeof r.type!="function"&&(r.__u|=65536)):c!==a&&(c==a-1?d--:c==a+1?d++:(c>a?d--:d++,r.__u|=65536))):r=e.__k[i]=null;if(h)for(i=0;i<u;i++)(o=n[i])!=null&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=ut(o)),qo(o,o))}function Wo(e,t,n){var i,r;if(typeof e.type=="function"){for(i=e.__k,r=0;i&&r<i.length;r++)i[r]&&(i[r].__=e,t=Wo(i[r],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=ut(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function he(e,t){return t=t||[],e==null||typeof e=="boolean"||(Pn(e)?e.some(function(n){he(n,t)}):t.push(e)),t}function Sc(e,t,n,i){var r=e.key,o=e.type,a=n-1,c=n+1,l=t[n];if(l===null||l&&r==l.key&&o===l.type&&!(131072&l.__u))return n;if(i>(l!=null&&!(131072&l.__u)?1:0))for(;a>=0||c<t.length;){if(a>=0){if((l=t[a])&&!(131072&l.__u)&&r==l.key&&o===l.type)return a;a--}if(c<t.length){if((l=t[c])&&!(131072&l.__u)&&r==l.key&&o===l.type)return c;c++}}return-1}function Pr(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||yc.test(t)?n:n+"px"}function tn(e,t,n,i,r){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||Pr(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||Pr(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?i?n.u=i.u:(n.u=Ii,e.addEventListener(t,o?mi:fi,o)):e.removeEventListener(t,o?mi:fi,o);else{if(r=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function Nr(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=Ii++;else if(t.t<n.u)return;return n(O.event?O.event(t):t)}}}function Li(e,t,n,i,r,o,a,c,l,u){var h,d,f,m,R,j,S,w,C,I,V,N,z,X,_,P,E=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),o=[c=t.__e=n.__e]),(h=O.__b)&&h(t);e:if(typeof E=="function")try{if(w=t.props,C="prototype"in E&&E.prototype.render,I=(h=E.contextType)&&i[h.__c],V=h?I?I.props.value:h.__:i,n.__c?S=(d=t.__c=n.__c).__=d.__E:(C?t.__c=d=new E(w,V):(t.__c=d=new de(w,V),d.constructor=E,d.render=kc),I&&I.sub(d),d.props=w,d.state||(d.state={}),d.context=V,d.__n=i,f=d.__d=!0,d.__h=[],d._sb=[]),C&&d.__s==null&&(d.__s=d.state),C&&E.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=xe({},d.__s)),xe(d.__s,E.getDerivedStateFromProps(w,d.__s))),m=d.props,R=d.state,d.__v=t,f)C&&E.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),C&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(C&&E.getDerivedStateFromProps==null&&w!==m&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(w,V),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(w,d.__s,V)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(d.props=w,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(Z){Z&&(Z.__=t)}),N=0;N<d._sb.length;N++)d.__h.push(d._sb[N]);d._sb=[],d.__h.length&&a.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(w,d.__s,V),C&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(m,R,j)})}if(d.context=V,d.props=w,d.__P=e,d.__e=!1,z=O.__r,X=0,C){for(d.state=d.__s,d.__d=!1,z&&z(t),h=d.render(d.props,d.state,d.context),_=0;_<d._sb.length;_++)d.__h.push(d._sb[_]);d._sb=[]}else do d.__d=!1,z&&z(t),h=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++X<25);d.state=d.__s,d.getChildContext!=null&&(i=xe(xe({},i),d.getChildContext())),C&&!f&&d.getSnapshotBeforeUpdate!=null&&(j=d.getSnapshotBeforeUpdate(m,R)),zo(e,Pn(P=h!=null&&h.type===U&&h.key==null?h.props.children:h)?P:[P],t,n,i,r,o,a,c,l,u),d.base=t.__e,t.__u&=-161,d.__h.length&&a.push(d),S&&(d.__E=d.__=null)}catch(Z){if(t.__v=null,l||o!=null){for(t.__u|=l?160:128;c&&c.nodeType===8&&c.nextSibling;)c=c.nextSibling;o[o.indexOf(c)]=null,t.__e=c}else t.__e=n.__e,t.__k=n.__k;O.__e(Z,t,n)}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=wc(n.__e,t,n,i,r,o,a,l,u);(h=O.diffed)&&h(t)}function Go(e,t,n){t.__d=void 0;for(var i=0;i<n.length;i++)Hi(n[i],n[++i],n[++i]);O.__c&&O.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(o){o.call(r)})}catch(o){O.__e(o,r.__v)}})}function wc(e,t,n,i,r,o,a,c,l){var u,h,d,f,m,R,j,S=n.props,w=t.props,C=t.type;if(C==="svg"?r="http://www.w3.org/2000/svg":C==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),o!=null){for(u=0;u<o.length;u++)if((m=o[u])&&"setAttribute"in m==!!C&&(C?m.localName===C:m.nodeType===3)){e=m,o[u]=null;break}}if(e==null){if(C===null)return document.createTextNode(w);e=document.createElementNS(r,C,w.is&&w),c&&(O.__m&&O.__m(t,o),c=!1),o=null}if(C===null)S===w||c&&e.data===w||(e.data=w);else{if(o=o&&Lt.call(e.childNodes),S=n.props||Nt,!c&&o!=null)for(S={},u=0;u<e.attributes.length;u++)S[(m=e.attributes[u]).name]=m.value;for(u in S)if(m=S[u],u!="children"){if(u=="dangerouslySetInnerHTML")d=m;else if(!(u in w)){if(u=="value"&&"defaultValue"in w||u=="checked"&&"defaultChecked"in w)continue;tn(e,u,null,m,r)}}for(u in w)m=w[u],u=="children"?f=m:u=="dangerouslySetInnerHTML"?h=m:u=="value"?R=m:u=="checked"?j=m:c&&typeof m!="function"||S[u]===m||tn(e,u,m,S[u],r);if(h)c||d&&(h.__html===d.__html||h.__html===e.innerHTML)||(e.innerHTML=h.__html),t.__k=[];else if(d&&(e.innerHTML=""),zo(e,Pn(f)?f:[f],t,n,i,C==="foreignObject"?"http://www.w3.org/1999/xhtml":r,o,a,o?o[0]:n.__k&&ut(n,0),c,l),o!=null)for(u=o.length;u--;)Vo(o[u]);c||(u="value",C==="progress"&&R==null?e.removeAttribute("value"):R!==void 0&&(R!==e[u]||C==="progress"&&!R||C==="option"&&R!==S[u])&&tn(e,u,R,S[u],r),u="checked",j!==void 0&&j!==e[u]&&tn(e,u,j,S[u],r))}return e}function Hi(e,t,n){try{if(typeof e=="function"){var i=typeof e.__u=="function";i&&e.__u(),i&&t==null||(e.__u=e(t))}else e.current=t}catch(r){O.__e(r,n)}}function qo(e,t,n){var i,r;if(O.unmount&&O.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||Hi(i,null,t)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){O.__e(o,t)}i.base=i.__P=null}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&qo(i[r],t,n||typeof e.type!="function");n||Vo(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function kc(e,t,n){return this.constructor(e,n)}function dt(e,t,n){var i,r,o,a;O.__&&O.__(e,t),r=(i=typeof n=="function")?null:n&&n.__k||t.__k,o=[],a=[],Li(t,e=(!i&&n||t).__k=Ce(U,null,[e]),r||Nt,Nt,t.namespaceURI,!i&&n?[n]:r?null:t.firstChild?Lt.call(t.childNodes):null,o,!i&&n?n:r?r.__e:t.firstChild,i,a),Go(o,e,a)}function Ko(e,t){dt(e,t,Ko)}function Vi(e,t,n){var i,r,o,a,c=xe({},e.props);for(o in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)o=="key"?i=t[o]:o=="ref"?r=t[o]:c[o]=t[o]===void 0&&a!==void 0?a[o]:t[o];return arguments.length>2&&(c.children=arguments.length>3?Lt.call(arguments,2):n),Et(e.type,c,i||e.key,r||e.ref,null)}function Ht(e,t){var n={__c:t="__cC"+Lo++,__:e,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,o;return this.getChildContext||(r=new Set,(o={})[t]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&r.forEach(function(c){c.__e=!0,_i(c)})},this.sub=function(a){r.add(a);var c=a.componentWillUnmount;a.componentWillUnmount=function(){r&&r.delete(a),c&&c.call(a)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}Lt=Ho.slice,O={__e:function(e,t,n,i){for(var r,o,a;t=t.__;)if((r=t.__c)&&!r.__)try{if((o=r.constructor)&&o.getDerivedStateFromError!=null&&(r.setState(o.getDerivedStateFromError(e)),a=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,i||{}),a=r.__d),a)return r.__E=r}catch(c){e=c}throw e}},Bo=0,de.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=xe({},this.state),typeof e=="function"&&(e=e(xe({},n),this.props)),e&&xe(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),_i(this))},de.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),_i(this))},de.prototype.render=U,Fe=[],Io=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,hi=function(e,t){return e.__v.__b-t.__v.__b},mn.__r=0,Ii=0,fi=Nr(!1),mi=Nr(!0),Lo=0;var Oc=0;function s(e,t,n,i,r,o){t||(t={});var a,c,l=t;"ref"in t&&(a=t.ref,delete t.ref);var u={type:e,props:l,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Oc,__i:-1,__u:0,__source:r,__self:o};if(typeof e=="function"&&(a=e.defaultProps))for(c in a)l[c]===void 0&&(l[c]=a[c]);return O.vnode&&O.vnode(u),u}class Yo{constructor(t){this.baseUrl=(t==null?void 0:t.baseUrl)||"/"}}const Jo=Ht(new Yo);var Ne,L,Jn,Mr,ht=0,Xo=[],W=O,Tr=W.__b,jr=W.__r,Br=W.diffed,Ir=W.__c,Lr=W.unmount,Hr=W.__;function Qe(e,t){W.__h&&W.__h(L,e,ht||t),ht=0;var n=L.__H||(L.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function $(e){return ht=1,Nn(Zo,e)}function Nn(e,t,n){var i=Qe(Ne++,2);if(i.t=e,!i.__c&&(i.__=[n?n(t):Zo(void 0,t),function(c){var l=i.__N?i.__N[0]:i.__[0],u=i.t(l,c);l!==u&&(i.__N=[u,i.__[1]],i.__c.setState({}))}],i.__c=L,!L.u)){var r=function(c,l,u){if(!i.__c.__H)return!0;var h=i.__c.__H.__.filter(function(f){return!!f.__c});if(h.every(function(f){return!f.__N}))return!o||o.call(this,c,l,u);var d=!1;return h.forEach(function(f){if(f.__N){var m=f.__[0];f.__=f.__N,f.__N=void 0,m!==f.__[0]&&(d=!0)}}),!(!d&&i.__c.props===c)&&(!o||o.call(this,c,l,u))};L.u=!0;var o=L.shouldComponentUpdate,a=L.componentWillUpdate;L.componentWillUpdate=function(c,l,u){if(this.__e){var h=o;o=void 0,r(c,l,u),o=h}a&&a.call(this,c,l,u)},L.shouldComponentUpdate=r}return i.__N||i.__}function q(e,t){var n=Qe(Ne++,3);!W.__s&&Wi(n.__H,t)&&(n.__=e,n.i=t,L.__H.__h.push(n))}function vt(e,t){var n=Qe(Ne++,4);!W.__s&&Wi(n.__H,t)&&(n.__=e,n.i=t,L.__h.push(n))}function J(e){return ht=5,Vt(function(){return{current:e}},[])}function Fi(e,t,n){ht=6,vt(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function Vt(e,t){var n=Qe(Ne++,7);return Wi(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function p(e,t){return ht=8,Vt(function(){return e},t)}function ee(e){var t=L.context[e.__c],n=Qe(Ne++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(L)),t.props.value):e.__}function Ui(e,t){W.useDebugValue&&W.useDebugValue(t?t(e):e)}function Ac(e){var t=Qe(Ne++,10),n=$();return t.__=e,L.componentDidCatch||(L.componentDidCatch=function(i,r){t.__&&t.__(i,r),n[1](i)}),[n[0],function(){n[1](void 0)}]}function zi(){var e=Qe(Ne++,11);if(!e.__){for(var t=L.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Cc(){for(var e;e=Xo.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(cn),e.__H.__h.forEach(gi),e.__H.__h=[]}catch(t){e.__H.__h=[],W.__e(t,e.__v)}}W.__b=function(e){L=null,Tr&&Tr(e)},W.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Hr&&Hr(e,t)},W.__r=function(e){jr&&jr(e),Ne=0;var t=(L=e.__c).__H;t&&(Jn===L?(t.__h=[],L.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(t.__h.forEach(cn),t.__h.forEach(gi),t.__h=[],Ne=0)),Jn=L},W.diffed=function(e){Br&&Br(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Xo.push(t)!==1&&Mr===W.requestAnimationFrame||((Mr=W.requestAnimationFrame)||Ec)(Cc)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Jn=L=null},W.__c=function(e,t){t.some(function(n){try{n.__h.forEach(cn),n.__h=n.__h.filter(function(i){return!i.__||gi(i)})}catch(i){t.some(function(r){r.__h&&(r.__h=[])}),t=[],W.__e(i,n.__v)}}),Ir&&Ir(e,t)},W.unmount=function(e){Lr&&Lr(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{cn(i)}catch(r){t=r}}),n.__H=void 0,t&&W.__e(t,n.__v))};var Vr=typeof requestAnimationFrame=="function";function Ec(e){var t,n=function(){clearTimeout(i),Vr&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);Vr&&(t=requestAnimationFrame(n))}function cn(e){var t=L,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),L=t}function gi(e){var t=L;e.__c=e.__(),L=t}function Wi(e,t){return!e||e.length!==t.length||t.some(function(n,i){return n!==e[i]})}function Zo(e,t){return typeof t=="function"?t(e):t}const Dc=500,Qo=({children:e,onClick:t,onDoubleClick:n})=>{const i=J(),[r,o]=$(null),a=p(c=>{r&&r+Dc>c.timeStamp?n():t(),o(c.timeStamp)},[r,o,t,n]);return q(()=>{if(r){const c=l=>{i.current&&!i.current.contains(l.target)&&o(null)};return window.addEventListener("mousedown",c),()=>window.removeEventListener("mousedown",c)}},[i,r,o]),Vi(e,{ref:i,onMouseDown:a})},xc={attributes:!0,childList:!0,subtree:!0,characterData:!0},ea=(e,t)=>{Array.from(e.children).forEach(n=>{n.nodeName==="IMG"&&!n.complete?n.onload=t:ea(n,t)})},Fr=({onHeight:e,onWidth:t,children:n,...i})=>{const[,r]=$({}),o=J(),a=p(()=>{if(o.current){const{width:c,height:l}=o.current.getBoundingClientRect(),u={width:c,height:l};ea(o.current,a),r(h=>(u.height!==h.height&&e&&e(u.height),u.width!==h.width&&t&&t(u.width),u))}},[o,r,e,t]);return q(()=>{if(o.current){a();const c=new MutationObserver(a);return c.observe(o.current,xc),()=>c.disconnect()}},[o,a]),es(a),s("div",{ref:o,...i,children:n})};var Ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $c(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}),n}var ta={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var c=arguments[a];c&&(o=r(o,i(c)))}return o}function i(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var c in o)t.call(o,c)&&o[c]&&(a=r(a,c));return a}function r(o,a){return a?o?o+" "+a:o+a:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(ta);var Pc=ta.exports;const H=Rc(Pc),na=({color:e})=>{const t=`mock-spinner-${e}`,n=H("mock-spinner",{[t]:!!e});return s("div",{className:n,children:[s("div",{}),s("div",{}),s("div",{}),s("div",{})]})},k="weapon",D="vitality",A="spirit",ia=[k,D,A],Nc=[0,500,1250,3e3,6e3],ra=[{name:"Basic Magazine",tier:1,cost:500,category:k,active:!1,icon:"item/basic_magazine"},{name:"Close Quarters",tier:1,cost:500,category:k,active:!1,icon:"item/close_quarters"},{name:"Headshot Booster",tier:1,cost:500,category:k,active:!1,icon:"item/headshot_booster"},{name:"High-Velocity Mag",tier:1,cost:500,category:k,active:!1,icon:"item/high_velocity_mag"},{name:"Hollow Point Ward",tier:1,cost:500,category:k,active:!1,icon:"item/hollow_point_ward"},{name:"Monster Rounds",tier:1,cost:500,category:k,active:!1,icon:"item/monster_rounds"},{name:"Rapid Rounds",tier:1,cost:500,category:k,active:!1,icon:"item/rapid_rounds"},{name:"Restorative Shot",tier:1,cost:500,category:k,active:!1,icon:"item/restorative_shot"},{name:"Active Reload",tier:2,cost:1250,category:k,active:!1,icon:"item/active_reload"},{name:"Berserker",tier:2,cost:1250,category:k,active:!1,icon:"item/berserker"},{name:"Fleetfoot",tier:2,cost:1250,category:k,active:!0,icon:"item/fleetfoot"},{name:"Kinetic Dash",tier:2,cost:1250,category:k,active:!1,icon:"item/kinetic_dash"},{name:"Long Range",tier:2,cost:1250,category:k,active:!1,icon:"item/long_range"},{name:"Melee Charge",tier:2,cost:1250,category:k,active:!1,icon:"item/melee_charge"},{name:"Mystic Shot",tier:2,cost:1250,category:k,active:!1,icon:"item/mystic_shot"},{name:"Slowing Bullets",tier:2,cost:1250,category:k,active:!1,icon:"item/slowing_bullets"},{name:"Soul Shredder Bullets",tier:2,cost:1250,category:k,active:!1,icon:"item/soul_shredder_bullets"},{name:"Swift Striker",tier:2,cost:1250,category:k,active:!1,icon:"item/swift_striker"},{name:"Alchemical Fire",tier:3,cost:3e3,category:k,active:!0,icon:"item/alchemical_fire"},{name:"Burst Fire",tier:3,cost:3e3,category:k,active:!1,icon:"item/burst_fire"},{name:"Escalating Resilience",tier:3,cost:3e3,category:k,active:!1,icon:"item/escalating_resilience"},{name:"Headhunter",tier:3,cost:3500,category:k,active:!1,icon:"item/headhunter"},{name:"Heroic Aura",tier:3,cost:3e3,category:k,active:!0,icon:"item/heroic_aura"},{name:"Hunter's Aura",tier:3,cost:3e3,category:k,active:!1,icon:"item/hunters_aura"},{name:"Intensifying Magazine",tier:3,cost:3e3,category:k,active:!1,icon:"item/intensifying_magazine"},{name:"Point Blank",tier:3,cost:3500,category:k,active:!1,icon:"item/point_blank"},{name:"Pristine Emblem",tier:3,cost:3500,category:k,active:!1,icon:"item/pristine_emblem"},{name:"Sharpshooter",tier:3,cost:4250,category:k,active:!1,icon:"item/sharpshooter"},{name:"Spellslinger Headshots",tier:3,cost:4250,category:k,active:!1,icon:"item/spellslinger_headshots"},{name:"Tesla Bullets",tier:3,cost:3e3,category:k,active:!1,icon:"item/tesla_bullets"},{name:"Titanic Magazine",tier:3,cost:3500,category:k,active:!1,icon:"item/titanic_magazine"},{name:"Toxic Bullets",tier:3,cost:3e3,category:k,active:!1,icon:"item/toxic_bullets"},{name:"Warp Stone",tier:3,cost:3e3,category:k,active:!0,icon:"item/warp_stone"},{name:"Crippling Headshot",tier:4,cost:6e3,category:k,active:!1,icon:"item/crippling_headshot"},{name:"Frenzy",tier:4,cost:6e3,category:k,active:!1,icon:"item/frenzy"},{name:"Glass Cannon",tier:4,cost:6e3,category:k,active:!1,icon:"item/glass_cannon"},{name:"Lucky Shot",tier:4,cost:6e3,category:k,active:!1,icon:"item/lucky_shot"},{name:"Ricochet",tier:4,cost:6e3,category:k,active:!1,icon:"item/ricochet"},{name:"Shadow Weave",tier:4,cost:6e3,category:k,active:!0,icon:"item/shadow_weave"},{name:"Silencer",tier:4,cost:7450,category:k,active:!1,icon:"item/silencer"},{name:"Spiritual Overflow",tier:4,cost:6e3,category:k,active:!1,icon:"item/spiritual_overflow"},{name:"Vampiric Burst",tier:4,cost:6e3,category:k,active:!0,icon:"item/vampiric_burst"},{name:"Enduring Spirit",tier:1,cost:500,category:D,active:!1,icon:"item/enduring_spirit"},{name:"Extra Health",tier:1,cost:500,category:D,active:!1,icon:"item/extra_health"},{name:"Extra Regen",tier:1,cost:500,category:D,active:!1,icon:"item/extra_regen"},{name:"Extra Stamina",tier:1,cost:500,category:D,active:!1,icon:"item/extra_stamina"},{name:"Healing Rite",tier:1,cost:500,category:D,active:!0,icon:"item/healing_rite"},{name:"Melee Lifesteal",tier:1,cost:500,category:D,active:!1,icon:"item/melee_lifesteal"},{name:"Sprint Boots",tier:1,cost:500,category:D,active:!1,icon:"item/sprint_boots"},{name:"Bullet Armor",tier:2,cost:1250,category:D,active:!1,icon:"item/bullet_armor"},{name:"Bullet Lifesteal",tier:2,cost:1250,category:D,active:!1,icon:"item/bullet_lifesteal"},{name:"Combat Barrier",tier:2,cost:1250,category:D,active:!1,icon:"item/combat_barrier"},{name:"Debuff Reducer",tier:2,cost:1250,category:D,active:!1,icon:"item/debuff_reducer"},{name:"Divine Barrier",tier:2,cost:1250,category:D,active:!0,icon:"item/divine_barrier"},{name:"Enchanter's Barrier",tier:2,cost:1250,category:D,active:!1,icon:"item/enchanters_barrier"},{name:"Enduring Speed",tier:2,cost:1750,category:D,active:!1,icon:"item/enduring_speed"},{name:"Healbane",tier:2,cost:1250,category:D,active:!1,icon:"item/healbane"},{name:"Healing Booster",tier:2,cost:1250,category:D,active:!1,icon:"item/healing_booster"},{name:"Healing Nova",tier:2,cost:1750,category:D,active:!0,icon:"item/healing_nova"},{name:"Reactive Barrier",tier:2,cost:1250,category:D,active:!1,icon:"item/reactive_barrier"},{name:"Restorative Locket",tier:2,cost:1250,category:D,active:!0,icon:"item/restorative_locket"},{name:"Return Fire",tier:2,cost:1250,category:D,active:!0,icon:"item/return_fire"},{name:"Spirit Armor",tier:2,cost:1250,category:D,active:!1,icon:"item/spirit_armor"},{name:"Spirit Lifesteal",tier:2,cost:1250,category:D,active:!1,icon:"item/spirit_lifesteal"},{name:"Debuff Remover",tier:3,cost:4250,category:D,active:!0,icon:"item/debuff_remover"},{name:"Fortitude",tier:3,cost:3500,category:D,active:!1,icon:"item/fortitude"},{name:"Improved Bullet Armor",tier:3,cost:4250,category:D,active:!1,icon:"item/improved_bullet_armor"},{name:"Improved Spirit Armor",tier:3,cost:4250,category:D,active:!1,icon:"item/improved_spirit_armor"},{name:"Lifestrike",tier:3,cost:3500,category:D,active:!1,icon:"item/lifestrike"},{name:"Majestic Leap",tier:3,cost:3e3,category:D,active:!0,icon:"item/majestic_leap"},{name:"Metal Skin",tier:3,cost:3e3,category:D,active:!0,icon:"item/metal_skin"},{name:"Rescue Beam",tier:3,cost:3e3,category:D,active:!0,icon:"item/rescue_beam"},{name:"Superior Stamina",tier:3,cost:3500,category:D,active:!1,icon:"item/superior_stamina"},{name:"Colossus",tier:4,cost:6e3,category:D,active:!0,icon:"item/colossus"},{name:"Inhibitor",tier:4,cost:6e3,category:D,active:!1,icon:"item/inhibitor"},{name:"Leech",tier:4,cost:6e3,category:D,active:!1,icon:"item/leech"},{name:"Phantom Strike",tier:4,cost:6e3,category:D,active:!0,icon:"item/phantom_strike"},{name:"Siphon Bullets",tier:4,cost:6e3,category:D,active:!1,icon:"item/siphon_bullets"},{name:"Unstoppable",tier:4,cost:6e3,category:D,active:!0,icon:"item/unstoppable"},{name:"Veil Walker",tier:4,cost:6e3,category:D,active:!1,icon:"item/veil_walker"},{name:"Ammo Scavenger",tier:1,cost:500,category:A,active:!1,icon:"item/ammo_scavenger"},{name:"Extra Charge",tier:1,cost:500,category:A,active:!1,icon:"item/extra_charge"},{name:"Extra Spirit",tier:1,cost:500,category:A,active:!1,icon:"item/extra_spirit"},{name:"Infuser",tier:1,cost:500,category:A,active:!0,icon:"item/infuser"},{name:"Mystic Burst",tier:1,cost:500,category:A,active:!1,icon:"item/mystic_burst"},{name:"Mystic Reach",tier:1,cost:500,category:A,active:!1,icon:"item/mystic_reach"},{name:"Spirit Strike",tier:1,cost:500,category:A,active:!1,icon:"item/spirit_strike"},{name:"Bullet Resist Shredder",tier:2,cost:1250,category:A,active:!1,icon:"item/bullet_resist_shredder"},{name:"Cold Front",tier:2,cost:1250,category:A,active:!0,icon:"item/cold_front"},{name:"Decay",tier:2,cost:1250,category:A,active:!0,icon:"item/decay"},{name:"Duration Extender",tier:2,cost:1250,category:A,active:!1,icon:"item/duration_extender"},{name:"Improved Cooldown",tier:2,cost:1250,category:A,active:!1,icon:"item/improved_cooldown"},{name:"Mystic Vulnerability",tier:2,cost:1250,category:A,active:!1,icon:"item/mystic_vulnerability"},{name:"Quicksilver Reload",tier:2,cost:1250,category:A,active:!1,icon:"item/quicksilver_reload"},{name:"Slowing Hex",tier:2,cost:1750,category:A,active:!0,icon:"item/slowing_hex"},{name:"Suppressor",tier:2,cost:1250,category:A,active:!1,icon:"item/suppressor"},{name:"Withering Whip",tier:2,cost:1250,category:A,active:!0,icon:"item/withering_whip"},{name:"Arcane Surge",tier:3,cost:4250,category:A,active:!1,icon:"item/arcane_surge"},{name:"Ethereal Shift",tier:3,cost:3e3,category:A,active:!0,icon:"item/ethereal_shift"},{name:"Improved Burst",tier:3,cost:3500,category:A,active:!1,icon:"item/improved_burst"},{name:"Improved Reach",tier:3,cost:3500,category:A,active:!1,icon:"item/improved_reach"},{name:"Improved Spirit",tier:3,cost:3500,category:A,active:!1,icon:"item/improved_spirit"},{name:"Knockdown",tier:3,cost:3e3,category:A,active:!0,icon:"item/knockdown"},{name:"Mystic Slow",tier:3,cost:4250,category:A,active:!1,icon:"item/mystic_slow"},{name:"Rapid Recharge",tier:3,cost:3500,category:A,active:!1,icon:"item/rapid_recharge"},{name:"Silence Glyph",tier:3,cost:3e3,category:A,active:!0,icon:"item/silence_glyph"},{name:"Spirit Snatch",tier:3,cost:3500,category:A,active:!1,icon:"item/spirit_snatch"},{name:"Superior Cooldown",tier:3,cost:4250,category:A,active:!1,icon:"item/superior_cooldown"},{name:"Superior Duration",tier:3,cost:4250,category:A,active:!1,icon:"item/superior_duration"},{name:"Surge of Power",tier:3,cost:3e3,category:A,active:!1,icon:"item/surge_of_power"},{name:"Torment Pulse",tier:3,cost:3e3,category:A,active:!1,icon:"item/torment_pulse"},{name:"Boundless Spirit",tier:4,cost:9700,category:A,active:!1,icon:"item/boundless_spirit"},{name:"Curse",tier:4,cost:6e3,category:A,active:!0,icon:"item/curse"},{name:"Diviner's Kevlar",tier:4,cost:6e3,category:A,active:!1,icon:"item/diviners_kevlar"},{name:"Echo Shard",tier:4,cost:6e3,category:A,active:!0,icon:"item/echo_shard"},{name:"Escalating Exposure",tier:4,cost:7450,category:A,active:!1,icon:"item/escalating_exposure"},{name:"Magic Carpet",tier:4,cost:6e3,category:A,active:!0,icon:"item/magic_carpet"},{name:"Mystic Reverb",tier:4,cost:6e3,category:A,active:!1,icon:"item/mystic_reverb"},{name:"Refresher",tier:4,cost:6e3,category:A,active:!0,icon:"item/refresher"}],_n=Object.fromEntries(ra.map(e=>[e.name,e])),Mc=Object.groupBy(ra,e=>e.category),Dt=Object.fromEntries(Object.entries(Mc).map(([e,t])=>[e,Object.groupBy(t,n=>n.tier)]));Object.values(Dt).forEach(e=>Object.values(e).forEach(t=>t.sort((n,i)=>n.active<i.active?-1:n.active>i.active?1:n.name<i.name?-1:n.name>i.name?1:0)));const Gi=[["stat/cooldown","stat/charge","stat/charge_cooldown","stat/duration","stat/range","stat/aoe"],["stat/weapon_damage","stat/spirit_damage","stat/melee","stat/bullet","stat/fire_rate","stat/ammo","stat/reload"],["stat/bullet_armor","stat/bullet_resist_reduction","stat/spirit_armor","stat/spirit_resist_reduction","stat/bullet_shield","stat/spirit_shield"],["stat/move_speed","stat/stamina","stat/move_slow","stat/stun","stat/invisible"],["stat/health","stat/healing","stat/damage_amplification"],["stat/placeholder","stat/ability_point","stat/silence"]];Gi.flat();const oa={abrams:["hero/abrams/siphon_life","hero/abrams/shoulder_charge","hero/abrams/infernal_resilience","hero/abrams/seismic_impact"],bebop:["hero/bebop/exploding_uppercut","hero/bebop/sticky_bomb","hero/bebop/hook","hero/bebop/hyper_beam"],dynamo:["hero/dynamo/kinetic_pulse","hero/dynamo/quantum_entanglement","hero/dynamo/rejuvenating_aurora","hero/dynamo/singularity"],grey_talon:["hero/grey_talon/charged_shot","hero/grey_talon/rain_of_arrows","hero/grey_talon/spirit_snare","hero/grey_talon/guided_owl"],haze:["hero/haze/sleep_dagger","hero/haze/smoke_bomb","hero/haze/fixation","hero/haze/bullet_dance"],infernus:["hero/infernus/catalyst","hero/infernus/flame_dash","hero/infernus/afterburn","hero/infernus/concussive_combustion"],ivy:["hero/ivy/kudzu_bomb","hero/ivy/watchers_covenant","hero/ivy/stone_form","hero/ivy/air_drop"],kelvin:["hero/kelvin/frost_grenade","hero/kelvin/ice_path","hero/kelvin/arctic_beam","hero/kelvin/frozen_shelter"],lady_geist:["hero/lady_geist/essence_bomb","hero/lady_geist/life_drain","hero/lady_geist/malice","hero/lady_geist/soul_exchange"],lash:["hero/lash/ground_strike","hero/lash/grapple","hero/lash/flog","hero/lash/death_slam"],mcginnis:["hero/mcginnis/mini_turret","hero/mcginnis/medicinal_specter","hero/mcginnis/spectral_wall","hero/mcginnis/heavy_barrage"],mirage:["hero/mirage/fire_scarabs","hero/mirage/tornado","hero/mirage/djinns_mark","hero/mirage/traveler"],mo_and_krill:["hero/mo_and_krill/scorn","hero/mo_and_krill/burrow","hero/mo_and_krill/sand_blast","hero/mo_and_krill/combo"],paradox:["hero/paradox/pulse_grenade","hero/paradox/time_wall","hero/paradox/kinetic_carbine","hero/paradox/paradoxical_swap"],pocket:["hero/pocket/barrage","hero/pocket/flying_cloak","hero/pocket/enchanters_satchel","hero/pocket/affliction"],seven:["hero/seven/lightning_ball","hero/seven/static_charge","hero/seven/power_surge","hero/seven/storm_cloud"],shiv:["hero/shiv/serrated_knives","hero/shiv/slice_and_dice","hero/shiv/bloodletting","hero/shiv/killing_blow"],vindicta:["hero/vindicta/stake","hero/vindicta/flight","hero/vindicta/crow_familiar","hero/vindicta/assassinate"],viscous:["hero/viscous/splatter","hero/viscous/the_cube","hero/viscous/puddle_punch","hero/viscous/goo_ball"],warden:["hero/warden/alchemical_flask","hero/warden/willpower","hero/warden/binding_word","hero/warden/last_stand"],wraith:["hero/wraith/card_trick","hero/wraith/project_mind","hero/wraith/full_auto","hero/wraith/telekinesis"],yamato:["hero/yamato/power_slash","hero/yamato/flying_strike","hero/yamato/crimson_slash","hero/yamato/shadow_transformation"]};new Set(Object.values(oa).flatMap(e=>e));function M(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var Tc={};function Mn(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:Tc}var aa=Object.assign,gn=Object.getOwnPropertyDescriptor,we=Object.defineProperty,Tn=Object.prototype,pi=[];Object.freeze(pi);var sa={};Object.freeze(sa);var jc=typeof Proxy<"u",Bc=Object.toString();function ca(){jc||M("Proxy not available")}function la(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var st=function(){};function ge(e){return typeof e=="function"}function We(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function jn(e){return e!==null&&typeof e=="object"}function Me(e){if(!jn(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===Bc}function ua(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function Ft(e,t,n){we(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function da(e,t,n){we(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function et(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(i){return jn(i)&&i[n]===!0}}function yt(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function Ic(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),i=Object.getPrototypeOf(n);return i===null}function Ee(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var ha=typeof Object.getOwnPropertySymbols<"u";function Lc(e){var t=Object.keys(e);if(!ha)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(i){return Tn.propertyIsEnumerable.call(e,i)})):t}var ft=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:ha?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function fa(e){return e===null?null:typeof e=="object"?""+e:e}function Re(e,t){return Tn.hasOwnProperty.call(e,t)}var Hc=Object.getOwnPropertyDescriptors||function(t){var n={};return ft(t).forEach(function(i){n[i]=gn(t,i)}),n};function ne(e,t){return!!(e&t)}function ie(e,t,n){return n?e|=t:e&=~t,e}function Ur(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function Vc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Uc(i.key),i)}}function bt(e,t,n){return t&&Vc(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ct(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=zc(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ge.apply(null,arguments)}function ma(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,vi(e,t)}function vi(e,t){return vi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vi(e,t)}function Fc(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Uc(e){var t=Fc(e,"string");return typeof t=="symbol"?t:t+""}function zc(e,t){if(e){if(typeof e=="string")return Ur(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ur(e,t):void 0}}var Se=Symbol("mobx-stored-annotations");function ke(e){function t(n,i){if(zt(i))return e.decorate_20223_(n,i);Ut(n,i,e)}return Object.assign(t,e)}function Ut(e,t,n){Re(e,Se)||Ft(e,Se,Ge({},e[Se])),Qc(n)||(e[Se][t]=n)}function Wc(e){return Re(e,Se)||Ft(e,Se,Ge({},e[Se])),e[Se]}function zt(e){return typeof e=="object"&&typeof e.kind=="string"}var b=Symbol("mobx administration"),Ie=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=T.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},t.reportObserved=function(){return $a(this)},t.reportChanged=function(){ce(),Pa(this),le()},t.toString=function(){return this.name_},bt(e,[{key:"isBeingObserved",get:function(){return ne(this.flags_,e.isBeingObservedMask_)},set:function(i){this.flags_=ie(this.flags_,e.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return ne(this.flags_,e.isPendingUnobservationMask_)},set:function(i){this.flags_=ie(this.flags_,e.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return ne(this.flags_,e.diffValueMask_)?1:0},set:function(i){this.flags_=ie(this.flags_,e.diffValueMask_,i===1)}}])}();Ie.isBeingObservedMask_=1;Ie.isPendingUnobservationMask_=2;Ie.diffValueMask_=4;var qi=et("Atom",Ie);function _a(e,t,n){t===void 0&&(t=st),n===void 0&&(n=st);var i=new Ie(e);return t!==st&&tu(i,t),n!==st&&La(i,n),i}function Gc(e,t){return e===t}function qc(e,t){return er(e,t)}function Kc(e,t){return er(e,t,1)}function Yc(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var pn={identity:Gc,structural:qc,default:Yc,shallow:Kc};function qe(e,t,n){return za(e)?e:Array.isArray(e)?K.array(e,{name:n}):Me(e)?K.object(e,void 0,{name:n}):yt(e)?K.map(e,{name:n}):Ee(e)?K.set(e,{name:n}):typeof e=="function"&&!Tt(e)&&!jt(e)?ua(e)?mt(e):Mt(n,e):e}function Jc(e,t,n){if(e==null||Fn(e)||Vn(e)||nt(e)||be(e))return e;if(Array.isArray(e))return K.array(e,{name:n,deep:!1});if(Me(e))return K.object(e,void 0,{name:n,deep:!1});if(yt(e))return K.map(e,{name:n,deep:!1});if(Ee(e))return K.set(e,{name:n,deep:!1})}function Bn(e){return e}function Xc(e,t){return er(e,t)?t:e}var Zc="override";function Qc(e){return e.annotationType_===Zc}function Wt(e,t){return{annotationType_:e,options_:t,make_:el,extend_:tl,decorate_20223_:nl}}function el(e,t,n,i){var r;if((r=this.options_)!=null&&r.bound)return this.extend_(e,t,n,!1)===null?0:1;if(i===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(Tt(n.value))return 1;var o=ga(e,this,t,n,!1);return we(i,t,o),2}function tl(e,t,n,i){var r=ga(e,this,t,n);return e.defineProperty_(t,r,i)}function nl(e,t){var n=t.kind,i=t.name,r=t.addInitializer,o=this,a=function(u){var h,d,f,m;return Ke((h=(d=o.options_)==null?void 0:d.name)!=null?h:i.toString(),u,(f=(m=o.options_)==null?void 0:m.autoAction)!=null?f:!1)};if(n=="field")return function(l){var u,h=l;return Tt(h)||(h=a(h)),(u=o.options_)!=null&&u.bound&&(h=h.bind(this),h.isMobxAction=!0),h};if(n=="method"){var c;return Tt(e)||(e=a(e)),(c=this.options_)!=null&&c.bound&&r(function(){var l=this,u=l[i].bind(l);u.isMobxAction=!0,l[i]=u}),e}M("Cannot apply '"+o.annotationType_+"' to '"+String(i)+"' (kind: "+n+"):"+(`
'`+o.annotationType_+"' can only be used on properties with a function value."))}function il(e,t,n,i){t.annotationType_,i.value}function ga(e,t,n,i,r){var o,a,c,l,u,h,d;r===void 0&&(r=g.safeDescriptors),il(e,t,n,i);var f=i.value;if((o=t.options_)!=null&&o.bound){var m;f=f.bind((m=e.proxy_)!=null?m:e.target_)}return{value:Ke((a=(c=t.options_)==null?void 0:c.name)!=null?a:n.toString(),f,(l=(u=t.options_)==null?void 0:u.autoAction)!=null?l:!1,(h=t.options_)!=null&&h.bound?(d=e.proxy_)!=null?d:e.target_:void 0),configurable:r?e.isPlainObject_:!0,enumerable:!1,writable:!r}}function pa(e,t){return{annotationType_:e,options_:t,make_:rl,extend_:ol,decorate_20223_:al}}function rl(e,t,n,i){var r;if(i===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((r=this.options_)!=null&&r.bound&&(!Re(e.target_,t)||!jt(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(jt(n.value))return 1;var o=va(e,this,t,n,!1,!1);return we(i,t,o),2}function ol(e,t,n,i){var r,o=va(e,this,t,n,(r=this.options_)==null?void 0:r.bound);return e.defineProperty_(t,o,i)}function al(e,t){var n,i=t.name,r=t.addInitializer;return jt(e)||(e=mt(e)),(n=this.options_)!=null&&n.bound&&r(function(){var o=this,a=o[i].bind(o);a.isMobXFlow=!0,o[i]=a}),e}function sl(e,t,n,i){t.annotationType_,i.value}function va(e,t,n,i,r,o){o===void 0&&(o=g.safeDescriptors),sl(e,t,n,i);var a=i.value;if(jt(a)||(a=mt(a)),r){var c;a=a.bind((c=e.proxy_)!=null?c:e.target_),a.isMobXFlow=!0}return{value:a,configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function Ki(e,t){return{annotationType_:e,options_:t,make_:cl,extend_:ll,decorate_20223_:ul}}function cl(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function ll(e,t,n,i){return dl(e,this,t,n),e.defineComputedProperty_(t,Ge({},this.options_,{get:n.get,set:n.set}),i)}function ul(e,t){var n=this,i=t.name,r=t.addInitializer;return r(function(){var o=it(this)[b],a=Ge({},n.options_,{get:e,context:this});a.name||(a.name="ObservableObject."+i.toString()),o.values_.set(i,new pe(a))}),function(){return this[b].getObservablePropValue_(i)}}function dl(e,t,n,i){t.annotationType_,i.get}function In(e,t){return{annotationType_:e,options_:t,make_:hl,extend_:fl,decorate_20223_:ml}}function hl(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function fl(e,t,n,i){var r,o;return _l(e,this),e.defineObservableProperty_(t,n.value,(r=(o=this.options_)==null?void 0:o.enhancer)!=null?r:qe,i)}function ml(e,t){var n=this,i=t.kind,r=t.name,o=new WeakSet;function a(c,l){var u,h,d=it(c)[b],f=new ze(l,(u=(h=n.options_)==null?void 0:h.enhancer)!=null?u:qe,"ObservableObject."+r.toString(),!1);d.values_.set(r,f),o.add(c)}if(i=="accessor")return{get:function(){return o.has(this)||a(this,e.get.call(this)),this[b].getObservablePropValue_(r)},set:function(l){return o.has(this)||a(this,l),this[b].setObservablePropValue_(r,l)},init:function(l){return o.has(this)||a(this,l),l}}}function _l(e,t,n,i){t.annotationType_}var gl="true",pl=ya();function ya(e){return{annotationType_:gl,options_:e,make_:vl,extend_:yl,decorate_20223_:bl}}function vl(e,t,n,i){var r,o;if(n.get)return Ln.make_(e,t,n,i);if(n.set){var a=Ke(t.toString(),n.set);return i===e.target_?e.defineProperty_(t,{configurable:g.safeDescriptors?e.isPlainObject_:!0,set:a})===null?0:2:(we(i,t,{configurable:!0,set:a}),2)}if(i!==e.target_&&typeof n.value=="function"){var c;if(ua(n.value)){var l,u=(l=this.options_)!=null&&l.autoBind?mt.bound:mt;return u.make_(e,t,n,i)}var h=(c=this.options_)!=null&&c.autoBind?Mt.bound:Mt;return h.make_(e,t,n,i)}var d=((r=this.options_)==null?void 0:r.deep)===!1?K.ref:K;if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var f;n.value=n.value.bind((f=e.proxy_)!=null?f:e.target_)}return d.make_(e,t,n,i)}function yl(e,t,n,i){var r,o;if(n.get)return Ln.extend_(e,t,n,i);if(n.set)return e.defineProperty_(t,{configurable:g.safeDescriptors?e.isPlainObject_:!0,set:Ke(t.toString(),n.set)},i);if(typeof n.value=="function"&&(r=this.options_)!=null&&r.autoBind){var a;n.value=n.value.bind((a=e.proxy_)!=null?a:e.target_)}var c=((o=this.options_)==null?void 0:o.deep)===!1?K.ref:K;return c.extend_(e,t,n,i)}function bl(e,t){M("'"+this.annotationType_+"' cannot be used as a decorator")}var Sl="observable",wl="observable.ref",kl="observable.shallow",Ol="observable.struct",ba={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(ba);function nn(e){return e||ba}var yi=In(Sl),Al=In(wl,{enhancer:Bn}),Cl=In(kl,{enhancer:Jc}),El=In(Ol,{enhancer:Xc}),Sa=ke(yi);function rn(e){return e.deep===!0?qe:e.deep===!1?Bn:xl(e.defaultDecorator)}function Dl(e){var t;return e?(t=e.defaultDecorator)!=null?t:ya(e):void 0}function xl(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:qe}function wa(e,t,n){if(zt(t))return yi.decorate_20223_(e,t);if(We(t)){Ut(e,t,yi);return}return za(e)?e:Me(e)?K.object(e,t,n):Array.isArray(e)?K.array(e,t):yt(e)?K.map(e,t):Ee(e)?K.set(e,t):typeof e=="object"&&e!==null?e:K.box(e,t)}aa(wa,Sa);var Rl={box:function(t,n){var i=nn(n);return new ze(t,rn(i),i.name,!0,i.equals)},array:function(t,n){var i=nn(n);return(g.useProxies===!1||i.proxy===!1?Au:_u)(t,rn(i),i.name)},map:function(t,n){var i=nn(n);return new Ga(t,rn(i),i.name)},set:function(t,n){var i=nn(n);return new qa(t,rn(i),i.name)},object:function(t,n,i){return Le(function(){return Va(g.useProxies===!1||(i==null?void 0:i.proxy)===!1?it({},i):du({},i),t,n)})},ref:ke(Al),shallow:ke(Cl),deep:Sa,struct:ke(El)},K=aa(wa,Rl),ka="computed",$l="computed.struct",bi=Ki(ka),Pl=Ki($l,{equals:pn.structural}),Ln=function(t,n){if(zt(n))return bi.decorate_20223_(t,n);if(We(n))return Ut(t,n,bi);if(Me(t))return ke(Ki(ka,t));var i=Me(n)?n:{};return i.get=t,i.name||(i.name=t.name||""),new pe(i)};Object.assign(Ln,bi);Ln.struct=ke(Pl);var zr,Wr,vn=0,Nl=1,Ml=(zr=(Wr=gn(function(){},"name"))==null?void 0:Wr.configurable)!=null?zr:!1,Gr={value:"action",configurable:!0,writable:!1,enumerable:!1};function Ke(e,t,n,i){n===void 0&&(n=!1);function r(){return Oa(e,n,t,i||this,arguments)}return r.isMobxAction=!0,r.toString=function(){return t.toString()},Ml&&(Gr.value=e,we(r,"name",Gr)),r}function Oa(e,t,n,i,r){var o=Tl(e,t);try{return n.apply(i,r)}catch(a){throw o.error_=a,a}finally{jl(o)}}function Tl(e,t,n,i){var r=!1,o=0,a=g.trackingDerivation,c=!t||!a;ce();var l=g.allowStateChanges;c&&(tt(),l=Yi(!0));var u=Xi(!0),h={runAsAction_:c,prevDerivation_:a,prevAllowStateChanges_:l,prevAllowStateReads_:u,notifySpy_:r,startTime_:o,actionId_:Nl++,parentActionId_:vn};return vn=h.actionId_,h}function jl(e){vn!==e.actionId_&&M(30),vn=e.parentActionId_,e.error_!==void 0&&(g.suppressReactionErrors=!0),Ji(e.prevAllowStateChanges_),xt(e.prevAllowStateReads_),le(),e.runAsAction_&&$e(e.prevDerivation_),g.suppressReactionErrors=!1}function Yi(e){var t=g.allowStateChanges;return g.allowStateChanges=e,t}function Ji(e){g.allowStateChanges=e}var ze=function(e){function t(i,r,o,a,c){var l;return o===void 0&&(o="ObservableValue"),c===void 0&&(c=pn.default),l=e.call(this,o)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=r,l.name_=o,l.equals=c,l.value_=r(i,void 0,o),l}ma(t,e);var n=t.prototype;return n.dehanceValue=function(r){return this.dehancer!==void 0?this.dehancer(r):r},n.set=function(r){this.value_,r=this.prepareNewValue_(r),r!==g.UNCHANGED&&this.setNewValue_(r)},n.prepareNewValue_=function(r){if(ae(this)){var o=se(this,{object:this,type:Oe,newValue:r});if(!o)return g.UNCHANGED;r=o.newValue}return r=this.enhancer(r,this.value_,this.name_),this.equals(this.value_,r)?g.UNCHANGED:r},n.setNewValue_=function(r){var o=this.value_;this.value_=r,this.reportChanged(),fe(this)&&me(this,{type:Oe,object:this,newValue:r,oldValue:o})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(r){return Gt(this,r)},n.observe_=function(r,o){return o&&r({observableKind:"value",debugObjectName:this.name_,object:this,type:Oe,newValue:this.value_,oldValue:void 0}),qt(this,r)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return fa(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(Ie),pe=function(){function e(n){this.dependenciesState_=T.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=T.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new bn(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=yn.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||M(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Ke("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?pn.structural:pn.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){Vl(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},t.get=function(){if(this.isComputing&&M(32,this.name_,this.derivation),g.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Si(this)&&(this.warnAboutUntrackedRead_(),ce(),this.value_=this.computeValue_(!1),le());else if($a(this),Si(this)){var i=g.trackingContext;this.keepAlive_&&!i&&(g.trackingContext=this),this.trackAndCompute()&&Hl(this),g.trackingContext=i}var r=this.value_;if(ln(r))throw r.cause;return r},t.set=function(i){if(this.setter_){this.isRunningSetter&&M(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,i)}finally{this.isRunningSetter=!1}}else M(34,this.name_)},t.trackAndCompute=function(){var i=this.value_,r=this.dependenciesState_===T.NOT_TRACKING_,o=this.computeValue_(!0),a=r||ln(i)||ln(o)||!this.equals_(i,o);return a&&(this.value_=o),a},t.computeValue_=function(i){this.isComputing=!0;var r=Yi(!1),o;if(i)o=Aa(this,this.derivation,this.scope_);else if(g.disableErrorBoundaries===!0)o=this.derivation.call(this.scope_);else try{o=this.derivation.call(this.scope_)}catch(a){o=new bn(a)}return Ji(r),this.isComputing=!1,o},t.suspend_=function(){this.keepAlive_||(wi(this),this.value_=void 0)},t.observe_=function(i,r){var o=this,a=!0,c=void 0;return Ia(function(){var l=o.get();if(!a||r){var u=tt();i({observableKind:"computed",debugObjectName:o.name_,type:Oe,object:o,newValue:l,oldValue:c}),$e(u)}a=!1,c=l})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return fa(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},bt(e,[{key:"isComputing",get:function(){return ne(this.flags_,e.isComputingMask_)},set:function(i){this.flags_=ie(this.flags_,e.isComputingMask_,i)}},{key:"isRunningSetter",get:function(){return ne(this.flags_,e.isRunningSetterMask_)},set:function(i){this.flags_=ie(this.flags_,e.isRunningSetterMask_,i)}},{key:"isBeingObserved",get:function(){return ne(this.flags_,e.isBeingObservedMask_)},set:function(i){this.flags_=ie(this.flags_,e.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return ne(this.flags_,e.isPendingUnobservationMask_)},set:function(i){this.flags_=ie(this.flags_,e.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return ne(this.flags_,e.diffValueMask_)?1:0},set:function(i){this.flags_=ie(this.flags_,e.diffValueMask_,i===1)}}])}();pe.isComputingMask_=1;pe.isRunningSetterMask_=2;pe.isBeingObservedMask_=4;pe.isPendingUnobservationMask_=8;pe.diffValueMask_=16;var Hn=et("ComputedValue",pe),T;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(T||(T={}));var yn;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(yn||(yn={}));var bn=function(t){this.cause=void 0,this.cause=t};function ln(e){return e instanceof bn}function Si(e){switch(e.dependenciesState_){case T.UP_TO_DATE_:return!1;case T.NOT_TRACKING_:case T.STALE_:return!0;case T.POSSIBLY_STALE_:{for(var t=Xi(!0),n=tt(),i=e.observing_,r=i.length,o=0;o<r;o++){var a=i[o];if(Hn(a)){if(g.disableErrorBoundaries)a.get();else try{a.get()}catch{return $e(n),xt(t),!0}if(e.dependenciesState_===T.STALE_)return $e(n),xt(t),!0}}return Ea(e),$e(n),xt(t),!1}}}function Aa(e,t,n){var i=Xi(!0);Ea(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++g.runId;var r=g.trackingDerivation;g.trackingDerivation=e,g.inBatch++;var o;if(g.disableErrorBoundaries===!0)o=t.call(n);else try{o=t.call(n)}catch(a){o=new bn(a)}return g.inBatch--,g.trackingDerivation=r,Bl(e),xt(i),o}function Bl(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,i=T.UP_TO_DATE_,r=0,o=e.unboundDepsCount_,a=0;a<o;a++){var c=n[a];c.diffValue===0&&(c.diffValue=1,r!==a&&(n[r]=c),r++),c.dependenciesState_>i&&(i=c.dependenciesState_)}for(n.length=r,e.newObserving_=null,o=t.length;o--;){var l=t[o];l.diffValue===0&&xa(l,e),l.diffValue=0}for(;r--;){var u=n[r];u.diffValue===1&&(u.diffValue=0,Ll(u,e))}i!==T.UP_TO_DATE_&&(e.dependenciesState_=i,e.onBecomeStale_())}function wi(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)xa(t[n],e);e.dependenciesState_=T.NOT_TRACKING_}function Ca(e){var t=tt();try{return e()}finally{$e(t)}}function tt(){var e=g.trackingDerivation;return g.trackingDerivation=null,e}function $e(e){g.trackingDerivation=e}function Xi(e){var t=g.allowStateReads;return g.allowStateReads=e,t}function xt(e){g.allowStateReads=e}function Ea(e){if(e.dependenciesState_!==T.UP_TO_DATE_){e.dependenciesState_=T.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=T.UP_TO_DATE_}}var un=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},dn=!0,Da=!1,g=function(){var e=Mn();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(dn=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new un().version&&(dn=!1),dn?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new un):(setTimeout(function(){Da||M(35)},1),new un)}();function Il(){if((g.pendingReactions.length||g.inBatch||g.isRunningReactions)&&M(36),Da=!0,dn){var e=Mn();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),g=new un}}function Ll(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function xa(e,t){e.observers_.delete(t),e.observers_.size===0&&Ra(e)}function Ra(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,g.pendingUnobservations.push(e))}function ce(){g.inBatch++}function le(){if(--g.inBatch===0){Na();for(var e=g.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof pe&&n.suspend_())}g.pendingUnobservations=[]}}function $a(e){var t=g.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&g.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&g.inBatch>0&&Ra(e),!1)}function Pa(e){e.lowestObserverState_!==T.STALE_&&(e.lowestObserverState_=T.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===T.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=T.STALE_}))}function Hl(e){e.lowestObserverState_!==T.STALE_&&(e.lowestObserverState_=T.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===T.POSSIBLY_STALE_?t.dependenciesState_=T.STALE_:t.dependenciesState_===T.UP_TO_DATE_&&(e.lowestObserverState_=T.UP_TO_DATE_)}))}function Vl(e){e.lowestObserverState_===T.UP_TO_DATE_&&(e.lowestObserverState_=T.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===T.UP_TO_DATE_&&(t.dependenciesState_=T.POSSIBLY_STALE_,t.onBecomeStale_())}))}var Te=function(){function e(n,i,r,o){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=T.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=yn.NONE,this.name_=n,this.onInvalidate_=i,this.errorHandler_=r,this.requiresObservable_=o}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,g.pendingReactions.push(this),Na())},t.runReaction_=function(){if(!this.isDisposed){ce(),this.isScheduled=!1;var i=g.trackingContext;if(g.trackingContext=this,Si(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(r){this.reportExceptionInDerivation_(r)}}g.trackingContext=i,le()}},t.track=function(i){if(!this.isDisposed){ce(),this.isRunning=!0;var r=g.trackingContext;g.trackingContext=this;var o=Aa(this,i,void 0);g.trackingContext=r,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&wi(this),ln(o)&&this.reportExceptionInDerivation_(o.cause),le()}},t.reportExceptionInDerivation_=function(i){var r=this;if(this.errorHandler_){this.errorHandler_(i,this);return}if(g.disableErrorBoundaries)throw i;var o="[mobx] uncaught error in '"+this+"'";g.suppressReactionErrors||console.error(o,i),g.globalReactionErrorHandlers.forEach(function(a){return a(i,r)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(ce(),wi(this),le()))},t.getDisposer_=function(i){var r=this,o=function a(){r.dispose(),i==null||i.removeEventListener==null||i.removeEventListener("abort",a)};return i==null||i.addEventListener==null||i.addEventListener("abort",o),o[b]=this,o},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(i){},bt(e,[{key:"isDisposed",get:function(){return ne(this.flags_,e.isDisposedMask_)},set:function(i){this.flags_=ie(this.flags_,e.isDisposedMask_,i)}},{key:"isScheduled",get:function(){return ne(this.flags_,e.isScheduledMask_)},set:function(i){this.flags_=ie(this.flags_,e.isScheduledMask_,i)}},{key:"isTrackPending",get:function(){return ne(this.flags_,e.isTrackPendingMask_)},set:function(i){this.flags_=ie(this.flags_,e.isTrackPendingMask_,i)}},{key:"isRunning",get:function(){return ne(this.flags_,e.isRunningMask_)},set:function(i){this.flags_=ie(this.flags_,e.isRunningMask_,i)}},{key:"diffValue",get:function(){return ne(this.flags_,e.diffValueMask_)?1:0},set:function(i){this.flags_=ie(this.flags_,e.diffValueMask_,i===1)}}])}();Te.isDisposedMask_=1;Te.isScheduledMask_=2;Te.isTrackPendingMask_=4;Te.isRunningMask_=8;Te.diffValueMask_=16;var Fl=100,ki=function(t){return t()};function Na(){g.inBatch>0||g.isRunningReactions||ki(Ul)}function Ul(){g.isRunningReactions=!0;for(var e=g.pendingReactions,t=0;e.length>0;){++t===Fl&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),i=0,r=n.length;i<r;i++)n[i].runReaction_()}g.isRunningReactions=!1}var Sn=et("Reaction",Te);function zl(e){var t=ki;ki=function(i){return e(function(){return t(i)})}}function Rt(){return!1}function Wl(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var Ma="action",Gl="action.bound",Ta="autoAction",ql="autoAction.bound",ja="<unnamed action>",Oi=Wt(Ma),Kl=Wt(Gl,{bound:!0}),Ai=Wt(Ta,{autoAction:!0}),Yl=Wt(ql,{autoAction:!0,bound:!0});function Ba(e){var t=function(i,r){if(ge(i))return Ke(i.name||ja,i,e);if(ge(r))return Ke(i,r,e);if(zt(r))return(e?Ai:Oi).decorate_20223_(i,r);if(We(r))return Ut(i,r,e?Ai:Oi);if(We(i))return ke(Wt(e?Ta:Ma,{name:i,autoAction:e}))};return t}var Ue=Ba(!1);Object.assign(Ue,Oi);var Mt=Ba(!0);Object.assign(Mt,Ai);Ue.bound=ke(Kl);Mt.bound=ke(Yl);function Jl(e){return Oa(e.name||ja,!1,e,this,void 0)}function Tt(e){return ge(e)&&e.isMobxAction===!0}function Ia(e,t){var n,i,r,o;t===void 0&&(t=sa);var a=(n=(i=t)==null?void 0:i.name)!=null?n:"Autorun",c=!t.scheduler&&!t.delay,l;if(c)l=new Te(a,function(){this.track(d)},t.onError,t.requiresObservable);else{var u=Zl(t),h=!1;l=new Te(a,function(){h||(h=!0,u(function(){h=!1,l.isDisposed||l.track(d)}))},t.onError,t.requiresObservable)}function d(){e(l)}return(r=t)!=null&&(r=r.signal)!=null&&r.aborted||l.schedule_(),l.getDisposer_((o=t)==null?void 0:o.signal)}var Xl=function(t){return t()};function Zl(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Xl}var Ql="onBO",eu="onBUO";function tu(e,t,n){return Ha(Ql,e,t,n)}function La(e,t,n){return Ha(eu,e,t,n)}function Ha(e,t,n,i){var r=On(t),o=ge(i)?i:n,a=e+"L";return r[a]?r[a].add(o):r[a]=new Set([o]),function(){var c=r[a];c&&(c.delete(o),c.size===0&&delete r[a])}}var nu="never",on="always",iu="observed";function ru(e){e.isolateGlobalState===!0&&Il();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(g.useProxies=t===on?!0:t===nu?!1:typeof Proxy<"u"),t==="ifavailable"&&(g.verifyProxies=!0),n!==void 0){var i=n===on?on:n===iu;g.enforceActions=i,g.allowStateChanges=!(i===!0||i===on)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(r){r in e&&(g[r]=!!e[r])}),g.allowStateReads=!g.observableRequiresReaction,e.reactionScheduler&&zl(e.reactionScheduler)}function Va(e,t,n,i){var r=Hc(t);return Le(function(){var o=it(e,i)[b];ft(r).forEach(function(a){o.extend_(a,r[a],n&&a in n?n[a]:!0)})}),e}function ou(e,t){return Fa(On(e,t))}function Fa(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=au(e.observing_).map(Fa)),t}function au(e){return Array.from(new Set(e))}var su=0;function Ua(){this.message="FLOW_CANCELLED"}Ua.prototype=Object.create(Error.prototype);var Xn=pa("flow"),cu=pa("flow.bound",{bound:!0}),mt=Object.assign(function(t,n){if(zt(n))return Xn.decorate_20223_(t,n);if(We(n))return Ut(t,n,Xn);var i=t,r=i.name||"<unnamed flow>",o=function(){var c=this,l=arguments,u=++su,h=Ue(r+" - runid: "+u+" - init",i).apply(c,l),d,f=void 0,m=new Promise(function(R,j){var S=0;d=j;function w(V){f=void 0;var N;try{N=Ue(r+" - runid: "+u+" - yield "+S++,h.next).call(h,V)}catch(z){return j(z)}I(N)}function C(V){f=void 0;var N;try{N=Ue(r+" - runid: "+u+" - yield "+S++,h.throw).call(h,V)}catch(z){return j(z)}I(N)}function I(V){if(ge(V==null?void 0:V.then)){V.then(I,j);return}return V.done?R(V.value):(f=Promise.resolve(V.value),f.then(w,C))}w(void 0)});return m.cancel=Ue(r+" - runid: "+u+" - cancel",function(){try{f&&qr(f);var R=h.return(void 0),j=Promise.resolve(R.value);j.then(st,st),qr(j),d(new Ua)}catch(S){d(S)}}),m};return o.isMobXFlow=!0,o},Xn);mt.bound=ke(cu);function qr(e){ge(e.cancel)&&e.cancel()}function jt(e){return(e==null?void 0:e.isMobXFlow)===!0}function lu(e,t){return e?Fn(e)||!!e[b]||qi(e)||Sn(e)||Hn(e):!1}function za(e){return lu(e)}function De(e,t){t===void 0&&(t=void 0),ce();try{return e.apply(t)}finally{le()}}function at(e){return e[b]}var uu={has:function(t,n){return at(t).has_(n)},get:function(t,n){return at(t).get_(n)},set:function(t,n,i){var r;return We(n)?(r=at(t).set_(n,i,!0))!=null?r:!0:!1},deleteProperty:function(t,n){var i;return We(n)?(i=at(t).delete_(n,!0))!=null?i:!0:!1},defineProperty:function(t,n,i){var r;return(r=at(t).defineProperty_(n,i))!=null?r:!0},ownKeys:function(t){return at(t).ownKeys_()},preventExtensions:function(t){M(13)}};function du(e,t){var n,i;return ca(),e=it(e,t),(i=(n=e[b]).proxy_)!=null?i:n.proxy_=new Proxy(e,uu)}function ae(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function Gt(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),la(function(){var i=n.indexOf(t);i!==-1&&n.splice(i,1)})}function se(e,t){var n=tt();try{for(var i=[].concat(e.interceptors_||[]),r=0,o=i.length;r<o&&(t=i[r](t),t&&!t.type&&M(14),!!t);r++);return t}finally{$e(n)}}function fe(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function qt(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),la(function(){var i=n.indexOf(t);i!==-1&&n.splice(i,1)})}function me(e,t){var n=tt(),i=e.changeListeners_;if(i){i=i.slice();for(var r=0,o=i.length;r<o;r++)i[r](t);$e(n)}}function hu(e,t,n){return Le(function(){var i,r=it(e,n)[b];(i=t)!=null||(t=Wc(e)),ft(t).forEach(function(o){return r.make_(o,t[o])})}),e}var Zn=Symbol("mobx-keys");function ue(e,t,n){return Me(e)?Va(e,e,t,n):(Le(function(){var i=it(e,n)[b];if(!e[Zn]){var r=Object.getPrototypeOf(e),o=new Set([].concat(ft(e),ft(r)));o.delete("constructor"),o.delete(b),Ft(r,Zn,o)}e[Zn].forEach(function(a){return i.make_(a,t&&a in t?t[a]:!0)})}),e)}var Kr="splice",Oe="update",fu=1e4,mu={get:function(t,n){var i=t[b];return n===b?i:n==="length"?i.getArrayLength_():typeof n=="string"&&!isNaN(n)?i.get_(parseInt(n)):Re(wn,n)?wn[n]:t[n]},set:function(t,n,i){var r=t[b];return n==="length"&&r.setArrayLength_(i),typeof n=="symbol"||isNaN(n)?t[n]=i:r.set_(parseInt(n),i),!0},preventExtensions:function(){M(15)}},Zi=function(){function e(n,i,r,o){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=r,this.legacyMode_=o,this.atom_=new Ie(n),this.enhancer_=function(a,c){return i(a,c,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},t.dehanceValues_=function(i){return this.dehancer!==void 0&&i.length>0?i.map(this.dehancer):i},t.intercept_=function(i){return Gt(this,i)},t.observe_=function(i,r){return r===void 0&&(r=!1),r&&i({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),qt(this,i)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(i){(typeof i!="number"||isNaN(i)||i<0)&&M("Out of range: "+i);var r=this.values_.length;if(i!==r)if(i>r){for(var o=new Array(i-r),a=0;a<i-r;a++)o[a]=void 0;this.spliceWithArray_(r,0,o)}else this.spliceWithArray_(i,r-i)},t.updateArrayLength_=function(i,r){i!==this.lastKnownLength_&&M(16),this.lastKnownLength_+=r,this.legacyMode_&&r>0&&Xa(i+r+1)},t.spliceWithArray_=function(i,r,o){var a=this;this.atom_;var c=this.values_.length;if(i===void 0?i=0:i>c?i=c:i<0&&(i=Math.max(0,c+i)),arguments.length===1?r=c-i:r==null?r=0:r=Math.max(0,Math.min(r,c-i)),o===void 0&&(o=pi),ae(this)){var l=se(this,{object:this.proxy_,type:Kr,index:i,removedCount:r,added:o});if(!l)return pi;r=l.removedCount,o=l.added}if(o=o.length===0?o:o.map(function(d){return a.enhancer_(d,void 0)}),this.legacyMode_){var u=o.length-r;this.updateArrayLength_(c,u)}var h=this.spliceItemsIntoValues_(i,r,o);return(r!==0||o.length!==0)&&this.notifyArraySplice_(i,o,h),this.dehanceValues_(h)},t.spliceItemsIntoValues_=function(i,r,o){if(o.length<fu){var a;return(a=this.values_).splice.apply(a,[i,r].concat(o))}else{var c=this.values_.slice(i,i+r),l=this.values_.slice(i+r);this.values_.length+=o.length-r;for(var u=0;u<o.length;u++)this.values_[i+u]=o[u];for(var h=0;h<l.length;h++)this.values_[i+o.length+h]=l[h];return c}},t.notifyArrayChildUpdate_=function(i,r,o){var a=!this.owned_&&Rt(),c=fe(this),l=c||a?{observableKind:"array",object:this.proxy_,type:Oe,debugObjectName:this.atom_.name_,index:i,newValue:r,oldValue:o}:null;this.atom_.reportChanged(),c&&me(this,l)},t.notifyArraySplice_=function(i,r,o){var a=!this.owned_&&Rt(),c=fe(this),l=c||a?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Kr,index:i,removed:o,added:r,removedCount:o.length,addedCount:r.length}:null;this.atom_.reportChanged(),c&&me(this,l)},t.get_=function(i){if(this.legacyMode_&&i>=this.values_.length){console.warn("[mobx] Out of bounds read: "+i);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[i])},t.set_=function(i,r){var o=this.values_;if(this.legacyMode_&&i>o.length&&M(17,i,o.length),i<o.length){this.atom_;var a=o[i];if(ae(this)){var c=se(this,{type:Oe,object:this.proxy_,index:i,newValue:r});if(!c)return;r=c.newValue}r=this.enhancer_(r,a);var l=r!==a;l&&(o[i]=r,this.notifyArrayChildUpdate_(i,r,a))}else{for(var u=new Array(i+1-o.length),h=0;h<u.length-1;h++)u[h]=void 0;u[u.length-1]=r,this.spliceWithArray_(o.length,0,u)}},e}();function _u(e,t,n,i){return n===void 0&&(n="ObservableArray"),i===void 0&&(i=!1),ca(),Le(function(){var r=new Zi(n,t,i,!1);da(r.values_,b,r);var o=new Proxy(r.values_,mu);return r.proxy_=o,e&&e.length&&r.spliceWithArray_(0,0,e),o})}var wn={clear:function(){return this.splice(0)},replace:function(t){var n=this[b];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];var a=this[b];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(t);case 2:return a.spliceWithArray_(t,n)}return a.spliceWithArray_(t,n,r)},spliceWithArray:function(t,n,i){return this[b].spliceWithArray_(t,n,i)},push:function(){for(var t=this[b],n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.spliceWithArray_(t.values_.length,0,i),t.values_.length},pop:function(){return this.splice(Math.max(this[b].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[b],n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.spliceWithArray_(0,0,i),t.values_.length},reverse:function(){return g.trackingDerivation&&M(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){g.trackingDerivation&&M(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[b],i=n.dehanceValues_(n.values_).indexOf(t);return i>-1?(this.splice(i,1),!0):!1}};F("at",oe);F("concat",oe);F("flat",oe);F("includes",oe);F("indexOf",oe);F("join",oe);F("lastIndexOf",oe);F("slice",oe);F("toString",oe);F("toLocaleString",oe);F("toSorted",oe);F("toSpliced",oe);F("with",oe);F("every",ve);F("filter",ve);F("find",ve);F("findIndex",ve);F("findLast",ve);F("findLastIndex",ve);F("flatMap",ve);F("forEach",ve);F("map",ve);F("some",ve);F("toReversed",ve);F("reduce",Wa);F("reduceRight",Wa);function F(e,t){typeof Array.prototype[e]=="function"&&(wn[e]=t(e))}function oe(e){return function(){var t=this[b];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function ve(e){return function(t,n){var i=this,r=this[b];r.atom_.reportObserved();var o=r.dehanceValues_(r.values_);return o[e](function(a,c){return t.call(n,a,c,i)})}}function Wa(e){return function(){var t=this,n=this[b];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_),r=arguments[0];return arguments[0]=function(o,a,c){return r(o,a,c,t)},i[e].apply(i,arguments)}}var gu=et("ObservableArrayAdministration",Zi);function Vn(e){return jn(e)&&gu(e[b])}var pu={},je="add",kn="delete",Ga=function(){function e(n,i,r){var o=this;i===void 0&&(i=qe),r===void 0&&(r="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[b]=pu,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=i,this.name_=r,ge(Map)||M(18),Le(function(){o.keysAtom_=_a("ObservableMap.keys()"),o.data_=new Map,o.hasMap_=new Map,n&&o.merge(n)})}var t=e.prototype;return t.has_=function(i){return this.data_.has(i)},t.has=function(i){var r=this;if(!g.trackingDerivation)return this.has_(i);var o=this.hasMap_.get(i);if(!o){var a=o=new ze(this.has_(i),Bn,"ObservableMap.key?",!1);this.hasMap_.set(i,a),La(a,function(){return r.hasMap_.delete(i)})}return o.get()},t.set=function(i,r){var o=this.has_(i);if(ae(this)){var a=se(this,{type:o?Oe:je,object:this,newValue:r,name:i});if(!a)return this;r=a.newValue}return o?this.updateValue_(i,r):this.addValue_(i,r),this},t.delete=function(i){var r=this;if(this.keysAtom_,ae(this)){var o=se(this,{type:kn,object:this,name:i});if(!o)return!1}if(this.has_(i)){var a=Rt(),c=fe(this),l=c||a?{observableKind:"map",debugObjectName:this.name_,type:kn,object:this,oldValue:this.data_.get(i).value_,name:i}:null;return De(function(){var u;r.keysAtom_.reportChanged(),(u=r.hasMap_.get(i))==null||u.setNewValue_(!1);var h=r.data_.get(i);h.setNewValue_(void 0),r.data_.delete(i)}),c&&me(this,l),!0}return!1},t.updateValue_=function(i,r){var o=this.data_.get(i);if(r=o.prepareNewValue_(r),r!==g.UNCHANGED){var a=Rt(),c=fe(this),l=c||a?{observableKind:"map",debugObjectName:this.name_,type:Oe,object:this,oldValue:o.value_,name:i,newValue:r}:null;o.setNewValue_(r),c&&me(this,l)}},t.addValue_=function(i,r){var o=this;this.keysAtom_,De(function(){var u,h=new ze(r,o.enhancer_,"ObservableMap.key",!1);o.data_.set(i,h),r=h.value_,(u=o.hasMap_.get(i))==null||u.setNewValue_(!0),o.keysAtom_.reportChanged()});var a=Rt(),c=fe(this),l=c||a?{observableKind:"map",debugObjectName:this.name_,type:je,object:this,name:i,newValue:r}:null;c&&me(this,l)},t.get=function(i){return this.has(i)?this.dehanceValue_(this.data_.get(i).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var i=this,r=this.keys();return Yr({next:function(){var a=r.next(),c=a.done,l=a.value;return{done:c,value:c?void 0:i.get(l)}}})},t.entries=function(){var i=this,r=this.keys();return Yr({next:function(){var a=r.next(),c=a.done,l=a.value;return{done:c,value:c?void 0:[l,i.get(l)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(i,r){for(var o=ct(this),a;!(a=o()).done;){var c=a.value,l=c[0],u=c[1];i.call(r,u,l,this)}},t.merge=function(i){var r=this;return nt(i)&&(i=new Map(i)),De(function(){Me(i)?Lc(i).forEach(function(o){return r.set(o,i[o])}):Array.isArray(i)?i.forEach(function(o){var a=o[0],c=o[1];return r.set(a,c)}):yt(i)?(Ic(i)||M(19,i),i.forEach(function(o,a){return r.set(a,o)})):i!=null&&M(20,i)}),this},t.clear=function(){var i=this;De(function(){Ca(function(){for(var r=ct(i.keys()),o;!(o=r()).done;){var a=o.value;i.delete(a)}})})},t.replace=function(i){var r=this;return De(function(){for(var o=vu(i),a=new Map,c=!1,l=ct(r.data_.keys()),u;!(u=l()).done;){var h=u.value;if(!o.has(h)){var d=r.delete(h);if(d)c=!0;else{var f=r.data_.get(h);a.set(h,f)}}}for(var m=ct(o.entries()),R;!(R=m()).done;){var j=R.value,S=j[0],w=j[1],C=r.data_.has(S);if(r.set(S,w),r.data_.has(S)){var I=r.data_.get(S);a.set(S,I),C||(c=!0)}}if(!c)if(r.data_.size!==a.size)r.keysAtom_.reportChanged();else for(var V=r.data_.keys(),N=a.keys(),z=V.next(),X=N.next();!z.done;){if(z.value!==X.value){r.keysAtom_.reportChanged();break}z=V.next(),X=N.next()}r.data_=a}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(i,r){return qt(this,i)},t.intercept_=function(i){return Gt(this,i)},bt(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),nt=et("ObservableMap",Ga);function Yr(e){return e[Symbol.toStringTag]="MapIterator",tr(e)}function vu(e){if(yt(e)||nt(e))return e;if(Array.isArray(e))return new Map(e);if(Me(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return M(21,e)}var yu={},qa=function(){function e(n,i,r){var o=this;i===void 0&&(i=qe),r===void 0&&(r="ObservableSet"),this.name_=void 0,this[b]=yu,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=r,ge(Set)||M(22),this.enhancer_=function(a,c){return i(a,c,r)},Le(function(){o.atom_=_a(o.name_),n&&o.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},t.clear=function(){var i=this;De(function(){Ca(function(){for(var r=ct(i.data_.values()),o;!(o=r()).done;){var a=o.value;i.delete(a)}})})},t.forEach=function(i,r){for(var o=ct(this),a;!(a=o()).done;){var c=a.value;i.call(r,c,c,this)}},t.add=function(i){var r=this;if(this.atom_,ae(this)){var o=se(this,{type:je,object:this,newValue:i});if(!o)return this}if(!this.has(i)){De(function(){r.data_.add(r.enhancer_(i,void 0)),r.atom_.reportChanged()});var a=!1,c=fe(this),l=c||a?{observableKind:"set",debugObjectName:this.name_,type:je,object:this,newValue:i}:null;c&&me(this,l)}return this},t.delete=function(i){var r=this;if(ae(this)){var o=se(this,{type:kn,object:this,oldValue:i});if(!o)return!1}if(this.has(i)){var a=!1,c=fe(this),l=c||a?{observableKind:"set",debugObjectName:this.name_,type:kn,object:this,oldValue:i}:null;return De(function(){r.atom_.reportChanged(),r.data_.delete(i)}),c&&me(this,l),!0}return!1},t.has=function(i){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(i))},t.entries=function(){var i=0,r=Array.from(this.keys()),o=Array.from(this.values());return Jr({next:function(){var c=i;return i+=1,c<o.length?{value:[r[c],o[c]],done:!1}:{value:void 0,done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var i=this,r=0,o=Array.from(this.data_.values());return Jr({next:function(){return r<o.length?{value:i.dehanceValue_(o[r++]),done:!1}:{value:void 0,done:!0}}})},t.intersection=function(i){if(Ee(i)&&!be(i))return i.intersection(this);var r=new Set(this);return r.intersection(i)},t.union=function(i){if(Ee(i)&&!be(i))return i.union(this);var r=new Set(this);return r.union(i)},t.difference=function(i){return new Set(this).difference(i)},t.symmetricDifference=function(i){if(Ee(i)&&!be(i))return i.symmetricDifference(this);var r=new Set(this);return r.symmetricDifference(i)},t.isSubsetOf=function(i){return new Set(this).isSubsetOf(i)},t.isSupersetOf=function(i){return new Set(this).isSupersetOf(i)},t.isDisjointFrom=function(i){if(Ee(i)&&!be(i))return i.isDisjointFrom(this);var r=new Set(this);return r.isDisjointFrom(i)},t.replace=function(i){var r=this;return be(i)&&(i=new Set(i)),De(function(){Array.isArray(i)?(r.clear(),i.forEach(function(o){return r.add(o)})):Ee(i)?(r.clear(),i.forEach(function(o){return r.add(o)})):i!=null&&M("Cannot initialize set from "+i)}),this},t.observe_=function(i,r){return qt(this,i)},t.intercept_=function(i){return Gt(this,i)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},bt(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),be=et("ObservableSet",qa);function Jr(e){return e[Symbol.toStringTag]="SetIterator",tr(e)}var Xr=Object.create(null),Zr="remove",Ka=function(){function e(n,i,r,o){i===void 0&&(i=new Map),o===void 0&&(o=pl),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=i,this.name_=r,this.defaultAnnotation_=o,this.keysAtom_=new Ie("ObservableObject.keys"),this.isPlainObject_=Me(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(i){return this.values_.get(i).get()},t.setObservablePropValue_=function(i,r){var o=this.values_.get(i);if(o instanceof pe)return o.set(r),!0;if(ae(this)){var a=se(this,{type:Oe,object:this.proxy_||this.target_,name:i,newValue:r});if(!a)return null;r=a.newValue}if(r=o.prepareNewValue_(r),r!==g.UNCHANGED){var c=fe(this),l=!1,u=c||l?{type:Oe,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:o.value_,name:i,newValue:r}:null;o.setNewValue_(r),c&&me(this,u)}return!0},t.get_=function(i){return g.trackingDerivation&&!Re(this.target_,i)&&this.has_(i),this.target_[i]},t.set_=function(i,r,o){return o===void 0&&(o=!1),Re(this.target_,i)?this.values_.has(i)?this.setObservablePropValue_(i,r):o?Reflect.set(this.target_,i,r):(this.target_[i]=r,!0):this.extend_(i,{value:r,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,o)},t.has_=function(i){if(!g.trackingDerivation)return i in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var r=this.pendingKeys_.get(i);return r||(r=new ze(i in this.target_,Bn,"ObservableObject.key?",!1),this.pendingKeys_.set(i,r)),r.get()},t.make_=function(i,r){if(r===!0&&(r=this.defaultAnnotation_),r!==!1){if(!(i in this.target_)){var o;if((o=this.target_[Se])!=null&&o[i])return;M(1,r.annotationType_,this.name_+"."+i.toString())}for(var a=this.target_;a&&a!==Tn;){var c=gn(a,i);if(c){var l=r.make_(this,i,c,a);if(l===0)return;if(l===1)break}a=Object.getPrototypeOf(a)}eo(this,r,i)}},t.extend_=function(i,r,o,a){if(a===void 0&&(a=!1),o===!0&&(o=this.defaultAnnotation_),o===!1)return this.defineProperty_(i,r,a);var c=o.extend_(this,i,r,a);return c&&eo(this,o,i),c},t.defineProperty_=function(i,r,o){o===void 0&&(o=!1),this.keysAtom_;try{ce();var a=this.delete_(i);if(!a)return a;if(ae(this)){var c=se(this,{object:this.proxy_||this.target_,name:i,type:je,newValue:r.value});if(!c)return null;var l=c.newValue;r.value!==l&&(r=Ge({},r,{value:l}))}if(o){if(!Reflect.defineProperty(this.target_,i,r))return!1}else we(this.target_,i,r);this.notifyPropertyAddition_(i,r.value)}finally{le()}return!0},t.defineObservableProperty_=function(i,r,o,a){a===void 0&&(a=!1),this.keysAtom_;try{ce();var c=this.delete_(i);if(!c)return c;if(ae(this)){var l=se(this,{object:this.proxy_||this.target_,name:i,type:je,newValue:r});if(!l)return null;r=l.newValue}var u=Qr(i),h={configurable:g.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(a){if(!Reflect.defineProperty(this.target_,i,h))return!1}else we(this.target_,i,h);var d=new ze(r,o,"ObservableObject.key",!1);this.values_.set(i,d),this.notifyPropertyAddition_(i,d.value_)}finally{le()}return!0},t.defineComputedProperty_=function(i,r,o){o===void 0&&(o=!1),this.keysAtom_;try{ce();var a=this.delete_(i);if(!a)return a;if(ae(this)){var c=se(this,{object:this.proxy_||this.target_,name:i,type:je,newValue:void 0});if(!c)return null}r.name||(r.name="ObservableObject.key"),r.context=this.proxy_||this.target_;var l=Qr(i),u={configurable:g.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(o){if(!Reflect.defineProperty(this.target_,i,u))return!1}else we(this.target_,i,u);this.values_.set(i,new pe(r)),this.notifyPropertyAddition_(i,void 0)}finally{le()}return!0},t.delete_=function(i,r){if(r===void 0&&(r=!1),this.keysAtom_,!Re(this.target_,i))return!0;if(ae(this)){var o=se(this,{object:this.proxy_||this.target_,name:i,type:Zr});if(!o)return null}try{var a;ce();var c=fe(this),l=!1,u=this.values_.get(i),h=void 0;if(!u&&(c||l)){var d;h=(d=gn(this.target_,i))==null?void 0:d.value}if(r){if(!Reflect.deleteProperty(this.target_,i))return!1}else delete this.target_[i];if(u&&(this.values_.delete(i),u instanceof ze&&(h=u.value_),Pa(u)),this.keysAtom_.reportChanged(),(a=this.pendingKeys_)==null||(a=a.get(i))==null||a.set(i in this.target_),c||l){var f={type:Zr,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:h,name:i};c&&me(this,f)}}finally{le()}return!0},t.observe_=function(i,r){return qt(this,i)},t.intercept_=function(i){return Gt(this,i)},t.notifyPropertyAddition_=function(i,r){var o,a=fe(this),c=!1;if(a||c){var l=a||c?{type:je,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:i,newValue:r}:null;a&&me(this,l)}(o=this.pendingKeys_)==null||(o=o.get(i))==null||o.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),ft(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function it(e,t){var n;if(Re(e,b))return e;var i=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",r=new Ka(e,new Map,String(i),Dl(t));return Ft(e,b,r),e}var bu=et("ObservableObjectAdministration",Ka);function Qr(e){return Xr[e]||(Xr[e]={get:function(){return this[b].getObservablePropValue_(e)},set:function(n){return this[b].setObservablePropValue_(e,n)}})}function Fn(e){return jn(e)?bu(e[b]):!1}function eo(e,t,n){var i;(i=e.target_[Se])==null||delete i[n]}var Su=Ja(0),wu=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),Qn=0,Ya=function(){};function ku(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}ku(Ya,Array.prototype);var Qi=function(e){function t(i,r,o,a){var c;return o===void 0&&(o="ObservableArray"),a===void 0&&(a=!1),c=e.call(this)||this,Le(function(){var l=new Zi(o,r,a,!0);l.proxy_=c,da(c,b,l),i&&i.length&&c.spliceWithArray(0,0,i),wu&&Object.defineProperty(c,"0",Su)}),c}ma(t,e);var n=t.prototype;return n.concat=function(){this[b].atom_.reportObserved();for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return Array.prototype.concat.apply(this.slice(),o.map(function(c){return Vn(c)?c.slice():c}))},n[Symbol.iterator]=function(){var i=this,r=0;return tr({next:function(){return r<i.length?{value:i[r++],done:!1}:{done:!0,value:void 0}}})},bt(t,[{key:"length",get:function(){return this[b].getArrayLength_()},set:function(r){this[b].setArrayLength_(r)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(Ya);Object.entries(wn).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&Ft(Qi.prototype,t,n)});function Ja(e){return{enumerable:!1,configurable:!0,get:function(){return this[b].get_(e)},set:function(n){this[b].set_(e,n)}}}function Ou(e){we(Qi.prototype,""+e,Ja(e))}function Xa(e){if(e>Qn){for(var t=Qn;t<e+100;t++)Ou(t);Qn=e}}Xa(1e3);function Au(e,t,n){return new Qi(e,t,n)}function On(e,t){if(typeof e=="object"&&e!==null){if(Vn(e))return t!==void 0&&M(23),e[b].atom_;if(be(e))return e.atom_;if(nt(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||M(25,t,Ci(e)),n}if(Fn(e)){if(!t)return M(26);var i=e[b].values_.get(t);return i||M(27,t,Ci(e)),i}if(qi(e)||Hn(e)||Sn(e))return e}else if(ge(e)&&Sn(e[b]))return e[b];M(28)}function Cu(e,t){if(e||M(29),qi(e)||Hn(e)||Sn(e)||nt(e)||be(e))return e;if(e[b])return e[b];M(24,e)}function Ci(e,t){var n;if(t!==void 0)n=On(e,t);else{if(Tt(e))return e.name;Fn(e)||nt(e)||be(e)?n=Cu(e):n=On(e)}return n.name_}function Le(e){var t=tt(),n=Yi(!0);ce();try{return e()}finally{le(),Ji(n),$e(t)}}var to=Tn.toString;function er(e,t,n){return n===void 0&&(n=-1),Ei(e,t,n)}function Ei(e,t,n,i,r){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var o=typeof e;if(o!=="function"&&o!=="object"&&typeof t!="object")return!1;var a=to.call(e);if(a!==to.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=no(e),t=no(t);var c=a==="[object Array]";if(!c){if(typeof e!="object"||typeof t!="object")return!1;var l=e.constructor,u=t.constructor;if(l!==u&&!(ge(l)&&l instanceof l&&ge(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),i=i||[],r=r||[];for(var h=i.length;h--;)if(i[h]===e)return r[h]===t;if(i.push(e),r.push(t),c){if(h=e.length,h!==t.length)return!1;for(;h--;)if(!Ei(e[h],t[h],n-1,i,r))return!1}else{var d=Object.keys(e),f;if(h=d.length,Object.keys(t).length!==h)return!1;for(;h--;)if(f=d[h],!(Re(t,f)&&Ei(e[f],t[f],n-1,i,r)))return!1}return i.pop(),r.pop(),!0}function no(e){return Vn(e)?e.slice():yt(e)||nt(e)||Ee(e)||be(e)?Array.from(e.entries()):e}var io,Eu=((io=Mn().Iterator)==null?void 0:io.prototype)||{};function tr(e){return e[Symbol.iterator]=Du,Object.assign(Object.create(Eu),e)}function Du(){return this}["Symbol","Map","Set"].forEach(function(e){var t=Mn();typeof t[e]>"u"&&M("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Wl,extras:{getDebugName:Ci},$mobx:b});const xu=(e,t)=>{const n=e.getBoundingClientRect();return t.clientX>n.x&&t.clientX<n.x+n.width&&t.clientY>n.y&&t.clientY<n.y+n.height},Ye=e=>JSON.parse(JSON.stringify(e)),Ru=navigator.userAgent.toLowerCase().includes("firefox"),$u=e=>typeof e=="string"||e instanceof String,Pu=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,hn=e=>!!(e&&e.match(Pu)),Nu=(e,t)=>e.reduce((n,i)=>((n.length===0||n[n.length-1].length===t)&&n.push([]),n[n.length-1].push(i),n),[]),Za=(e,t)=>{if(!e||!t)return null;const n=(t-e)/1e3;return n<0?"":n<60?`${Math.floor(n)} sec ago`:n<3600?`${Math.floor(n/60)} min ago`:n<172800?`${Math.floor(n/3600)} hr ago`:`${Math.floor(n/86400)} days ago`},y=(e,t)=>p(Ue(e),t),Un=(e,t)=>q(()=>{const n=i=>{e.current&&!e.current.contains(i.target)&&t()};return window.addEventListener("mousedown",n),()=>window.removeEventListener("mousedown",n)},[e,t]),Qa=()=>{const[e,t]=$(null);return q(()=>{t(Date.now());const n=setInterval(()=>t(Date.now()),1e3);return()=>clearInterval(n)},[t]),e},es=e=>q(()=>(window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)),[e]);var ts={exports:{}};(function(e,t){(function(n,i){i()})(Ot,function(){function n(u,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function i(u,h,d){var f=new XMLHttpRequest;f.open("GET",u),f.responseType="blob",f.onload=function(){l(f.response,h,d)},f.onerror=function(){console.error("could not download file")},f.send()}function r(u){var h=new XMLHttpRequest;h.open("HEAD",u,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function o(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(h)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ot=="object"&&Ot.global===Ot?Ot:void 0,c=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(u,h,d){var f=a.URL||a.webkitURL,m=document.createElement("a");h=h||u.name||"download",m.download=h,m.rel="noopener",typeof u=="string"?(m.href=u,m.origin===location.origin?o(m):r(m.href)?i(u,h,d):o(m,m.target="_blank")):(m.href=f.createObjectURL(u),setTimeout(function(){f.revokeObjectURL(m.href)},4e4),setTimeout(function(){o(m)},0))}:"msSaveOrOpenBlob"in navigator?function(u,h,d){if(h=h||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,d),h);else if(r(u))i(u,h,d);else{var f=document.createElement("a");f.href=u,f.target="_blank",setTimeout(function(){o(f)})}}:function(u,h,d,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof u=="string")return i(u,h,d);var m=u.type==="application/octet-stream",R=/constructor/i.test(a.HTMLElement)||a.safari,j=/CriOS\/[\d]+/.test(navigator.userAgent);if((j||m&&R||c)&&typeof FileReader<"u"){var S=new FileReader;S.onloadend=function(){var I=S.result;I=j?I:I.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=I:location=I,f=null},S.readAsDataURL(u)}else{var w=a.URL||a.webkitURL,C=w.createObjectURL(u);f?f.location=C:location.href=C,f=null,setTimeout(function(){w.revokeObjectURL(C)},4e4)}});a.saveAs=l.saveAs=l,e.exports=l})})(ts);var Mu=ts.exports;function Tu(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),i=n.createElement("base"),r=n.createElement("a");return n.head.appendChild(i),n.body.appendChild(r),t&&(i.href=t),r.href=e,r.href}const ju=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Pe(e){const t=[];for(let n=0,i=e.length;n<i;n++)t.push(e[n]);return t}function An(e,t){const i=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return i?parseFloat(i.replace("px","")):0}function Bu(e){const t=An(e,"border-left-width"),n=An(e,"border-right-width");return e.clientWidth+t+n}function Iu(e){const t=An(e,"border-top-width"),n=An(e,"border-bottom-width");return e.clientHeight+t+n}function ns(e,t={}){const n=t.width||Bu(e),i=t.height||Iu(e);return{width:n,height:i}}function Lu(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const te=16384;function Hu(e){(e.width>te||e.height>te)&&(e.width>te&&e.height>te?e.width>e.height?(e.height*=te/e.width,e.width=te):(e.width*=te/e.height,e.height=te):e.width>te?(e.height*=te/e.width,e.width=te):(e.width*=te/e.height,e.height=te))}function Vu(e,t={}){return e.toBlob?new Promise(n=>{e.toBlob(n,t.type?t.type:"image/png",t.quality?t.quality:1)}):new Promise(n=>{const i=window.atob(e.toDataURL(t.type?t.type:void 0,t.quality?t.quality:void 0).split(",")[1]),r=i.length,o=new Uint8Array(r);for(let a=0;a<r;a+=1)o[a]=i.charCodeAt(a);n(new Blob([o],{type:t.type?t.type:"image/png"}))})}function Cn(e){return new Promise((t,n)=>{const i=new Image;i.decode=()=>t(i),i.onload=()=>t(i),i.onerror=n,i.crossOrigin="anonymous",i.decoding="async",i.src=e})}async function Fu(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Uu(e,t,n){const i="http://www.w3.org/2000/svg",r=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return r.setAttribute("width",`${t}`),r.setAttribute("height",`${n}`),r.setAttribute("viewBox",`0 0 ${t} ${n}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),r.appendChild(o),o.appendChild(e),Fu(r)}const Q=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||Q(n,t)};function zu(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Wu(e){return Pe(e).map(t=>{const n=e.getPropertyValue(t),i=e.getPropertyPriority(t);return`${t}: ${n}${i?" !important":""};`}).join(" ")}function Gu(e,t,n){const i=`.${e}:${t}`,r=n.cssText?zu(n):Wu(n);return document.createTextNode(`${i}{${r}}`)}function ro(e,t,n){const i=window.getComputedStyle(e,n),r=i.getPropertyValue("content");if(r===""||r==="none")return;const o=ju();try{t.className=`${t.className} ${o}`}catch{return}const a=document.createElement("style");a.appendChild(Gu(o,n,i)),t.appendChild(a)}function qu(e,t){ro(e,t,":before"),ro(e,t,":after")}const oo="application/font-woff",ao="image/jpeg",Ku={woff:oo,woff2:oo,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:ao,jpeg:ao,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Yu(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function nr(e){const t=Yu(e).toLowerCase();return Ku[t]||""}function Ju(e){return e.split(/,/)[1]}function Di(e){return e.search(/^(data:)/)!==-1}function Xu(e,t){return`data:${t};base64,${e}`}async function is(e,t,n){const i=await fetch(e,t);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);const r=await i.blob();return new Promise((o,a)=>{const c=new FileReader;c.onerror=a,c.onloadend=()=>{try{o(n({res:i,result:c.result}))}catch(l){a(l)}},c.readAsDataURL(r)})}const ei={};function Zu(e,t,n){let i=e.replace(/\?.*/,"");return n&&(i=e),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),t?`[${t}]${i}`:i}async function ir(e,t,n){const i=Zu(e,t,n.includeQueryParams);if(ei[i]!=null)return ei[i];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let r;try{const o=await is(e,n.fetchRequestInit,({res:a,result:c})=>(t||(t=a.headers.get("Content-Type")||""),Ju(c)));r=Xu(o,t)}catch(o){r=n.imagePlaceholder||"";let a=`Failed to fetch resource: ${e}`;o&&(a=typeof o=="string"?o:o.message),a&&console.warn(a)}return ei[i]=r,r}async function Qu(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Cn(t)}async function ed(e,t){if(e.currentSrc){const o=document.createElement("canvas"),a=o.getContext("2d");o.width=e.clientWidth,o.height=e.clientHeight,a==null||a.drawImage(e,0,0,o.width,o.height);const c=o.toDataURL();return Cn(c)}const n=e.poster,i=nr(n),r=await ir(n,i,t);return Cn(r)}async function td(e){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await zn(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function nd(e,t){return Q(e,HTMLCanvasElement)?Qu(e):Q(e,HTMLVideoElement)?ed(e,t):Q(e,HTMLIFrameElement)?td(e):e.cloneNode(!1)}const id=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function rd(e,t,n){var i,r;let o=[];return id(e)&&e.assignedNodes?o=Pe(e.assignedNodes()):Q(e,HTMLIFrameElement)&&(!((i=e.contentDocument)===null||i===void 0)&&i.body)?o=Pe(e.contentDocument.body.childNodes):o=Pe(((r=e.shadowRoot)!==null&&r!==void 0?r:e).childNodes),o.length===0||Q(e,HTMLVideoElement)||await o.reduce((a,c)=>a.then(()=>zn(c,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function od(e,t){const n=t.style;if(!n)return;const i=window.getComputedStyle(e);i.cssText?(n.cssText=i.cssText,n.transformOrigin=i.transformOrigin):Pe(i).forEach(r=>{let o=i.getPropertyValue(r);r==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),Q(e,HTMLIFrameElement)&&r==="display"&&o==="inline"&&(o="block"),r==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),n.setProperty(r,o,i.getPropertyPriority(r))})}function ad(e,t){Q(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Q(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function sd(e,t){if(Q(e,HTMLSelectElement)){const n=t,i=Array.from(n.children).find(r=>e.value===r.getAttribute("value"));i&&i.setAttribute("selected","")}}function cd(e,t){return Q(t,Element)&&(od(e,t),qu(e,t),ad(e,t),sd(e,t)),t}async function ld(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const i={};for(let o=0;o<n.length;o++){const c=n[o].getAttribute("xlink:href");if(c){const l=e.querySelector(c),u=document.querySelector(c);!l&&u&&!i[c]&&(i[c]=await zn(u,t,!0))}}const r=Object.values(i);if(r.length){const o="http://www.w3.org/1999/xhtml",a=document.createElementNS(o,"svg");a.setAttribute("xmlns",o),a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.display="none";const c=document.createElementNS(o,"defs");a.appendChild(c);for(let l=0;l<r.length;l++)c.appendChild(r[l]);e.appendChild(a)}return e}async function zn(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(i=>nd(i,t)).then(i=>rd(e,i,t)).then(i=>cd(e,i)).then(i=>ld(i,t))}const rs=/url\((['"]?)([^'"]+?)\1\)/g,ud=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,dd=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function hd(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function fd(e){const t=[];return e.replace(rs,(n,i,r)=>(t.push(r),n)),t.filter(n=>!Di(n))}async function md(e,t,n,i,r){try{const o=n?Tu(t,n):t,a=nr(t);let c;return r||(c=await ir(o,a,i)),e.replace(hd(t),`$1${c}$3`)}catch{}return e}function _d(e,{preferredFontFormat:t}){return t?e.replace(dd,n=>{for(;;){const[i,,r]=ud.exec(n)||[];if(!r)return"";if(r===t)return`src: ${i};`}}):e}function os(e){return e.search(rs)!==-1}async function as(e,t,n){if(!os(e))return e;const i=_d(e,n);return fd(i).reduce((o,a)=>o.then(c=>md(c,a,t,n)),Promise.resolve(i))}async function an(e,t,n){var i;const r=(i=t.style)===null||i===void 0?void 0:i.getPropertyValue(e);if(r){const o=await as(r,null,n);return t.style.setProperty(e,o,t.style.getPropertyPriority(e)),!0}return!1}async function gd(e,t){await an("background",e,t)||await an("background-image",e,t),await an("mask",e,t)||await an("mask-image",e,t)}async function pd(e,t){const n=Q(e,HTMLImageElement);if(!(n&&!Di(e.src))&&!(Q(e,SVGImageElement)&&!Di(e.href.baseVal)))return;const i=n?e.src:e.href.baseVal,r=await ir(i,nr(i),t);await new Promise((o,a)=>{e.onload=o,e.onerror=a;const c=e;c.decode&&(c.decode=o),c.loading==="lazy"&&(c.loading="eager"),n?(e.srcset="",e.src=r):e.href.baseVal=r})}async function vd(e,t){const i=Pe(e.childNodes).map(r=>ss(r,t));await Promise.all(i).then(()=>e)}async function ss(e,t){Q(e,Element)&&(await gd(e,t),await pd(e,t),await vd(e,t))}function yd(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const i=t.style;return i!=null&&Object.keys(i).forEach(r=>{n[r]=i[r]}),e}const so={};async function co(e){let t=so[e];if(t!=null)return t;const i=await(await fetch(e)).text();return t={url:e,cssText:i},so[e]=t,t}async function lo(e,t){let n=e.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map(async a=>{let c=a.replace(i,"$1");return c.startsWith("https://")||(c=new URL(c,e.url).href),is(c,t.fetchRequestInit,({result:l})=>(n=n.replace(a,`url(${l})`),[a,l]))});return Promise.all(o).then(()=>n)}function uo(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let i=e.replace(n,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=r.exec(i);if(l===null)break;t.push(l[0])}i=i.replace(r,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",c=new RegExp(a,"gi");for(;;){let l=o.exec(i);if(l===null){if(l=c.exec(i),l===null)break;o.lastIndex=c.lastIndex}else c.lastIndex=o.lastIndex;t.push(l[0])}return t}async function bd(e,t){const n=[],i=[];return e.forEach(r=>{if("cssRules"in r)try{Pe(r.cssRules||[]).forEach((o,a)=>{if(o.type===CSSRule.IMPORT_RULE){let c=a+1;const l=o.href,u=co(l).then(h=>lo(h,t)).then(h=>uo(h).forEach(d=>{try{r.insertRule(d,d.startsWith("@import")?c+=1:r.cssRules.length)}catch(f){console.error("Error inserting rule from remote css",{rule:d,error:f})}})).catch(h=>{console.error("Error loading remote css",h.toString())});i.push(u)}})}catch(o){const a=e.find(c=>c.href==null)||document.styleSheets[0];r.href!=null&&i.push(co(r.href).then(c=>lo(c,t)).then(c=>uo(c).forEach(l=>{a.insertRule(l,r.cssRules.length)})).catch(c=>{console.error("Error loading remote stylesheet",c)})),console.error("Error inlining remote css file",o)}}),Promise.all(i).then(()=>(e.forEach(r=>{if("cssRules"in r)try{Pe(r.cssRules||[]).forEach(o=>{n.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${r.href}`,o)}}),n))}function Sd(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>os(t.style.getPropertyValue("src")))}async function wd(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Pe(e.ownerDocument.styleSheets),i=await bd(n,t);return Sd(i)}async function kd(e,t){const n=await wd(e,t);return(await Promise.all(n.map(r=>{const o=r.parentStyleSheet?r.parentStyleSheet.href:null;return as(r.cssText,o,t)}))).join(`
`)}async function Od(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await kd(e,t);if(n){const i=document.createElement("style"),r=document.createTextNode(n);i.appendChild(r),e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i)}}async function Ad(e,t={}){const{width:n,height:i}=ns(e,t),r=await zn(e,t,!0);return await Od(r,t),await ss(r,t),yd(r,t),await Uu(r,n,i)}async function cs(e,t={}){const{width:n,height:i}=ns(e,t),r=await Ad(e,t),o=await Cn(r),a=document.createElement("canvas"),c=a.getContext("2d"),l=t.pixelRatio||Lu(),u=t.canvasWidth||n,h=t.canvasHeight||i;return a.width=u*l,a.height=h*l,t.skipAutoScale||Hu(a),a.style.width=`${u}`,a.style.height=`${h}`,t.backgroundColor&&(c.fillStyle=t.backgroundColor,c.fillRect(0,0,a.width,a.height)),c.drawImage(o,0,0,a.width,a.height),a}async function Cd(e,t={}){return(await cs(e,t)).toDataURL()}async function Ed(e,t={}){const n=await cs(e,t);return await Vu(n)}function xi(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var i in t)if(i!=="__source"&&e[i]!==t[i])return!0;return!1}function En(e,t){this.props=e,this.context=t}function Bt(e,t){function n(r){var o=this.props.ref,a=o==r.ref;return!a&&o&&(o.call?o(null):o.current=null),t?!t(this.props,r)||!a:xi(this.props,r)}function i(r){return this.shouldComponentUpdate=n,Ce(e,r)}return i.displayName="Memo("+(e.displayName||e.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i}(En.prototype=new de).isPureReactComponent=!0,En.prototype.shouldComponentUpdate=function(e,t){return xi(this.props,e)||xi(this.state,t)};var ho=O.__b;O.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),ho&&ho(e)};var Dd=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function It(e){function t(n){if(!("ref"in n))return e(n,null);var i=n.ref;delete n.ref;var r=e(n,i);return n.ref=i,r}return t.$$typeof=Dd,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var fo=function(e,t){return e==null?null:he(he(e).map(t))},ls={map:fo,forEach:fo,count:function(e){return e?he(e).length:0},only:function(e){var t=he(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:he},xd=O.__e;O.__e=function(e,t,n,i){if(e.then){for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t)}xd(e,t,n,i)};var mo=O.unmount;function us(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),e.__c.__H=null),(e=function(i,r){for(var o in r)i[o]=r[o];return i}({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(i){return us(i,t,n)})),e}function ds(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(i){return ds(i,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function $t(){this.__u=0,this.t=null,this.__b=null}function hs(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function fs(e){var t,n,i;function r(o){if(t||(t=e()).then(function(a){n=a.default||a},function(a){i=a}),i)throw i;if(!n)throw t;return Ce(n,o)}return r.displayName="Lazy",r.__f=!0,r}function lt(){this.u=null,this.o=null}O.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),mo&&mo(e)},($t.prototype=new de).__c=function(e,t){var n=t.__c,i=this;i.t==null&&(i.t=[]),i.t.push(n);var r=hs(i.__v),o=!1,a=function(){o||(o=!0,n.__R=null,r?r(c):c())};n.__R=a;var c=function(){if(!--i.__u){if(i.state.__a){var l=i.state.__a;i.__v.__k[0]=ds(l,l.__c.__P,l.__c.__O)}var u;for(i.setState({__a:i.__b=null});u=i.t.pop();)u.forceUpdate()}};i.__u++||32&t.__u||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(a,a)},$t.prototype.componentWillUnmount=function(){this.t=[]},$t.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=us(this.__b,n,i.__O=i.__P)}this.__b=null}var r=t.__a&&Ce(U,null,e.fallback);return r&&(r.__u&=-33),[Ce(U,null,t.__a?null:e.children),r]};var _o=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function Rd(e){return this.getChildContext=function(){return e.context},e.children}function $d(e){var t=this,n=e.i;t.componentWillUnmount=function(){dt(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],contains:function(){return!0},appendChild:function(i){this.childNodes.push(i),t.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),t.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),t.i.removeChild(i)}}),dt(Ce(Rd,{context:t.context},e.__v),t.l)}function ms(e,t){var n=Ce($d,{__v:e,i:t});return n.containerInfo=t,n}(lt.prototype=new de).__a=function(e){var t=this,n=hs(t.__v),i=t.o.get(e);return i[0]++,function(r){var o=function(){t.props.revealOrder?(i.push(r),_o(t,e,i)):r()};n?n(o):o()}},lt.prototype.render=function(e){this.u=null,this.o=new Map;var t=he(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},lt.prototype.componentDidUpdate=lt.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){_o(e,n,t)})};var _s=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Pd=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Nd=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Md=/[A-Z0-9]/g,Td=typeof document<"u",jd=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function gs(e,t,n){return t.__k==null&&(t.textContent=""),dt(e,t),typeof n=="function"&&n(),e?e.__c:null}function ps(e,t,n){return Ko(e,t),typeof n=="function"&&n(),e?e.__c:null}de.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(de.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var go=O.event;function Bd(){}function Id(){return this.cancelBubble}function Ld(){return this.defaultPrevented}O.event=function(e){return go&&(e=go(e)),e.persist=Bd,e.isPropagationStopped=Id,e.isDefaultPrevented=Ld,e.nativeEvent=e};var rr,Hd={enumerable:!1,configurable:!0,get:function(){return this.class}},po=O.vnode;O.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,i=t.type,r={},o=i.indexOf("-")===-1;for(var a in n){var c=n[a];if(!(a==="value"&&"defaultValue"in n&&c==null||Td&&a==="children"&&i==="noscript"||a==="class"||a==="className")){var l=a.toLowerCase();a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&c===!0?c="":l==="translate"&&c==="no"?c=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?a="ondblclick":l!=="onchange"||i!=="input"&&i!=="textarea"||jd(n.type)?l==="onfocus"?a="onfocusin":l==="onblur"?a="onfocusout":Nd.test(a)&&(a=l):l=a="oninput":o&&Pd.test(a)?a=a.replace(Md,"-$&").toLowerCase():c===null&&(c=void 0),l==="oninput"&&r[a=l]&&(a="oninputCapture"),r[a]=c}}i=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=he(n.children).forEach(function(u){u.props.selected=r.value.indexOf(u.props.value)!=-1})),i=="select"&&r.defaultValue!=null&&(r.value=he(n.children).forEach(function(u){u.props.selected=r.multiple?r.defaultValue.indexOf(u.props.value)!=-1:r.defaultValue==u.props.value})),n.class&&!n.className?(r.class=n.class,Object.defineProperty(r,"className",Hd)):(n.className&&!n.class||n.class&&n.className)&&(r.class=r.className=n.className),t.props=r}(e),e.$$typeof=_s,po&&po(e)};var vo=O.__r;O.__r=function(e){vo&&vo(e),rr=e.__c};var yo=O.diffed;O.diffed=function(e){yo&&yo(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value),rr=null};var vs={ReactCurrentDispatcher:{current:{readContext:function(e){return rr.__n[e.__c].props.value},useCallback:p,useContext:ee,useDebugValue:Ui,useDeferredValue:sr,useEffect:q,useId:zi,useImperativeHandle:Fi,useInsertionEffect:lr,useLayoutEffect:vt,useMemo:Vt,useReducer:Nn,useRef:J,useState:$,useSyncExternalStore:ur,useTransition:cr}}},Vd="18.3.1";function ys(e){return Ce.bind(null,e)}function Kt(e){return!!e&&e.$$typeof===_s}function bs(e){return Kt(e)&&e.type===U}function Ss(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function ws(e){return Kt(e)?Vi.apply(null,arguments):e}function ks(e){return!!e.__k&&(dt(null,e),!0)}function Os(e){return e&&(e.base||e.nodeType===1&&e)||null}var or=function(e,t){return e(t)},As=function(e,t){return e(t)},Cs=U;function ar(e){e()}function sr(e){return e}function cr(){return[!1,ar]}var lr=vt,Es=Kt;function ur(e,t){var n=t(),i=$({h:{__:n,v:t}}),r=i[0].h,o=i[1];return vt(function(){r.__=n,r.v=t,ti(r)&&o({h:r})},[e,n,t]),q(function(){return ti(r)&&o({h:r}),e(function(){ti(r)&&o({h:r})})},[e]),n}function ti(e){var t,n,i=e.v,r=e.__;try{var o=i();return!((t=r)===(n=o)&&(t!==0||1/t==1/n)||t!=t&&n!=n)}catch{return!0}}var Ri={useState:$,useId:zi,useReducer:Nn,useEffect:q,useLayoutEffect:vt,useInsertionEffect:lr,useTransition:cr,useDeferredValue:sr,useSyncExternalStore:ur,startTransition:ar,useRef:J,useImperativeHandle:Fi,useMemo:Vt,useCallback:p,useContext:ee,useDebugValue:Ui,version:"18.3.1",Children:ls,render:gs,hydrate:ps,unmountComponentAtNode:ks,createPortal:ms,createElement:Ce,createContext:Ht,createFactory:ys,cloneElement:ws,createRef:Fo,Fragment:U,isValidElement:Kt,isElement:Es,isFragment:bs,isMemo:Ss,findDOMNode:Os,Component:de,PureComponent:En,memo:Bt,forwardRef:It,flushSync:As,unstable_batchedUpdates:or,StrictMode:Cs,Suspense:$t,SuspenseList:lt,lazy:fs,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:vs};const Fd=Object.freeze(Object.defineProperty({__proto__:null,Children:ls,Component:de,Fragment:U,PureComponent:En,StrictMode:Cs,Suspense:$t,SuspenseList:lt,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:vs,cloneElement:ws,createContext:Ht,createElement:Ce,createFactory:ys,createPortal:ms,createRef:Fo,default:Ri,findDOMNode:Os,flushSync:As,forwardRef:It,hydrate:ps,isElement:Es,isFragment:bs,isMemo:Ss,isValidElement:Kt,lazy:fs,memo:Bt,render:gs,startTransition:ar,unmountComponentAtNode:ks,unstable_batchedUpdates:or,useCallback:p,useContext:ee,useDebugValue:Ui,useDeferredValue:sr,useEffect:q,useErrorBoundary:Ac,useId:zi,useImperativeHandle:Fi,useInsertionEffect:lr,useLayoutEffect:vt,useMemo:Vt,useReducer:Nn,useRef:J,useState:$,useSyncExternalStore:ur,useTransition:cr,version:Vd},Symbol.toStringTag,{value:"Module"}));if(!$)throw new Error("mobx-react-lite requires React with Hooks support");if(!hu)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function Ud(e){e()}function zd(e){e||(e=Ud),ru({reactionScheduler:e})}function Wd(e){return ou(e)}var Gd=1e4,qd=1e4,Kd=function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(i){i===void 0&&(i=Gd),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var r=Date.now();n.registrations.forEach(function(o,a){r-o.registeredAt>=i&&(n.finalize(o.value),n.registrations.delete(a))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,i){this.registrations.set(i,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,qd))}}),e}(),Yd=typeof FinalizationRegistry<"u"?FinalizationRegistry:Kd,$i=new Yd(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),Ds={exports:{}},xs={};const Jd=$c(Fd);/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _t=Jd;function Xd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zd=typeof Object.is=="function"?Object.is:Xd,Qd=_t.useState,eh=_t.useEffect,th=_t.useLayoutEffect,nh=_t.useDebugValue;function ih(e,t){var n=t(),i=Qd({inst:{value:n,getSnapshot:t}}),r=i[0].inst,o=i[1];return th(function(){r.value=n,r.getSnapshot=t,ni(r)&&o({inst:r})},[e,n,t]),eh(function(){return ni(r)&&o({inst:r}),e(function(){ni(r)&&o({inst:r})})},[e]),nh(n),n}function ni(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zd(e,n)}catch{return!0}}function rh(e,t){return t()}var oh=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?rh:ih;xs.useSyncExternalStore=_t.useSyncExternalStore!==void 0?_t.useSyncExternalStore:oh;Ds.exports=xs;var ah=Ds.exports;function bo(e){e.reaction=new Te("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function sh(e,t){t===void 0&&(t="observed");var n=Ri.useRef(null);if(!n.current){var i={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(c){return $i.unregister(i),i.onStoreChange=c,i.reaction||(bo(i),i.stateVersion=Symbol()),function(){var l;i.onStoreChange=null,(l=i.reaction)===null||l===void 0||l.dispose(),i.reaction=null}},getSnapshot:function(){return i.stateVersion}};n.current=i}var r=n.current;r.reaction||(bo(r),$i.register(n,r,r)),Ri.useDebugValue(r.reaction,Wd),ah.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot);var o,a;if(r.reaction.track(function(){try{o=e()}catch(c){a=c}}),a)throw a;return o}var ii,ri,Rs=typeof Symbol=="function"&&Symbol.for,ch=(ri=(ii=Object.getOwnPropertyDescriptor(function(){},"name"))===null||ii===void 0?void 0:ii.configurable)!==null&&ri!==void 0?ri:!1,So=Rs?Symbol.for("react.forward_ref"):typeof It=="function"&&It(function(e){return null}).$$typeof,wo=Rs?Symbol.for("react.memo"):typeof Bt=="function"&&Bt(function(e){return null}).$$typeof;function x(e,t){var n;if(wo&&e.$$typeof===wo)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var i=(n=void 0)!==null&&n!==void 0?n:!1,r=e,o=e.displayName||e.name;if(So&&e.$$typeof===So&&(i=!0,r=e.render,typeof r!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var a=function(c,l){return sh(function(){return r(c,l)},o)};return a.displayName=e.displayName,ch&&Object.defineProperty(a,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(a.contextTypes=e.contextTypes),i&&(a=It(a)),a=Bt(a),uh(e,a),a}var lh={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function uh(e,t){Object.keys(e).forEach(function(n){lh[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}var oi;zd(or);oi=$i.finalizeAllImmediately;const dh={attributes:!0,childList:!0,subtree:!0,characterData:!0},hh=e=>{const t=document.defaultView.getComputedStyle(e);return e.getBoundingClientRect().height+(parseInt(t.marginTop,10)||0)+(parseInt(t.marginBottom,10)||0)},fh=e=>Array.from(e.children).map(hh).reduce((t,n)=>n+t,0),Be=({className:e,children:t})=>{const n=H("mock-animated-div",e),i=J(),[r,o]=$(0),a={height:`${r}px`},c=p(()=>{i.current&&(o(fh(i.current)),i.current.parentElement&&setTimeout(()=>{var l,u;return(u=(l=i.current)==null?void 0:l.parentElement)==null?void 0:u.scrollTo(0,0)},0))},[i,o]);return q(()=>{if(c(),i.current){const l=new MutationObserver(c);return l.observe(i.current,dh),()=>l.disconnect()}},[i,c]),es(c),s("div",{ref:i,className:n,style:a,children:t})},mh=({down:e,children:t,warning:n,onClose:i})=>{const r=J(null);Un(r,i);const o=H("mock-tooltip",{"mock-tooltip-up":!e,"mock-tooltip-down":e,"mock-tooltip-warning":n});return s("div",{ref:r,className:o,children:t})},Wn=({renderTooltip:e,direction:t,children:n,warning:i})=>{const[r,o]=$(!1),a=t==="down",c=p(()=>o(h=>!h),[o]),l=p(()=>o(!1),[o]);return s("div",{className:"mock-tooltip-container",children:[s("div",{onMouseDown:c,children:n}),r&&s(mh,{down:a,warning:i,onClose:l,children:e()})]})},_h=["white","grey","orange","green","purple","aqua","red","yellow","cyan"],Pi={"item/basic_magazine":"item/basic_magazine.svg","item/close_quarters":"item/close_quarters.svg","item/headshot_booster":"item/headshot_booster.svg","item/high_velocity_mag":"item/high_velocity_mag.svg","item/hollow_point_ward":"item/hollow_point_ward.svg","item/monster_rounds":"item/monster_rounds.svg","item/rapid_rounds":"item/rapid_rounds.svg","item/restorative_shot":"item/restorative_shot.svg","item/active_reload":"item/active_reload.svg","item/berserker":"item/berserker.svg","item/fleetfoot":"item/fleetfoot.svg","item/kinetic_dash":"item/kinetic_dash.svg","item/long_range":"item/long_range.svg","item/melee_charge":"item/melee_charge.svg","item/mystic_shot":"item/mystic_shot.svg","item/slowing_bullets":"item/slowing_bullets.svg","item/soul_shredder_bullets":"item/soul_shredder_bullets.svg","item/swift_striker":"item/swift_striker.svg","item/alchemical_fire":"item/alchemical_fire.svg","item/burst_fire":"item/burst_fire.svg","item/escalating_resilience":"item/escalating_resilience.svg","item/headhunter":"item/headhunter.svg","item/heroic_aura":"item/heroic_aura.svg","item/hunters_aura":"item/hunters_aura.svg","item/intensifying_magazine":"item/intensifying_magazine.svg","item/point_blank":"item/point_blank.svg","item/pristine_emblem":"item/pristine_emblem.svg","item/sharpshooter":"item/sharpshooter.svg","item/spellslinger_headshots":"item/spellslinger_headshots.png","item/tesla_bullets":"item/tesla_bullets.svg","item/titanic_magazine":"item/titanic_magazine.svg","item/toxic_bullets":"item/toxic_bullets.svg","item/warp_stone":"item/warp_stone.svg","item/crippling_headshot":"item/crippling_headshot.svg","item/frenzy":"item/frenzy.svg","item/glass_cannon":"item/glass_cannon.svg","item/lucky_shot":"item/lucky_shot.svg","item/ricochet":"item/ricochet.svg","item/shadow_weave":"item/shadow_weave.svg","item/silencer":"item/silencer.svg","item/spiritual_overflow":"item/spiritual_overflow.svg","item/vampiric_burst":"item/vampiric_burst.svg","item/enduring_spirit":"item/enduring_spirit.svg","item/extra_health":"item/extra_health.svg","item/extra_regen":"item/extra_regen.svg","item/extra_stamina":"item/extra_stamina.svg","item/healing_rite":"item/healing_rite.svg","item/melee_lifesteal":"item/melee_lifesteal.svg","item/sprint_boots":"item/sprint_boots.svg","item/bullet_armor":"item/bullet_armor.svg","item/bullet_lifesteal":"item/bullet_lifesteal.svg","item/combat_barrier":"item/combat_barrier.svg","item/debuff_reducer":"item/debuff_reducer.svg","item/divine_barrier":"item/divine_barrier.svg","item/enchanters_barrier":"item/enchanters_barrier.svg","item/enduring_speed":"item/enduring_speed.svg","item/healbane":"item/healbane.svg","item/healing_booster":"item/healing_booster.svg","item/healing_nova":"item/healing_nova.svg","item/reactive_barrier":"item/reactive_barrier.svg","item/restorative_locket":"item/restorative_locket.svg","item/return_fire":"item/return_fire.svg","item/spirit_armor":"item/spirit_armor.svg","item/spirit_lifesteal":"item/spirit_lifesteal.svg","item/debuff_remover":"item/debuff_remover.svg","item/fortitude":"item/fortitude.svg","item/improved_bullet_armor":"item/improved_bullet_armor.svg","item/improved_spirit_armor":"item/improved_spirit_armor.svg","item/lifestrike":"item/lifestrike.svg","item/majestic_leap":"item/majestic_leap.svg","item/metal_skin":"item/metal_skin.svg","item/rescue_beam":"item/rescue_beam.svg","item/superior_stamina":"item/superior_stamina.svg","item/colossus":"item/colossus.svg","item/inhibitor":"item/inhibitor.svg","item/leech":"item/leech.svg","item/phantom_strike":"item/phantom_strike.svg","item/siphon_bullets":"item/siphon_bullets.svg","item/unstoppable":"item/unstoppable.svg","item/veil_walker":"item/veil_walker.svg","item/ammo_scavenger":"item/ammo_scavenger.svg","item/extra_charge":"item/extra_charge.svg","item/extra_spirit":"item/extra_spirit.svg","item/infuser":"item/infuser.svg","item/mystic_burst":"item/mystic_burst.svg","item/mystic_reach":"item/mystic_reach.svg","item/spirit_strike":"item/spirit_strike.svg","item/bullet_resist_shredder":"item/bullet_resist_shredder.svg","item/cold_front":"item/cold_front.svg","item/decay":"item/decay.svg","item/duration_extender":"item/duration_extender.svg","item/improved_cooldown":"item/improved_cooldown.svg","item/mystic_vulnerability":"item/mystic_vulnerability.svg","item/quicksilver_reload":"item/quicksilver_reload.svg","item/slowing_hex":"item/slowing_hex.svg","item/suppressor":"item/suppressor.svg","item/withering_whip":"item/withering_whip.svg","item/arcane_surge":"item/arcane_surge.png","item/ethereal_shift":"item/ethereal_shift.svg","item/improved_burst":"item/improved_burst.svg","item/improved_reach":"item/improved_reach.svg","item/improved_spirit":"item/improved_spirit.svg","item/knockdown":"item/knockdown.svg","item/mystic_slow":"item/mystic_slow.svg","item/rapid_recharge":"item/rapid_recharge.svg","item/silence_glyph":"item/silence_glyph.svg","item/spirit_snatch":"item/spirit_snatch.png","item/superior_cooldown":"item/superior_cooldown.svg","item/superior_duration":"item/superior_duration.svg","item/surge_of_power":"item/surge_of_power.svg","item/torment_pulse":"item/torment_pulse.svg","item/boundless_spirit":"item/boundless_spirit.svg","item/curse":"item/curse.svg","item/diviners_kevlar":"item/diviners_kevlar.svg","item/echo_shard":"item/echo_shard.svg","item/escalating_exposure":"item/escalating_exposure.svg","item/magic_carpet":"item/magic_carpet.svg","item/mystic_reverb":"item/mystic_reverb.svg","item/refresher":"item/refresher.svg","hero/abrams/infernal_resilience":"hero/abrams/infernal_resilience.svg","hero/abrams/seismic_impact":"hero/abrams/seismic_impact.svg","hero/abrams/shoulder_charge":"hero/abrams/shoulder_charge.svg","hero/abrams/siphon_life":"hero/abrams/siphon_life.svg","hero/bebop/exploding_uppercut":"hero/bebop/exploding_uppercut.svg","hero/bebop/hook":"hero/bebop/hook.svg","hero/bebop/hyper_beam":"hero/bebop/hyper_beam.svg","hero/bebop/sticky_bomb":"hero/bebop/sticky_bomb.svg","hero/dynamo/kinetic_pulse":"hero/dynamo/kinetic_pulse.svg","hero/dynamo/quantum_entanglement":"hero/dynamo/quantum_entanglement.svg","hero/dynamo/rejuvenating_aurora":"hero/dynamo/rejuvenating_aurora.svg","hero/dynamo/singularity":"hero/dynamo/singularity.svg","hero/grey_talon/charged_shot":"hero/grey_talon/charged_shot.svg","hero/grey_talon/guided_owl":"hero/grey_talon/guided_owl.svg","hero/grey_talon/spirit_snare":"hero/grey_talon/spirit_snare.svg","hero/grey_talon/rain_of_arrows":"hero/grey_talon/rain_of_arrows.svg","hero/haze/bullet_dance":"hero/haze/bullet_dance.svg","hero/haze/fixation":"hero/haze/fixation.svg","hero/haze/sleep_dagger":"hero/haze/sleep_dagger.svg","hero/haze/smoke_bomb":"hero/haze/smoke_bomb.svg","hero/infernus/afterburn":"hero/infernus/afterburn.svg","hero/infernus/catalyst":"hero/infernus/catalyst.svg","hero/infernus/concussive_combustion":"hero/infernus/concussive_combustion.svg","hero/infernus/flame_dash":"hero/infernus/flame_dash.svg","hero/ivy/air_drop":"hero/ivy/air_drop.svg","hero/ivy/kudzu_bomb":"hero/ivy/kudzu_bomb.svg","hero/ivy/stone_form":"hero/ivy/stone_form.svg","hero/ivy/watchers_covenant":"hero/ivy/watchers_covenant.svg","hero/kelvin/arctic_beam":"hero/kelvin/arctic_beam.svg","hero/kelvin/frost_grenade":"hero/kelvin/frost_grenade.svg","hero/kelvin/frozen_shelter":"hero/kelvin/frozen_shelter.svg","hero/kelvin/ice_path":"hero/kelvin/ice_path.svg","hero/lady_geist/essence_bomb":"hero/lady_geist/essence_bomb.svg","hero/lady_geist/life_drain":"hero/lady_geist/life_drain.svg","hero/lady_geist/malice":"hero/lady_geist/malice.svg","hero/lady_geist/soul_exchange":"hero/lady_geist/soul_exchange.svg","hero/lash/death_slam":"hero/lash/death_slam.svg","hero/lash/flog":"hero/lash/flog.svg","hero/lash/grapple":"hero/lash/grapple.svg","hero/lash/ground_strike":"hero/lash/ground_strike.svg","hero/mcginnis/heavy_barrage":"hero/mcginnis/heavy_barrage.svg","hero/mcginnis/medicinal_specter":"hero/mcginnis/medicinal_specter.svg","hero/mcginnis/mini_turret":"hero/mcginnis/mini_turret.svg","hero/mcginnis/spectral_wall":"hero/mcginnis/spectral_wall.svg","hero/mirage/djinns_mark":"hero/mirage/djinns_mark.svg","hero/mirage/fire_scarabs":"hero/mirage/fire_scarabs.svg","hero/mirage/tornado":"hero/mirage/tornado.svg","hero/mirage/traveler":"hero/mirage/traveler.svg","hero/mo_and_krill/burrow":"hero/mo_and_krill/burrow.svg","hero/mo_and_krill/combo":"hero/mo_and_krill/combo.svg","hero/mo_and_krill/sand_blast":"hero/mo_and_krill/sand_blast.svg","hero/mo_and_krill/scorn":"hero/mo_and_krill/scorn.svg","hero/paradox/kinetic_carbine":"hero/paradox/kinetic_carbine.svg","hero/paradox/paradoxical_swap":"hero/paradox/paradoxical_swap.svg","hero/paradox/pulse_grenade":"hero/paradox/pulse_grenade.svg","hero/paradox/time_wall":"hero/paradox/time_wall.svg","hero/pocket/affliction":"hero/pocket/affliction.svg","hero/pocket/barrage":"hero/pocket/barrage.svg","hero/pocket/enchanters_satchel":"hero/pocket/enchanters_satchel.svg","hero/pocket/flying_cloak":"hero/pocket/flying_cloak.svg","hero/seven/lightning_ball":"hero/seven/lightning_ball.svg","hero/seven/power_surge":"hero/seven/power_surge.svg","hero/seven/static_charge":"hero/seven/static_charge.svg","hero/seven/storm_cloud":"hero/seven/storm_cloud.svg","hero/shiv/bloodletting":"hero/shiv/bloodletting.svg","hero/shiv/killing_blow":"hero/shiv/killing_blow.svg","hero/shiv/serrated_knives":"hero/shiv/serrated_knives.svg","hero/shiv/slice_and_dice":"hero/shiv/slice_and_dice.svg","hero/vindicta/assassinate":"hero/vindicta/assassinate.svg","hero/vindicta/crow_familiar":"hero/vindicta/crow_familiar.svg","hero/vindicta/flight":"hero/vindicta/flight.svg","hero/vindicta/stake":"hero/vindicta/stake.svg","hero/viscous/goo_ball":"hero/viscous/goo_ball.svg","hero/viscous/puddle_punch":"hero/viscous/puddle_punch.svg","hero/viscous/splatter":"hero/viscous/splatter.svg","hero/viscous/the_cube":"hero/viscous/the_cube.svg","hero/warden/alchemical_flask":"hero/warden/alchemical_flask.svg","hero/warden/binding_word":"hero/warden/binding_word.svg","hero/warden/last_stand":"hero/warden/last_stand.svg","hero/warden/willpower":"hero/warden/willpower.svg","hero/wraith/card_trick":"hero/wraith/card_trick.svg","hero/wraith/full_auto":"hero/wraith/full_auto.svg","hero/wraith/project_mind":"hero/wraith/project_mind.svg","hero/wraith/telekinesis":"hero/wraith/telekinesis.svg","hero/yamato/crimson_slash":"hero/yamato/crimson_slash.svg","hero/yamato/flying_strike":"hero/yamato/flying_strike.svg","hero/yamato/power_slash":"hero/yamato/power_slash.svg","hero/yamato/shadow_transformation":"hero/yamato/shadow_transformation.svg","stat/cooldown":"stat/cooldown.svg","stat/charge":"stat/charge.svg","stat/charge_cooldown":"stat/charge_cooldown.svg","stat/duration":"stat/duration.svg","stat/range":"stat/range.svg","stat/aoe":"stat/aoe.svg","stat/weapon_damage":"stat/weapon_damage.svg","stat/spirit_damage":"stat/spirit_damage.svg","stat/melee":"stat/melee.svg","stat/bullet":"stat/bullet.svg","stat/fire_rate":"stat/fire_rate.svg","stat/ammo":"stat/ammo.svg","stat/reload":"stat/reload.svg","stat/bullet_armor":"stat/bullet_armor.svg","stat/bullet_resist_reduction":"stat/bullet_resist_reduction.png","stat/spirit_armor":"stat/spirit_armor.svg","stat/spirit_resist_reduction":"stat/spirit_resist_reduction.png","stat/bullet_shield":"stat/bullet_shield.svg","stat/spirit_shield":"stat/spirit_shield.svg","stat/move_speed":"stat/move_speed.svg","stat/stamina":"stat/stamina.svg","stat/move_slow":"stat/move_slow.svg","stat/stun":"stat/stun.svg","stat/invisible":"stat/invisible.svg","stat/health":"stat/health.svg","stat/healing":"stat/healing.svg","stat/damage_amplification":"stat/damage_amplification.svg","stat/placeholder":"stat/placeholder.svg","stat/ability_point":"stat/ability_point.svg","stat/silence":"stat/silence.svg",boon_scaling:"boon_scaling.png",cancel:"cancel.svg",compress:"compress.svg",dropdown:"dropdown.svg",error:"error.svg",expand:"expand.svg",font:"font.svg",gear:"gear.svg",grip:"grip.svg",hourglass_half:"hourglass_half.svg",plus:"plus.svg",soul:"soul.svg",spirit:"spirit.svg",swap:"swap.svg",trash:"trash.svg",vitality:"vitality.svg",weapon:"weapon.svg"},gh=Object.values(Pi),ph=/^data:/,vh=e=>!!e.match(ph),B=({image:e,large:t,color:n,onMouseDown:i})=>{const r=ee(Jo),o=`mock-icon-${n}`,a=H("mock-icon",{[o]:!!n,"mock-icon-clickable":!!i,"mock-icon-large":!!t}),c=Pi[e]||Pi["stat/placeholder"],l=e&&vh(e)?`url(${e})`:`url("${r.baseUrl}icon/${c}")`;return s("span",{className:a,style:{maskImage:l},onMouseDown:i})},yh=x(({image:e,model:t})=>{const n=y(()=>t.image=e,[e,t]);return s("div",{className:"mock-icon-picker-button",onClick:n,children:s(B,{color:t.color,image:e})})}),bh=x(({color:e,model:t})=>{const n=y(()=>t.color=e,[e,t]);return s("div",{className:"mock-icon-picker-button",onClick:n,children:s(B,{color:e})})}),Sh=x(({model:e,resize:t})=>{const n=y(()=>e.large=!e.large,[e]),i=e.large?"compress":"expand";return s("div",{className:"mock-icon-picker",children:[s("div",{children:[t&&s("span",{onClick:n,children:s(B,{color:"white",image:i})}),_h.map(o=>s(bh,{color:o,model:e},o))]}),Gi.map((o,a)=>s("div",{children:o.map(c=>s(yh,{image:c,model:e},c))},a))]})}),dr=x(({model:e,resize:t})=>{const n=p(()=>s(Sh,{model:e,resize:t}),[e,t]);return s(Wn,{click:!0,direction:"down",renderTooltip:n,children:s("div",{className:"mock-editable-icon",children:s(B,{color:e.color,image:e.image,large:e.large})})})}),Ni=["v1","v2"],gt=Ni[Ni.length-1],wh=e=>!e||(e==null?void 0:e.length)===0,kh=e=>e===!0?1:e===!1||e===null||e===void 0?0:e,$s=(e,t,n)=>{var r;let i=((r=n==null?void 0:n.serialize)==null?void 0:r.call(n))||n;if(Array.isArray(i)&&(i=i.map(o=>$s(e,`${t}[]`,o))),e==="IconModel"){if(t==="image"&&n==="stat/placeholder")return 0;if(t==="color"&&n==="grey")return 0}return e==="ValueModel"&&t==="stat"&&n==="stat"?0:kh(i)},Ps=(e,t,n)=>Array.isArray(t)?e.map(i=>Ps(i,t[0],n)):!t||!t.deserialize?e:t.deserialize(e,n),Oh=e=>{if(!Array.isArray(e))return e;let t=e.length-1;for(;e[t]===0;)t--;return e.slice(0,t+1)},ye=(e,t)=>{const n=Array.isArray(t)?{[gt]:t}:t,i=n[gt];e.prototype.serialize=function(){return Oh(i.map(([r])=>$s(e.name,r,this[r])))},e.deserialize=(r,o)=>{const a=n[o]||i;if(!Array.isArray(r))return r;const c=r.map((l,u)=>{const[h,d]=a[u];return[h,Ps(l,d,o)]});return Object.fromEntries(c.filter(([,l])=>!wh(l)))}};class hr{constructor(t){v(this,"image","stat/placeholder");v(this,"color","grey");v(this,"large",!1);this.image=(t==null?void 0:t.image)||this.image,this.color=(t==null?void 0:t.color)||this.color,this.large=!!(t!=null&&t.large),ue(this)}}ye(hr,[["image"],["color"],["large"]]);const Ah=300,fr=()=>s("div",{draggable:!0,className:"mock-drag-list-grip",children:s(B,{color:"grey",image:"grip"})}),Ns=({children:e,index:t,active:n,onStart:i,onEnd:r})=>{const o=H({"mock-drag-list-item":t!==null,"mock-drag-list-item-unused":t===null,"mock-drag-list-item-active":n}),a=p(l=>{i(t),l.stopPropagation()},[t,i]),c=p(l=>{r(l)},[r]);return t===null?s("div",{className:o,children:e}):s("div",{className:o,onDragEnd:c,onDragStart:a,children:e})},Ch=(e,t)=>t?e.x+e.width/2:e.y+e.height/2,Eh=(e,t,n)=>{const r=Array.from(t.children).filter(a=>a.classList.contains("mock-drag-list-item")||a.classList.contains("mock-animated-div")&&Array.from(a.children).some(c=>c.classList.contains("mock-drag-list-item"))).map(a=>Ch(a.getBoundingClientRect())),o=n?e.clientX:e.clientY;for(let a=0;a<r.length;a++)if(o<r[a])return a;return r.length},mr=(e,t)=>{const n=H("mock-drag-list-divider",{"mock-drag-list-divider-highlighted":e===t});return s("div",{className:n})},Dh=(e,t)=>{const n=new Set(t),i=[];let r=0,o=0;for(;r<e.length&&o<t.length;)n.has(e[r])?e[r]===t[o]?(i.push(e[r]),++r,++o):(i.push(t[o]),++o):(i.push(e[r]),++r);if(r<e.length){const a=new Set(i);i.push(...e.slice(r).filter(c=>!a.has(c)))}else o<t.length&&i.push(...t.slice(o));return i},xh=(e,t,n,i,r)=>e.flatMap((o,a)=>[mr(a,n),s(Ns,{active:a===t,index:a,onEnd:r,onStart:i,children:o},o.key)]),Rh=(e,t,n,i,r,o)=>{const a=Object.fromEntries(t.map(l=>[l.key,l]));let c=0;return e.flatMap(l=>{const u=a[l];if(!u)return[s(Be,{},l)];const h=c++;return[mr(h,i),s(Be,{children:s(Ns,{active:h===n,index:h,onEnd:o,onStart:r,children:u})},l)]})},_r=x(({horizontal:e,animated:t,children:n,onMove:i})=>{const r=J(),[o,a]=$(null),[c,l]=$(null),[,u]=$(null),[h,d]=$([]),[f,m]=$([]),R=p(N=>{u(0),a(N)},[u,a]),j=p(N=>{o!==null&&(r.current&&l(Eh(N,r.current,e)),N.preventDefault(),N.stopPropagation())},[o,e,l]),S=p(()=>{o!==null&&u(N=>N+1)},[o,u]),w=p(()=>{o!==null&&u(N=>N<=1?(l(null),null):N-1)},[o,u,l]),C=y(N=>{o!==null&&(c!==null&&(c<o||c>o+1)&&i(z=>{const X=z.splice(o,1);z.splice(c<o?c:c-1,0,...X)}),u(null),l(null),a(null),N.stopPropagation())},[o,c,a,l,i]);q(()=>{if(t){const N=he(n).map(X=>X.key);d(Dh(h,N));const z=new Set(h).difference(new Set(N));if(z.size>0){const X=Date.now()+Ah;m(_=>_.concat(Array.from(z).map(P=>({id:P,timestamp:X}))))}}},[h,t,n,d,m]),q(()=>{if(t){let N=!1,z=!1;const X=Date.now();for(;f.length>0&&f[0].timestamp<X;){const _=h.indexOf(f[0].id);_!==-1&&(h.splice(_,1),N=!0),z=!0,f.shift()}if(z&&m(Array.from(f)),N&&d(h),f.length>0){const _=setTimeout(()=>m(P=>Array.from(P)),f[0].timestamp-X);return()=>clearTimeout(_)}}},[h,t,f,d,m]);const I=he(n),V=t?Rh(h,I,o,c,R,C):xh(I,o,c,R,C);return s("div",{ref:r,className:"mock-drag-list",onDragEnter:S,onDragLeave:w,onDragOver:j,onDrop:C,children:[V,mr(I.length,c)]})}),Yt=({children:e,onMouseDown:t,overlap:n})=>{const i=H({"mock-delete-button-overlap":n});return s("div",{className:"mock-deleteable",children:[e,s("span",{children:s("span",{className:i,children:s("span",{className:"mock-delete-button",children:s(B,{color:"red",image:"cancel",onMouseDown:t})})})})]})},He=(e,t)=>e,St=(e,t,n,i)=>({source:e,cursor:t,end:t+n,data:i}),rt=(e,t,n)=>({source:e,cursor:t,error:n}),Ms=He(({source:e,cursor:t})=>t===e.length?St(e,t,0,null):rt(e,t,"end: more data in stream")),Jt=(...e)=>He(({source:t,cursor:n})=>{const i=[];let r=n;for(let o=0;o<e.length;o++){const a=e[o]({source:t,cursor:r});if(a.error)return rt(t,n,`all[${o}].${a.error}`);r=a.end,i.push(a.data)}return St(t,n,r-n,i)}),Dn=(...e)=>He(({source:t,cursor:n})=>{for(const i of e){const r=i({source:t,cursor:n});if(!r.error)return r}return rt(t,n,"any: no match")}),$h=e=>He(({source:t,cursor:n})=>e({source:t,cursor:n}).error?St(t,n,0,null):rt(t,n,"not: subparser succeeded")),pt=(e,t)=>He(({source:n,cursor:i})=>{const r=e({source:n,cursor:i});return r.error||(r.data=t(r.data)),r}),Je=(e,t,n)=>He(({source:i,cursor:r})=>{const o=[];let a=null,c=r,l=0;for(;l<=t;){const u=n({source:i,cursor:c});if(u.error){a=u.error;break}l+=1,c=u.end,o.push(u.data)}return l<e?rt(i,r,`range: found ${l} of ${e}, error: ${a}`):St(i,r,c-r,o)}),Ph=(e,t)=>Je(e,e,t),Nh=e=>Je(0,1/0,e),xn=e=>He(({source:t,cursor:n})=>t.length>n&&t[n]===e?St(t,n,1,e):rt(t,n,`char(${e}): no match`)),gr=e=>He(({source:t,cursor:n})=>{const r=t.slice(n).match(e);return!r||r.index!==0?rt(t,n,"regex: no match"):St(t,n,r[0].length,r)}),Mh=e=>t=>{const n=e({source:t,cursor:0});if(n.error)throw new Error(n.error);return n.data},Ts=new RegExp("[\\t\\r\\f]|\\p{Zs}","u"),ko=gr(Ts),Oo=e=>!!e.match(Ts),Th=new RegExp("\\p{Pc}|\\p{Pd}|\\p{Pe}|\\p{Pf}|\\p{Pi}|\\p{Po}|\\p{Ps}|\\p{Sc}|\\p{Sk}|\\p{Sm}|\\p{So}","u"),Ao=e=>!!e.match(Th),Mi=Jt(Je(0,1/0,ko),xn(`
`),Je(0,1/0,ko)),jh=pt(Jt(Mi,$h(Mi)),()=>({type:"linebreak"})),Bh=Ph(2,Mi),Ih=/[!"#%&',-/:;<=>?@_`~^$\\.*+()[\]{}|/]/,Lh=pt(Jt(xn("\\"),gr(Ih)),e=>e[1][0]),Hh=/[^_*\n]+/,Vh=pt(Dn(Lh,pt(gr(Hh),e=>e[0])),e=>({type:"text",data:e})),Fh=({source:e,cursor:t})=>{const n=Dn(Je(1,1/0,xn("*")),Je(1,1/0,xn("_")))({source:e,cursor:t});if(n.error)return n;const i=e[t-1],r=e[n.end],o="tag",a=n.data.join(""),c=!i||Oo(i)||i===`
`,l=i&&Ao(i),u=!r||Oo(r)||r===`
`,h=r&&Ao(r),d=!u&&(!h||c||l),f=!c&&(!l||u||h),m=d,R=f;return n.data={type:o,data:a,canOpen:m,canClose:R},a[0]!=="*"&&(n.data.canOpen=m&&(!f||l),n.data.canClose=R&&(!d||h)),n},Uh=e=>{const t=Math.min(2,Math.min(e[0].data.length,e[e.length-1].data.length));return{type:t===2?"strong":"em",delims:t,data:e.slice(1,e.length-1)}},zh=e=>{let t=0;const n={"*":0,_:0};for(;t<e.length;){const i=e[t];if(i.type==="tag"&&i.canClose){let r=null;const o=i.data[0],a=n[o];for(let c=t-1;c>=a;c--){const l=e[c];if(l.type==="tag"&&l.canOpen&&l.data[0]===i.data[0]){if((i.canOpen||l.canClose)&&(l.data.length+i.data.length)%3===0&&(l.data.length%3!==0||i.data.length%3!==0)&&(l.data.length<2||i.data.length<2))continue;r=c;break}}if(r!==null){const c=e[r],l=Uh(e.slice(r,t+1));c.data=c.data.substring(0,c.data.length-l.delims),i.data=i.data.substring(0,i.data.length-l.delims);const u=r+(c.data.length===0?0:1),d=t+(i.data.length===0?1:0)-u;e.splice(u,d,l),t=u}}++t}},js=e=>{var n;const t=[];for(let i=0;i<e.data.length;i++){const r=e.data[i];r.type==="tag"||r.type==="text"?((n=t[t.length-1])==null?void 0:n.type)==="text"?t[t.length-1].data+=r.data:t.push({type:"text",data:r.data}):(Array.isArray(r.data)&&js(r),t.push(r))}e.data=t},Bs=e=>(e.type==="document"?e.data.forEach(Bs):e.type==="paragraph"&&(zh(e.data),js(e)),e),Wh=pt(Jt(Je(1,1/0,Dn(Fh,Vh,jh)),Dn(Bh,Ms)),e=>({type:"paragraph",data:e[0]})),Gh=pt(Jt(Nh(Wh),Ms),e=>Bs({type:"document",data:e[0]})),Is=Mh(Gh),qh=["muted","normal","bright","purple","orange","green"],_e=({italic:e,weight:t,color:n,children:i})=>{const r=`mock-text-color-${n}`,o=H("mock-text",{"mock-text-italic":e,[r]:!!n,"mock-text-thin":t===400,"mock-text-medium":t===500,"mock-text-semibold":t===600,"mock-text-bold":t===700});return s("span",{className:o,children:i})},Gn=e=>s(_e,{...e,weight:600}),Xe=e=>s(_e,{...e,weight:700}),Kh={text:{},strong:{weight:700,color:"bright"},emphasis:{italic:!0,color:"muted"}},At=(e,t)=>{if(e.type==="document")return s(U,{children:e.data.map(n=>At(n,t))});if(e.type==="paragraph")return s(U,{children:[e.data.map(n=>At(n,t)),s("br",{})]});if(e.type==="linebreak")return s(U,{children:s("br",{})});if(e.type==="text")return s(_e,{...t.text,children:e.data});if(e.type==="em")return s(_e,{...t.emphasis,children:e.data.map(n=>At(n,t))});if(e.type==="strong")return s(_e,{...t.strong,children:e.data.map(n=>At(n,t))});console.error("invalid node type")},Yh=({text:e,format:t=Kh})=>{if(!e)return null;const n=At(Is(e),t);return s(U,{children:n})},Ls=e=>s(U,{children:e.split(`
`).reduce((t,n)=>t===null?n:s(U,{children:[t,s("br",{}),n]}))}),Hs=(e,t)=>{t(!0),setTimeout(()=>{e.current.contentEditable="true",e.current.focus(),window.getSelection().selectAllChildren(e.current)},0)},Vs=(e,t,n)=>{t(!1),n(e.target.innerText.replaceAll(/\n+/g,`
`).trim()),e.target.innerText="",e.target.contentEditable="false",e.target.scrollTo({top:0,left:0}),window.getSelection().removeAllRanges()},re=x(({onChange:e,children:t})=>{const n=J(null),[i,r]=$(!1),[o,a]=$(null),c=p(()=>{a(n.current.innerText),Hs(n,r)},[n,r,a]),l=p(d=>{Vs(d,r,e)},[r,e]),u=i?Ls(o):t,h=H("mock-editable-text","mock-text",{"mock-text-color-bright":i});return s("span",{ref:n,className:h,spellCheck:!1,onBlur:l,onMouseDown:i?null:c,children:u})}),pr=x(({text:e,format:t,onChange:n})=>{const i=J(null),[r,o]=$(!1),a=p(()=>{Hs(i,o)},[i,o]),c=p(h=>{Vs(h,o,n)},[o,n]),l=r?Ls(e):s(Yh,{format:t,text:e}),u=H("mock-editable-markdown","mock-text",{"mock-text-color-bright":r});return s("div",{ref:i,className:u,spellCheck:!1,onBlur:c,onMouseDown:r?null:a,children:l})}),Ae=({label:e,onClick:t})=>s("div",{className:"mock-sidebar-button",onClick:t,children:[s(Gn,{children:e}),s(B,{color:"bright-green",image:"plus"})]}),qn=({renderButtons:e,children:t})=>s(U,{children:[s("div",{className:"mock-sidebar-buttons",children:s("div",{children:e()})}),t]}),Jh=x(({model:e,color:t})=>{const n=y(()=>e.color=t,[t,e]),i=H("mock-style-picker-color",`mock-text-color-${t}`);return s("div",{className:i,onClick:n})}),Xh=[400,500,600,700],Zh=x(({model:e,weight:t})=>{const n=`mock-text-color-${e.color}`,i=H("mock-style-picker-weight",{[n]:!!e.color}),r=y(()=>e.weight=t,[t,e]);return s("div",{className:i,style:{fontWeight:t},onClick:r,children:"Aa"})}),Qh=x(({model:e})=>s("div",{className:"mock-style-picker",children:[s("div",{children:qh.map(t=>s(Jh,{color:t,model:e},t))}),s("div",{children:Xh.map(t=>s(Zh,{model:e,weight:t},t))})]}));class Y{constructor(t){v(this,"id");v(this,"icon");v(this,"signed",!1);v(this,"conditional",!1);v(this,"value",0);v(this,"units","");v(this,"stat","stat");v(this,"weight",null);v(this,"color",null);v(this,"spiritScaling",null);v(this,"meleeScaling",null);v(this,"boonScaling",null);this.id=crypto.randomUUID(),this.stat=(t==null?void 0:t.stat)??this.stat,this.value=(t==null?void 0:t.value)||this.value,this.units=(t==null?void 0:t.units)??this.units,this.color=(t==null?void 0:t.color)||this.color,this.weight=(t==null?void 0:t.weight)||this.weight,this.spiritScaling=(t==null?void 0:t.spiritScaling)||this.spiritScaling,this.meleeScaling=(t==null?void 0:t.meleeScaling)||this.meleeScaling,this.boonScaling=(t==null?void 0:t.boonScaling)||this.boonScaling,this.signed=!!(t!=null&&t.signed),this.conditional=!!(t!=null&&t.conditional),this.icon=new hr(t==null?void 0:t.icon),ue(this)}}ye(Y,[["icon",hr],["stat"],["value"],["units"],["signed"],["spiritScaling"],["conditional"],["weight"],["color"],["meleeScaling"],["boonScaling"]]);const ef=/^(([+-]?)\d*(?:.\d+)?)(.*)$/,Fs=x(e=>{const t=(i,r)=>{if(!i&&r>=0)return null;const o=r>=0?"+":"-";return s(Gn,{color:"muted",children:o})},n=i=>i?s(Xe,{color:"muted",children:i}):null;return s(U,{children:[t(e.signed,e.value),s(Xe,{color:"bright",children:Math.abs(e.value)}),n(e.units)]})}),Xt=x(({model:e})=>{const t=y(n=>{const i=n.match(ef),r=i&&parseFloat(i[1]);!i||isNaN(r)?console.error("value parse failed",i,n):(e.signed=i[2].length>0,e.value=parseFloat(i[1]),e.units=i[3])},[e]);return s(re,{onChange:t,children:s(Fs,{signed:e.signed,units:e.units,value:e.value})})}),tf=(e,t,n)=>e?s("div",{className:"mock-spirit-scaling-box",children:s("div",{children:[s("span",{children:"x"}),s(re,{onChange:n,children:t.spiritScaling})]})}):null,nf=(e,t,n)=>e?s("div",{className:"mock-melee-scaling-box",children:s("div",{children:[s("span",{children:"x"}),s(re,{onChange:n,children:t.meleeScaling})]})}):null,rf=(e,t,n)=>e?s("div",{className:"mock-boon-scaling-box",children:s("div",{children:[s("span",{children:"x"}),s(re,{onChange:n,children:t.boonScaling})]})}):null,Co=e=>e.spiritScaling!==null&&e.spiritScaling!==void 0?"spiritScaling":e.meleeScaling!==null&&e.meleeScaling!==void 0?"meleeScaling":e.boonScaling!==null&&e.boonScaling!==void 0?"boonScaling":null,Us=x(({model:e,detailed:t})=>{const n=y(r=>{const o=parseFloat(r);isNaN(o)?console.error("failed to parse",r):e[Co(e)]=o},[e]),i=Co(e);return i==="spiritScaling"?s("div",{className:"mock-spirit-scaling",children:[s("span",{className:"mock-spirit-scaling-icon"}),tf(t,e,n)]}):i==="meleeScaling"?s("div",{className:"mock-melee-scaling",children:[s("span",{className:"mock-melee-scaling-icon"}),nf(t,e,n)]}):i==="boonScaling"?s("div",{className:"mock-boon-scaling",children:[s("span",{className:"mock-boon-scaling-icon"}),rf(t,e,n)]}):null}),of=x(({data:e,onEmpty:t})=>{const n=y(()=>e.addCell(),[e]),i=y(()=>e.addValue(),[e]),r=()=>s(U,{children:[s(Ae,{label:"Cell",onClick:n}),s(Ae,{label:"Value",onClick:i})]}),o=e.cells.map((c,l)=>s("div",{className:"mock-grid-cell",children:[s("div",{className:"mock-grid-cell-position",children:[s(Us,{detailed:!0,model:c}),s(af,{data:e,model:c,onEmpty:t})]}),s("div",{className:"mock-grid-cell-contents",children:s(cf,{model:c})})]},l)),a=e.values.length===0?null:s("div",{className:"mock-grid-values-cell",children:e.values.map((c,l)=>s(sf,{index:l,model:e,onEmpty:t},l))});return s(qn,{renderButtons:r,children:s("div",{className:"mock-grid",children:[o,a]})})}),af=x(({data:e,model:t,onEmpty:n})=>{const i=y(()=>{const c=e.cells.indexOf(t);c===-1?console.error("grid cell not found",t):(e.removeCell(c),n&&e.cells.length===0&&e.values.length===0&&n())},[e,t,n]),r=y(()=>{t.spiritScaling!==null&&t.spiritScaling!==void 0?(t.spiritScaling=null,t.meleeScaling=0):t.meleeScaling!==null&&t.meleeScaling!==void 0?(t.meleeScaling=null,t.boonScaling=0):t.boonScaling!==null&&t.boonScaling!==void 0?t.boonScaling=null:t.spiritScaling=0},[t]),o=y(()=>t.conditional=!t.conditional,[t]),a=p(()=>s(Qh,{model:t}),[t]);return s("div",{className:"mock-grid-cell-hover-buttons",children:[s(B,{color:"red",image:"cancel",onMouseDown:i}),s(Wn,{click:!0,direction:"up",renderTooltip:a,children:s(B,{color:"white",image:"font"})}),s(B,{color:"white",image:"boon_scaling",onMouseDown:r}),s(B,{color:"white",image:"hourglass_half",onMouseDown:o})]})}),sf=x(({model:e,index:t,onEmpty:n})=>{const i=e.values[t],r=y(a=>i.stat=a,[i]),o=y(()=>{e.removeValue(t),e.cells.length===0&&e.values.length===0&&n()},[t,e,n]);return s("div",{className:"mock-grid-values-cell-item",children:s(Yt,{onMouseDown:o,children:[s("span",{className:"mock-grid-values-cell-value",children:[s(dr,{model:i.icon}),s(Xt,{model:i})]}),s(re,{onChange:r,children:s(_e,{children:i.stat})})]})})}),cf=x(({model:e})=>{const t=y(n=>e.stat=n,[e]);return s(U,{children:[s("div",{className:"mock-grid-cell-value",children:[s(dr,{resize:!0,model:e.icon}),s(Xt,{model:e})]}),s(re,{onChange:t,children:s(_e,{color:e.color||"bright",weight:e.weight||600,children:e.stat})}),e.conditional?s(Gn,{italic:!0,color:"muted",children:"Conditional"}):null]})});class Zt{constructor(t){v(this,"cells",[]);v(this,"values",[]);var n,i;this.cells=((n=t==null?void 0:t.cells)==null?void 0:n.map(r=>new Y(r)))||this.cells,this.values=((i=t==null?void 0:t.values)==null?void 0:i.map(r=>new Y(r)))||this.values,ue(this)}addCell(t){this.cells.push(new Y(t))}removeCell(t){this.cells.splice(t,1)}addValue(t){this.values.push(new Y(t))}removeValue(t){this.values.splice(t,1)}}ye(Zt,[["cells",[Y]],["values",[Y]]]);const lf=x(({details:e,section:t})=>{const n=y(()=>{e.removeSection(t)},[e,t]),i=y(o=>{o.length===0?n():t.markdownData=o},[t,n]),r=t.gridData?s(of,{data:t.gridData,onEmpty:n}):s(pr,{text:t.markdownData,onChange:i});return s("div",{className:"mock-details-section",children:[s(fr,{}),r]})}),zs=x(({model:e})=>{const t=y(()=>e.addMarkdownSection(),[e]),n=y(()=>e.addGridSection(),[e]),i=y(a=>e.description=a,[e]),r=y(a=>a(e.sections),[e]),o=p(()=>s(U,{children:[s(Ae,{label:"Markdown",onClick:t}),s(Ae,{label:"Grid",onClick:n})]}),[n,t]);return s(qn,{renderButtons:o,children:s("div",{className:"mock-details",children:[s("div",{className:"mock-details-description",children:s(pr,{text:e.description,onChange:i})}),s(_r,{onMove:r,children:e.sections.map(a=>s(lf,{details:e,section:a},a.id))})]})})}),Ws={gridData:{cells:[{}],values:[{}]}},Gs="Insert **markdown** _here_.",qs={markdownData:Gs};class Pt{constructor(t){v(this,"id");v(this,"markdownData",null);v(this,"gridData",null);this.id=crypto.randomUUID(),this.markdownData=(t==null?void 0:t.markdownData)||null,this.gridData=t!=null&&t.gridData?new Zt(t.gridData):null,!this.markdownData&&!this.gridData&&(this.markdownData=qs.markdownData),ue(this)}}ye(Pt,[["gridData",Zt],["markdownData"]]);class Qt{constructor(t){v(this,"description",Gs);v(this,"sections",[]);var n;this.description=(t==null?void 0:t.description)??this.description,this.sections=((n=t==null?void 0:t.sections)==null?void 0:n.map(i=>new Pt(i)))||this.sections,ue(this)}addMarkdownSection(){this.sections.push(new Pt(qs))}addGridSection(){this.sections.push(new Pt(Ws))}removeSection(t){const n=this.sections.indexOf(t);n!==-1&&this.sections.splice(n,1)}}ye(Qt,[["description"],["sections",[Pt]]]);const sn=x(({model:e,value:t})=>{const n=y(()=>e.removeStat(t),[e,t]);return t?s(Yt,{overlap:!0,onMouseDown:n,children:s("div",{className:"mock-ability-stat",children:[s(dr,{model:t.icon}),s(Xt,{model:t})]})}):null}),uf=e=>e.reduce((t,n)=>(["charges","chargeCooldown","cooldown"].includes(n.stat)?t[n.stat]=n:t.remainder.push(n),t),{remainder:[]}),df=x(({model:e})=>{const t=y(d=>e.name=d,[e]),n=y(()=>e.addStat(),[e]),i=y(()=>{e.addStat({icon:{image:"stat/cooldown"},value:1,units:"s",signed:!1,stat:"cooldown"})},[e]),r=y(()=>{e.addStat({icon:{image:"stat/charge"},value:1,units:"",signed:!1,stat:"charges"}),e.addStat({icon:{image:"stat/charge_cooldown"},value:1,units:"s",signed:!1,stat:"chargeCooldown"})},[e]),{charges:o,chargeCooldown:a,cooldown:c,remainder:l}=uf(e.stats),u=()=>s(U,{children:[s(Ae,{label:"Stat",onClick:n}),c?null:s(Ae,{label:"Cooldown",onClick:i}),o&&a?null:s(Ae,{label:"Charges",onClick:r})]}),h=()=>!o&&!a?null:s("div",{className:"mock-ability-stat-group",children:[s(sn,{model:e,value:o}),s(sn,{model:e,value:a})]});return s(qn,{renderButtons:u,children:s("div",{className:"mock-ability-header",children:[s("div",{className:"mock-ability-header-left",children:[s("div",{className:"mock-ability-header-title",children:s(re,{onChange:t,children:e.name})}),s("div",{className:"mock-ability-header-misc-stats",children:l.map((d,f)=>s(sn,{model:e,value:d},f))})]}),s("div",{className:"mock-ability-header-right",children:[h(),s(sn,{model:e,value:c})]})]})})}),hf=[1,2,5],ff=/^[+-]?\*?\*?[+-]?[0-9.]+\s*[A-z/%]*\*?\*?\n[A-z ]+$/,mf={text:{},strong:{weight:700},emphasis:{weight:500,color:"muted",italic:!0}},_f={text:{},strong:{weight:700,color:"bright"},emphasis:{weight:500,color:"muted",italic:!0}},gf=x(({active:e,model:t,tier:n})=>{const i=H("mock-ability-upgrade",{"mock-ability-upgrade-inactive":!e}),r=y(l=>t.upgrades[n]=l,[t,n]),o=!!t.upgrades[n].match(ff),a=o?_f:mf,c=H("mock-ability-upgrade-text",{"mock-ability-upgrade-value":o});return s("div",{className:i,children:[s("div",{className:"mock-ability-upgrade-cost",children:[s(B,{color:"purple",image:"stat/ability_point"}),s(Xe,{children:hf[n]})]}),s("div",{className:c,children:s(pr,{format:a,text:t.upgrades[n],onChange:r})})]})}),Ks=x(({model:e})=>s("div",{className:"mock-ability",children:[s(Be,{className:"mock-ability-header-animated",children:s(df,{model:e})}),s("div",{className:"mock-ability-body-background",children:[s("div",{className:"mock-ability-body-noise"}),s("div",{className:"mock-ability-body",children:[s(Be,{children:s(zs,{model:e.details})}),s(Be,{className:"mock-ability-upgrades-animated",children:s("div",{className:"mock-ability-upgrades",children:e.upgrades.map((t,n)=>s(gf,{model:e,tier:n},n))})})]})]})]}));class Ze{constructor(t){v(this,"id");v(this,"category","ability");v(this,"name","");v(this,"stats",[]);v(this,"upgrades",["","",""]);v(this,"details",null);var n;this.id=(t==null?void 0:t.id)||crypto.randomUUID(),this.name=(t==null?void 0:t.name)||this.name,this.stats=((n=t==null?void 0:t.stats)==null?void 0:n.map(i=>new Y(i)))||this.stats,this.upgrades=Ye((t==null?void 0:t.upgrades)||this.upgrades),this.details=new Qt(t==null?void 0:t.details),ue(this)}addStat(t){this.stats.push(new Y(t))}removeStat(t){const n=this.stats.indexOf(t);n!==-1&&this.stats.splice(n,1)}}ye(Ze,{v1:[["category"],["name"],["stats",[Y]],["description"],["sections",[Zt]],["upgrades"]],v2:[["category"],["name"],["stats",[Y]],["details",Qt],["upgrades"]]});function wt(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function pf(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const i=wt(n);return(r,o)=>i.then(a=>o(a.transaction(t,r).objectStore(t)))}let ai;function Kn(){return ai||(ai=pf("keyval-store","keyval")),ai}function vf(e,t=Kn()){return t("readonly",n=>wt(n.get(e)))}function yf(e,t,n=Kn()){return n("readwrite",i=>(i.put(t,e),wt(i.transaction)))}function bf(e,t=Kn()){return t("readwrite",n=>(n.delete(e),wt(n.transaction)))}function Sf(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},wt(e.transaction)}function wf(e=Kn()){return e("readonly",t=>{if(t.getAllKeys)return wt(t.getAllKeys());const n=[];return Sf(t,i=>n.push(i.key)).then(()=>n)})}const en=Ht(null),Ys=e=>new Promise(t=>{const n=new FileReader;n.onload=i=>t(i.target.result),n.readAsDataURL(e)});class kf{constructor(){v(this,"data");this.data={}}store(t){return t.key=crypto.randomUUID(),t.timestamp=Date.now(),this.data[t.key]=Promise.resolve(t),yf(t.key,t).then(()=>t.key)}retrieve(t){return this.data[t]?this.data[t]:vf(t).then(n=>{if(!n)throw new Error(`file data not found for key: ${t}`);return n})}remove(t){return bf(t).then(()=>delete this.data[t])}list(){return wf()}}class Eo{constructor(t,n){v(this,"_type");v(this,"_cache");this._type=t,this._cache=n}store(t){return this._cache.store({type:this._type,file:t})}retrieve(t){return this._cache.retrieve(t).then(n=>{if(n.type!==this._type)throw new Error(`expected file of type ${this._type} but found ${n.type}`);return Ys(n.file)})}remove(t){return this._cache.remove(t)}list(){return this._cache.list().then(t=>Promise.all(t.map(n=>this._cache.retrieve(n))).then(n=>t.filter((i,r)=>n[r].type===this._type)))}}class Of{constructor(){this._cache=new kf,this.portrait=new Eo("portrait",this._cache),this.icon=new Eo("icon",this._cache)}}const Yn=({children:e,id:t})=>{const n=ee(en),[i,r]=$(null);q(()=>{hn(t)?n._cache.retrieve(t).then(c=>Ys(c.file)).then(c=>r(c)).catch(c=>{r("error"),console.error("error loading image file",c)}):r(null)},[t,n,r]);const o=hn(t)?i:t,a=hn(t)&&!i?s(na,{color:e.props.color}):Vi(e,{image:o});return s("span",{className:"mock-stored-image",children:a})},Af=({children:e,onDrop:t,type:n})=>{const[i,r]=$(!1),o=ee(en),a=p(d=>{const f=d.dataTransfer.items[0];d.preventDefault(),f.kind==="file"&&o[n].store(f.getAsFile()).then(t).catch(m=>console.error("failed to store file",m)),r(!1)},[o,n,t,r]),c=p(d=>{d.preventDefault()},[]),l=p(()=>{r(!0)},[r]),u=p(()=>{r(!1)},[r]),h=H("mock-file-drop-zone-icon",{"mock-file-drop-zone-icon-hover":i});return s("div",{className:"mock-file-drop-zone",children:[s("div",{className:h,onDragEnter:l,onDragLeave:u,onDragOver:c,onDrop:a}),e]})},vr=({children:e,duration:t,image:n,iconColor:i,onComplete:r})=>{const[o,a]=$(null),c=p(()=>{a(d=>(clearTimeout(d),setTimeout(r,t)))},[t,r,a]),l=p(()=>{a(d=>(clearTimeout(d),null))},[a]),u=H("mock-hold-timer-icon",{"mock-hold-timer-icon-animating":!!o}),h={animationDuration:`${t}ms`};return s("div",{className:"mock-hold-timer",onMouseDown:c,onMouseLeave:l,onMouseUp:l,children:[s("div",{children:e}),s("div",{className:u,children:[s("div",{className:"mock-hold-timer-circle",style:h,children:s("svg",{viewBox:"0 0 36 36",children:s("circle",{cx:"18",cy:"18",fill:"none",r:"15.91",stroke:"white",transform:"rotate(-90, 18 18)"})})}),s(B,{color:i,image:n})]})]})},Cf={portrait:["dynamo.webp"]},Ef=({onUpload:e,type:t})=>{const n=ee(en),i=p(o=>{o.stopPropagation()},[]),r=p(o=>{o.stopPropagation(),Promise.all(Array.from(o.target.files).map(a=>n[t].store(a))).then(a=>{e(a[0])}).catch(a=>console.error("failed to store selected files",a))},[n,t,e]);return s("div",{className:"mock-image-dialog-upload",children:[s("label",{htmlFor:"image-upload",children:"Select File"}),s("input",{multiple:!0,accept:"image/*",id:"image-upload",name:"image-upload",type:"file",onCancel:i,onChange:r})]})},Df=({id:e,children:t,onDelete:n})=>{const i=p(()=>n(e),[e,n]);return s("div",{className:"mock-image-modal-deleteable",children:[s(vr,{duration:1e3,iconColor:"red",image:"cancel",onComplete:i}),t]})},Js=({type:e,component:t,onChange:n,onApply:i})=>{const r=t,[o,a]=$([]),c=ee(en),l=p(d=>{n(d),c[e].list().then(f=>a(f))},[e,a,n,c]),u=p(d=>{c[e].remove(d).then(()=>c[e].list().then(f=>a(f)))},[e,a,c]);q(()=>{c[e].list().then(d=>a(d))},[e,a,c]);const h=Cf[e]||[];return s(U,{children:[s(Ef,{type:e,onUpload:l}),o.map(d=>s(Df,{id:d,onDelete:u,children:s(r,{id:d,onApply:i,onChange:n})},d)),h.map(d=>s(r,{id:d,onApply:i,onChange:n},d))]})},xf=({label:e,active:t,onChange:n})=>{const i=H("mock-image-modal-mode",{"mock-image-modal-mode-active":t}),r=p(()=>n(e),[e,n]);return s("div",{className:i,onClick:r,children:e})},Xs=({modes:e,active:t,onChange:n})=>s("div",{className:"mock-image-modal-header",children:s("div",{className:"mock-image-modal-modes",children:e.map(i=>s(xf,{active:t===i,label:i,onChange:n},i))})}),Zs=({id:e,onChange:t,onApply:n})=>{const i=p(()=>t(e),[e,t]),r=p(()=>n(e),[e,n]);return s(Qo,{onClick:i,onDoubleClick:r,children:s("span",{className:"mock-icon-dialog-image-button",children:s(Yn,{id:e,children:s(B,{color:"dark-grey"})})})})},Rf=({groups:e,onChange:t,onApply:n})=>s(U,{children:e.map((i,r)=>s("div",{children:i.map(o=>s(Zs,{id:o,onApply:n,onChange:t},o))},r))}),yr={ability:Object.values(oa),item:Object.values(Dt).map(e=>[1,2,3,4].map(t=>e[t].map(n=>n.icon))).flat(),other:Gi},$f=Object.keys(yr).concat(["custom"]),Pf=e=>Object.entries(yr).filter(([,t])=>t.some(n=>n.includes(e))).map(([t])=>t)[0]||"custom",Nf=({image:e,onChange:t,onClose:n})=>{const[i,r]=$(e),[o,a]=$(()=>Pf(e)),c=p(f=>a(f),[a]),l=p(()=>{n()},[n]),u=p(()=>{t(i)},[i,t]),h=p(f=>{t(f)},[t]);return s("div",{className:"mock-image-modal",children:[s(Xs,{active:o,modes:$f,onChange:c}),s("div",{className:"mock-image-modal-body",children:[s("div",{className:"mock-left-scroll",children:s("div",{className:"mock-icon-dialog-images",children:o==="custom"?s(Js,{component:Zs,type:"icon",onApply:h,onChange:r}):s(Rf,{groups:yr[o],onApply:h,onChange:r})},o)}),s("div",{className:"mock-image-dialog-preview",children:s("div",{className:"mock-image-dialog-preview-icon",children:s(Yn,{id:i,children:s(B,{color:"dark-grey"})},i)})})]}),s("div",{className:"mock-image-modal-footer",children:[s("div",{className:"mock-image-modal-cancel",onClick:l,children:"Cancel"}),s("div",{className:"mock-image-modal-apply",onClick:u,children:"Apply"})]})]})},Mf=({image:e})=>{if(e==="error")return s(B,{color:"orange",image:"error"});const t={backgroundImage:`url("${e}")`};return s("div",{className:"mock-hero-portrait",style:t})},br=({id:e})=>s(Yn,{id:e,children:s(Mf,{})}),Tf=({id:e,onChange:t,onApply:n})=>{const i=p(()=>t(e),[e,t]),r=p(()=>n(e),[e,n]);return s(Qo,{onClick:i,onDoubleClick:r,children:s("div",{className:"mock-portrait-button",children:s(br,{id:e})})})},Do="Custom Portrait",jf=({image:e,onChange:t,onClose:n})=>{const[i,r]=$(e),o=p(()=>{n()},[n]),a=p(()=>{t(i)},[i,t]),c=p(l=>{t(l)},[t]);return s("div",{className:"mock-image-modal",children:[s(Xs,{active:Do,modes:[Do]}),s("div",{className:"mock-image-modal-body",children:[s("div",{className:"mock-left-scroll",children:s("div",{className:"mock-portrait-dialog-images",children:s(Js,{component:Tf,type:"portrait",onApply:c,onChange:r})})}),s("div",{className:"mock-image-dialog-preview",children:s(br,{id:i})},i)]}),s("div",{className:"mock-image-modal-footer",children:[s("div",{className:"mock-image-modal-cancel",onClick:o,children:"Cancel"}),s("div",{className:"mock-image-modal-apply",onClick:a,children:"Apply"})]})]})},Bf=({image:e,onClose:t,onChange:n,type:i})=>{const r=J(),o=p(c=>{c.stopPropagation(),r.current&&!xu(r.current,c)&&t()},[r,t]);return q(()=>{const{current:c}=r;if(c)return c.showModal(),()=>c.close()},[r]),s("dialog",{ref:r,className:"mock-image-dialog",onCancel:t,onClick:o,children:i==="icon"?s(Nf,{image:e,onChange:n,onClose:t}):s(jf,{image:e,onChange:n,onClose:t})})},Qs=({children:e,image:t,onChange:n,type:i})=>{const[r,o]=$(!1),a=p(()=>o(!0),[o]),c=p(()=>o(!1),[o]),l=p(u=>{o(!1),n(u)},[o,n]);return s("div",{className:"mock-image-modal-trigger",onClick:a,children:[s("div",{className:"mock-image-modal-overlay"}),r&&s(Bf,{image:t,type:i,onChange:l,onClose:c}),s(Af,{type:i,onDrop:n,children:e})]})};class Sr{constructor(t){v(this,"id","");v(this,"image","");this.id=(t==null?void 0:t.id)||this.id,this.image=(t==null?void 0:t.image)||this.image,ue(this)}}ye(Sr,[["id"],["image"]]);class wr{constructor(t){v(this,"label","");v(this,"color","");v(this,"stats",[]);var n;this.label=(t==null?void 0:t.label)||this.label,this.color=(t==null?void 0:t.color)||this.color,this.stats=((n=t==null?void 0:t.stats)==null?void 0:n.map(i=>new Y(i)))||this.stats,ue(this)}}ye(wr,[["label"],["color"],["stats",[Y]]]);class kr{constructor(t){v(this,"id");v(this,"category","hero");v(this,"name","");v(this,"tagline","");v(this,"description","");v(this,"portrait","");v(this,"statGroups",[]);v(this,"abilities",[]);var n,i;this.id=(t==null?void 0:t.id)||crypto.randomUUID(),this.name=(t==null?void 0:t.name)||this.name,this.tagline=(t==null?void 0:t.tagline)||this.tagline,this.description=(t==null?void 0:t.description)||this.description,this.portrait=(t==null?void 0:t.portrait)||this.portrait,this.statGroups=((n=t==null?void 0:t.statGroups)==null?void 0:n.map(r=>new wr(r)))||this.statGroups,this.abilities=((i=t==null?void 0:t.abilities)==null?void 0:i.map(r=>new Sr(r)))||this.abilities,ue(this)}addStat(t){this.stats.push(new Y(t))}removeStat(t){const n=this.stats.indexOf(t);n!==-1&&this.stats.splice(n,1)}}ye(kr,[["category"],["name"],["tagline"],["description"],["portrait"],["statGroups",[wr]],["abilities",[Sr]]]);const If={active:!1,cooldown:6,details:{sections:[Ws]}};class Rn{constructor(t){v(this,"id");v(this,"active",!1);v(this,"cooldown",0);v(this,"details",null);this.id=crypto.randomUUID(),this.active=!!(t!=null&&t.active),this.cooldown=(t==null?void 0:t.cooldown)||this.cooldown,this.details=new Qt(t==null?void 0:t.details),ue(this)}}ye(Rn,{v1:[["description"],["sections",[Zt]],["active"],["cooldown"]],v2:[["details",Qt],["active"],["cooldown"]]});class Or{constructor(t){v(this,"id");v(this,"category","weapon");v(this,"name","");v(this,"tier",1);v(this,"components",[]);v(this,"stats",[]);v(this,"effects",[]);var n,i;this.id=t&&t.id||crypto.randomUUID(),this.category=(t==null?void 0:t.category)||this.category,this.name=(t==null?void 0:t.name)||this.name,this.tier=(t==null?void 0:t.tier)||this.tier,this.components=Ye((t==null?void 0:t.components)||this.components),this.stats=((n=t==null?void 0:t.stats)==null?void 0:n.map(r=>new Y(r)))||this.stats,this.effects=((i=t==null?void 0:t.effects)==null?void 0:i.map(r=>new Rn(r)))||this.effects,ue(this)}get cost(){return Nc[this.tier]+this.components.reduce((t,n)=>{var i;return t+((i=_n[n])==null?void 0:i.cost)},0)}get componentInfo(){return this.components.map(t=>_n[t])}addComponent(t){this.components.push(t||"Extra Health")}removeComponent(t){this.components.splice(t,1)}addStat(t){this.stats.push(new Y({signed:!0,...t}))}removeStat(t){const n=this.stats.indexOf(t);n!==-1&&this.stats.splice(n,1)}addEffect(t){this.effects.push(new Rn({...Ye(If),...t}))}removeEffect(t){const n=this.effects.indexOf(t);n!==-1&&this.effects.splice(n,1)}}ye(Or,[["category"],["name"],["tier"],["components"],["stats",[Y]],["effects",[Rn]]]);const Lf=e=>e.map(t=>$u(t)?{markdownData:t}:{gridData:t}),xo=e=>{const{description:t}=e,n=Lf(e.sections);e.details={description:t,sections:n},delete e.description,delete e.sections},Ro={v1:e=>(e.category==="ability"?xo(e):e.effects&&e.effects.forEach(xo),e)},ec=(e,t)=>{if(t===gt)return e;if(!Ro[t])throw new Error(`unknown version: ${t}`);return Ro[t](Ye(e))},Hf=e=>{if(e==="ability")return Ze;if(e==="hero")return kr;if(ia.includes(e))return Or;throw new Error(`unrecognized model category: ${e}`)},Vf=(e,t)=>{const n=Hf(e[0]);return ec(n.deserialize(e,t),t)},Ti="version",Ct="history",$o=[Ti,Ct],ot=Ht(null);class Ff{constructor(t){this._storage=(t==null?void 0:t.storage)||window.localStorage}_writeVersion(){this._storage.setItem(Ti,gt)}migrate(){const t=this._storage.getItem(Ti);if(t&&t!==gt)if(Ni.includes(t)){const n=this._storage.length;for(let i=0;i<n;i++){const r=this._storage.key(i);if(!$o.includes(r)){const o=JSON.parse(this._storage.getItem(r));this._storage.setItem(r,JSON.stringify(ec(o,t)))}}}else console.error("unsupported stored data version in localStorage",t);this._writeVersion()}history(){const t=this._storage.getItem(Ct),n=t&&JSON.parse(t)||[];if(n.length>0)return n;const i=this._storage.length;for(let r=0;r<i;r++){const o=this._storage.key(r);if(!$o.includes(o)){const a=this.load(o);a&&a.id&&a.category&&a.name&&n.unshift({id:a.id,category:a.category,name:a.name,timestamp:Date.now()})}}return this._storage.setItem(Ct,JSON.stringify(n)),n}save(t){const n=this.history(),i=n.findIndex(r=>r.id===t.id);i>=0&&n.splice(i,1),n.unshift({id:t.id,category:t.category,name:t.name,timestamp:Date.now()}),this._storage.setItem(Ct,JSON.stringify(n)),this._storage.setItem(t.id,JSON.stringify(t))}load(t){const n=this._storage.getItem(t);return n?JSON.parse(n):null}remove(t){const n=this.history().filter(i=>i.id!==t);this._storage.setItem(Ct,JSON.stringify(n)),this._storage.removeItem(t)}clear(){const t=[],n=this._storage.length;for(let i=0;i<n;i++){const r=this._storage.key(i);t.push(r)}t.forEach(i=>this._storage.removeItem(i)),this._writeVersion()}}const Uf={category:"weapon",name:"Heroic Aura",tier:3,components:[],stats:[{value:20,units:"%",signed:!0,stat:"Bullet Lifesteal"},{value:150,signed:!0,stat:"Bonus Health"},{value:1,units:" m/s",signed:!0,stat:"Move Speed"}],effects:[{active:!1,details:{description:"Provides **Fire Rate** to nearby player minions.",sections:[{gridData:{cells:[{icon:{image:"stat/fire_rate",color:"orange"},value:40,units:"%",stat:"Minions Fire Rate",signed:!0,conditional:!0}],values:[{value:20,units:"m",stat:"Radius"}]}}]}},{active:!0,cooldown:32,details:{description:"Provides bonus **Movement Speed** and **Fire Rate** to you and nearby allies.",sections:[{gridData:{cells:[{icon:{image:"stat/move_speed",color:"grey"},value:2,units:"m/s",stat:"Movement Speed",signed:!0,conditional:!0},{icon:{image:"stat/fire_rate",color:"orange"},value:25,units:"%",stat:"Fire Rate",signed:!0,conditional:!0}],values:[{value:30,units:"m",stat:"Active Radius"},{value:6,units:"s",stat:"Duration"}]}}]}}]},zf=["weapon","Heroic Aura",3,[],[[[],"Bullet Lifesteal",20,"%",1],[[],"Bonus Health",150,"",1],[[],"Move Speed",1," m/s",1]],[[["Provides **Fire Rate** to nearby player minions.",[[[[[["stat/fire_rate","orange"],"Minions Fire Rate",40,"%",1,0,1]],[[[],"Radius",20,"m"]]]]]]],[["Provides bonus **Movement Speed** and **Fire Rate** to you and nearby allies.",[[[[[["stat/move_speed"],"Movement Speed",2,"m/s",1,0,1],[["stat/fire_rate","orange"],"Fire Rate",25,"%",1,0,1]],[[[],"Active Radius",30,"m"],[[],"Duration",6,"s"]]]]]],1,32]]],Wf={category:"weapon",name:"Hollow Point Ward",tier:1,stats:[{value:95,stat:"Spirit Shield Health",signed:!0},{value:4,stat:"Spirit Power",signed:!0}],effects:[{active:!1,details:{description:"When you are **above 65% health**, deal additional **Weapon Damage**.",sections:[{gridData:{cells:[{icon:{image:"stat/weapon_damage",color:"orange"},value:20,units:"%",stat:"Weapon Damage",color:"orange",signed:!0,conditional:!0}]}}]}}]},Gf=["weapon","Hollow Point Ward",1,[],[[[],"Spirit Shield Health",95,"",1],[[],"Spirit Power",4,"",1]],[[["When you are **above 65% health**, deal additional **Weapon Damage**.",[[[[[["stat/weapon_damage","orange"],"Weapon Damage",20,"%",1,0,1,0,"orange"]],[]]]]]]]],qf={category:"spirit",name:"Slowing Hex",tier:2,components:["Enduring Spirit"],stats:[{value:10,units:"%",stat:"Spirit Lifesteal",signed:!0},{value:5,stat:"Spirit Power",signed:!0},{value:75,stat:"Bonus Health",signed:!0}],effects:[{active:!0,cooldown:26,details:{description:`Deals **Spirit Damage**, **Slows** targets movement and dashes.  Also **Silences their movement-based items and abilities.**
_Does not affect target's stamina usage._`,sections:[{gridData:{cells:[{icon:{image:"stat/spirit_damage",color:"purple",large:!0},value:80,stat:"Damage",color:"purple"},{icon:{image:"stat/move_slow"},value:20,units:"%",stat:"Movement Slow",conditional:!0},{icon:{image:"stat/move_slow"},value:-30,units:"%",stat:"Dash Distance",signed:!0,conditional:!0}],values:[{value:29,units:"m",stat:"Cast Range"},{value:3,units:"s",stat:"Duration"}]}}]}}]},Kf=["vitality","Return Fire",2,[],[[[],"Bonus Health",125,"",1],[[],"Spirit Power",9,"",1]],[[["Automatically **fire a bullet** towards any attacker who damages you with their abilities or weapon.",[[[[[["stat/weapon_damage","orange",1],"Bullet Damage Returned",60,"%",0,0,0,0,"orange"],[["stat/spirit_damage","purple",1],"Spirit Damage Returned",30,"%",0,0,0,0,"purple"],[["stat/bullet_shield","orange"],"Bullet Resist",25,"%",1,0,1]],[[[],"Duration",7,"s"]]]]]],1,25]]],Yf={category:"vitality",name:"Return Fire",tier:2,stats:[{value:125,stat:"Bonus Health",signed:!0},{value:9,stat:"Spirit Power",signed:!0}],effects:[{active:!0,cooldown:25,details:{description:"Automatically **fire a bullet** towards any attacker who damages you with their abilities or weapon.",sections:[{gridData:{cells:[{icon:{image:"stat/weapon_damage",color:"orange",large:!0},value:60,units:"%",stat:"Bullet Damage Returned",color:"orange"},{icon:{image:"stat/spirit_damage",color:"purple",large:!0},value:30,units:"%",stat:"Spirit Damage Returned",color:"purple"},{icon:{image:"stat/bullet_shield",color:"orange"},value:25,units:"%",stat:"Bullet Resist",signed:!0,conditional:!0}],values:[{value:7,units:"s",stat:"Duration"}]}}]}}]},Jf=["spirit","Slowing Hex",2,["Enduring Spirit"],[[[],"Spirit Lifesteal",10,"%",1],[[],"Spirit Power",5,"",1],[[],"Bonus Health",75,"",1]],[[[`Deals **Spirit Damage**, **Slows** targets movement and dashes.  Also **Silences their movement-based items and abilities.**
_Does not affect target's stamina usage._`,[[[[[["stat/spirit_damage","purple",1],"Damage",80,"",0,0,0,0,"purple"],[["stat/move_slow"],"Movement Slow",20,"%",0,0,1],[["stat/move_slow"],"Dash Distance",-30,"%",1,0,1]],[[[],"Cast Range",29,"m"],[[],"Duration",3,"s"]]]]]],1,26]]],Xf={category:"weapon",name:"Shadow Weave",tier:4,stats:[{signed:!0,value:15,stat:"Health Regen"},{signed:!0,value:300,stat:"Spirit Shield Health"},{signed:!0,value:30,units:"%",stat:"Ammo"}],effects:[{active:!0,cooldown:48,details:{description:"Become **Stealthed**. Whenever you take damage while Stealthed you get briefly revealed.",sections:[{gridData:{cells:[{icon:{image:"stat/invisible"},conditional:!0,value:25,units:"s",stat:"Invisibility"}],values:[{value:26,units:"m",stat:"Spot Radius"}]}},{markdownData:"Attacking or using an ability will end your stealth and start an **ambush**, temporarily granting your bonus **Fire Rate** and **Spirit Power**."},{gridData:{cells:[{icon:{image:"stat/weapon_damage",color:"orange"},signed:!0,conditional:!0,value:30,units:"%",stat:"Ambush Fire Rate",color:"orange"},{icon:{image:"stat/spirit_damage",color:"purple"},signed:!0,conditional:!0,value:55,units:"",stat:"Ambush Spirit Power",color:"purple"}],values:[{value:8,units:"s",stat:"Ambush Duration"}]}}]}}]},Zf=["weapon","Shadow Weave",4,[],[[[],"Health Regen",15,"",1],[[],"Spirit Shield Health",300,"",1],[[],"Ammo",30,"%",1]],[[["Become **Stealthed**. Whenever you take damage while Stealthed you get briefly revealed.",[[[[[["stat/invisible"],"Invisibility",25,"s",0,0,1]],[[[],"Spot Radius",26,"m"]]]],[0,"Attacking or using an ability will end your stealth and start an **ambush**, temporarily granting your bonus **Fire Rate** and **Spirit Power**."],[[[[["stat/weapon_damage","orange"],"Ambush Fire Rate",30,"%",1,0,1,0,"orange"],[["stat/spirit_damage","purple"],"Ambush Spirit Power",55,"",1,0,1,0,"purple"]],[[[],"Ambush Duration",8,"s"]]]]]],1,48]]],Qf={category:"ability",name:"Tornado",stats:[{icon:{image:"stat/cooldown"},value:32,units:"s",stat:"cooldown"},{icon:{image:"stat/duration"},value:.75,units:"s"}],details:{description:"Transform yourself into a tornado that travels forward, **damaging enemies** and **lifting them up in the air**.  After emerging from the tornado you gain **bullet evasion**.",sections:[{gridData:{cells:[{icon:{image:"stat/spirit_damage",color:"purple"},value:70,stat:"Damage",spiritScaling:.7},{value:1.5,units:"s",stat:"Lift Duration",icon:{image:"stat/duration"}},{value:30,units:"%",stat:"Bullet Evasion Chance"}],values:[{value:3.5,units:"s",stat:"Bullet Evasion Duration"},{value:3.5,units:"m",stat:"Radius",icon:{image:"stat/aoe"}}]}}]},upgrades:[`**+0.5s**
Lift Duration`,`**-14s**
Cooldown`,`**+20%**
Bullet Evasion Chance`]},em=["ability","Tornado",[[["stat/cooldown"],"cooldown",32,"s"],[["stat/duration"],0,.75,"s"]],["Transform yourself into a tornado that travels forward, **damaging enemies** and **lifting them up in the air**.  After emerging from the tornado you gain **bullet evasion**.",[[[[[["stat/spirit_damage","purple"],"Damage",70,"",0,.7],[["stat/duration"],"Lift Duration",1.5,"s"],[[],"Bullet Evasion Chance",30,"%"]],[[[],"Bullet Evasion Duration",3.5,"s"],[["stat/aoe"],"Radius",3.5,"m"]]]]]],[`**+0.5s**
Lift Duration`,`**-14s**
Cooldown`,`**+20%**
Bullet Evasion Chance`]],tm={category:"hero",name:"Dynamo",portrait:"dynamo.webp",tagline:"Locks down the enemy team",description:"Dynamo keeps himself and his allies healthy while waiting for his moment. Few things can warp a team fight more than a well coordinated use of Singularity.",abilities:[{id:"KineticPulse",image:"hero/dynamo/kinetic_pulse"},{id:"QuantumEntanglement",image:"hero/dynamo/quantum_entanglement"},{id:"RejuvenatingAurora",image:"hero/dynamo/rejuvenating_aurora"},{id:"Singularity",image:"hero/dynamo/singularity"}],statGroups:[{label:"Weapon",color:"orange",stats:[{icon:{image:"stat/weapon_damage",color:"orange"},value:60,units:"",stat:"DPS"},{icon:{image:"stat/bullet",color:"orange"},value:15,units:"",stat:"Bullet Damage"},{icon:{image:"stat/ammo"},value:18,units:"",stat:"Ammo"},{icon:{image:"stat/fire_rate"},value:4,units:"",stat:"Bullets per sec"},{icon:{image:"stat/melee",color:"orange"},value:63,units:"",stat:"Light Melee"},{icon:{image:"stat/melee",color:"orange"},value:116,units:"",stat:"Heavy Melee"}]},{label:"Vitality",color:"green",stats:[{icon:{image:"stat/health"},value:650,units:"",stat:"Max Health"},{icon:{image:"stat/healing"},value:2,units:"",stat:"Health Regen"},{icon:{image:"stat/bullet_armor"},value:0,units:"%",stat:"Bullet Resist"},{icon:{image:"stat/spirit_armor"},value:0,units:"%",stat:"Spirit Resist"},{icon:{image:"stat/move_speed"},value:6.5,units:" m/s",stat:"Move Speed"},{icon:{image:"stat/move_speed"},signed:!0,value:0,units:" m/s",stat:"Sprint Speed"},{icon:{image:"stat/stamina"},value:3,units:"",stat:"Stamina"}]}]},nm=["hero","Dynamo","Locks down the enemy team","Dynamo keeps himself and his allies healthy while waiting for his moment. Few things can warp a team fight more than a well coordinated use of Singularity.","dynamo.webp",[["Weapon","orange",[[["stat/weapon_damage","orange"],"DPS",60,""],[["stat/bullet","orange"],"Bullet Damage",15,""],[["stat/ammo"],"Ammo",18,""],[["stat/fire_rate"],"Bullets per sec",4,""],[["stat/melee","orange"],"Light Melee",63,""],[["stat/melee","orange"],"Heavy Melee",116,""]]],["Vitality","green",[[["stat/health"],"Max Health",650,""],[["stat/healing"],"Health Regen",2,""],[["stat/bullet_armor"],"Bullet Resist",0,"%"],[["stat/spirit_armor"],"Spirit Resist",0,"%"],[["stat/move_speed"],"Move Speed",6.5," m/s"],[["stat/move_speed"],"Sprint Speed",0," m/s",1],[["stat/stamina"],"Stamina",3,""]]]],[["KineticPulse","hero/dynamo/kinetic_pulse"],["QuantumEntanglement","hero/dynamo/quantum_entanglement"],["RejuvenatingAurora","hero/dynamo/rejuvenating_aurora"],["Singularity","hero/dynamo/singularity"]]],im={category:"ability",name:"Kinetic Pulse",stats:[{icon:{image:"stat/cooldown"},value:25,units:"s",stat:"cooldown"},{icon:{image:"stat/charge"},value:1,units:"",stat:"charges"},{icon:{image:"stat/charge_cooldown"},value:5,units:"s",stat:"chargeCooldown"}],details:{description:"Release an energy pulse that knocks enemies up into the air.",sections:[{gridData:{cells:[{icon:{image:"stat/spirit_damage",color:"purple"},value:100,stat:"Damage",spiritScaling:1.4},{icon:{image:"stat/aoe"},value:15,units:"m",stat:"Stomp Range",spiritScaling:.275}],values:[{icon:{image:"stat/aoe"},value:5,units:"m",stat:"Ability Width"}]}}]},upgrades:["Hit enemies are **fire rate and movement slowed** by **35%** for **4s**.","Dynamo deals **30% more Weapon Damage** to hit enemies for **8s**",`**+125**
Damage`]},rm=["ability","Kinetic Pulse",[[["stat/cooldown"],"cooldown",25,"s"],[["stat/charge"],"charges",1,""],[["stat/charge_cooldown"],"chargeCooldown",5,"s"]],["Release an energy pulse that knocks enemies up into the air.",[[[[[["stat/spirit_damage","purple"],"Damage",100,"",0,1.4],[["stat/aoe"],"Stomp Range",15,"m",0,.275]],[[["stat/aoe"],"Ability Width",5,"m"]]]]]],["Hit enemies are **fire rate and movement slowed** by **35%** for **4s**.","Dynamo deals **30% more Weapon Damage** to hit enemies for **8s**",`**+125**
Damage`]],om={category:"ability",name:"Quantum Entanglement",stats:[{icon:{image:"stat/cooldown"},value:11,units:"s",stat:"cooldown"},{icon:{image:"stat/range"},value:9,units:"m"}],details:{description:"Dynamo briefly **disappears into the void** and then reappears a short distance away.  On reappearing, your weapon is **reloaded** and has a **fire rate bonus** for the next clip (Max 8s).  Can be Alt-Cast to also bring nearby allies and give them half fire rate bonus.",sections:[{gridData:{cells:[{icon:{image:"stat/duration"},value:1.4,units:"s",stat:"Void Time"},{icon:{image:"stat/aoe"},value:9,units:"m",stat:"Ally Distance"},{icon:{image:"stat/fire_rate"},value:25,units:"%",stat:"Fire Rate Bonus"}]}}]},upgrades:[`**+4m**
Cast Range`,`**+25%**
Fire Rate Bonus`,"On reappearing, **+120%** base ammo"]},am=["ability","Quantum Entanglement",[[["stat/cooldown"],"cooldown",11,"s"],[["stat/range"],0,9,"m"]],["Dynamo briefly **disappears into the void** and then reappears a short distance away.  On reappearing, your weapon is **reloaded** and has a **fire rate bonus** for the next clip (Max 8s).  Can be Alt-Cast to also bring nearby allies and give them half fire rate bonus.",[[[[[["stat/duration"],"Void Time",1.4,"s"],[["stat/aoe"],"Ally Distance",9,"m"],[["stat/fire_rate"],"Fire Rate Bonus",25,"%"]],[]]]]],[`**+4m**
Cast Range`,`**+25%**
Fire Rate Bonus`,"On reappearing, **+120%** base ammo"]],sm={category:"ability",name:"Rejuvenating Aurora",stats:[{icon:{image:"stat/cooldown"},value:45,units:"s",stat:"cooldown"}],details:{description:"While channelling, **restore health over time** to you and any allies nearby.",sections:[{gridData:{cells:[{icon:{image:"stat/healing"},value:32,units:"/s",stat:"Health Restored",spiritScaling:.45},{icon:{image:"stat/charge"},value:5,units:"s",stat:"Channel Duration"}],values:[{icon:{image:"stat/aoe"},value:8,units:"m",stat:"Friendly Heal Radius"}]}}]},upgrades:["Gain **+4m/s movespeed bonus** for 8s if Aurora is fully channeled.  Gain instantly with 5AP Upgrade.",`**-15s**
Cooldown`,"**Full move and ability use** and additionally heals **+4% of Max Health** per second"]},cm=["ability","Rejuvenating Aurora",[[["stat/cooldown"],"cooldown",45,"s"]],["While channelling, **restore health over time** to you and any allies nearby.",[[[[[["stat/healing"],"Health Restored",32,"/s",0,.45],[["stat/charge"],"Channel Duration",5,"s"]],[[["stat/aoe"],"Friendly Heal Radius",8,"m"]]]]]],["Gain **+4m/s movespeed bonus** for 8s if Aurora is fully channeled.  Gain instantly with 5AP Upgrade.",`**-15s**
Cooldown`,"**Full move and ability use** and additionally heals **+4% of Max Health** per second"]],lm={category:"ability",name:"Singularity",stats:[{icon:{image:"stat/cooldown"},value:180,units:"s",stat:"cooldown"}],details:{description:"Create a singularity in your hands that **pulls in nearby enemies and damages them**. Once it's finished, enemies get knocked into the air.",sections:[{gridData:{cells:[{icon:{image:"stat/charge"},value:2.75,units:"s",stat:"Channel Duration"},{icon:{image:"stat/spirit_damage",color:"purple"},value:60,stat:"DPS",spiritScaling:.21}],values:[{icon:{image:"stat/aoe"},value:8,units:"m",stat:"Singularity Radius"}]}}]},upgrades:[`**+2m**
Singularity Radius`,`**+0.75s**
Channel Duration`,"Singularity takes **3.8%** of the enemies' max health each second."]},um=["ability","Singularity",[[["stat/cooldown"],"cooldown",180,"s"]],["Create a singularity in your hands that **pulls in nearby enemies and damages them**. Once it's finished, enemies get knocked into the air.",[[[[[["stat/charge"],"Channel Duration",2.75,"s"],[["stat/spirit_damage","purple"],"DPS",60,"",0,.21]],[[["stat/aoe"],"Singularity Radius",8,"m"]]]]]],[`**+2m**
Singularity Radius`,`**+0.75s**
Channel Duration`,"Singularity takes **3.8%** of the enemies' max health each second."]],dm={category:"ability",name:"Scaling",stats:[],details:{description:"words",sections:[{gridData:{cells:[{icon:{image:"stat/ammo"},value:0,units:"s",stat:"Stuff",spiritScaling:.5},{icon:{image:"stat/ammo"},value:1,units:"s",stat:"Stuff",meleeScaling:1.5},{icon:{image:"stat/ammo"},value:2,units:"s",stat:"Stuff",boonScaling:2.5}]}}]},upgrades:["one","two","three"]},hm=["ability","Scaling",[],["words",[[[[[["stat/ammo"],"Stuff",0,"s",0,.5],[["stat/ammo"],"Stuff",1,"s",0,0,0,0,0,1.5],[["stat/ammo"],"Stuff",2,"s",0,0,0,0,0,0,2.5]],[]]]]],["one","two","three"]],fn={HeroicAura:{hydrated:Uf,serialized:zf},HollowPointWard:{hydrated:Wf,serialized:Gf},ReturnFire:{hydrated:Yf,serialized:Kf},SlowingHex:{hydrated:qf,serialized:Jf},ShadowWeave:{hydrated:Xf,serialized:Zf},Tornado:{hydrated:Qf,serialized:em},Dynamo:{hydrated:tm,serialized:nm},KineticPulse:{hydrated:im,serialized:rm},QuantumEntanglement:{hydrated:om,serialized:am},RejuvenatingAurora:{hydrated:sm,serialized:cm},Singularity:{hydrated:lm,serialized:um},Scaling:{hydrated:dm,serialized:hm}},$n=Object.fromEntries(Object.entries(fn).map(([e,t])=>[e,t.hydrated])),tc=[{label:"Item",data:fn.HollowPointWard.hydrated},{label:"Ability",data:fn.Tornado.hydrated},{label:"Hero",data:fn.Dynamo.hydrated}],nc=({id:e,number:t})=>s("div",{className:"mock-hero-ability-icon-container",children:[s("div",{className:"mock-hero-ability-icon",children:s(Yn,{id:e,children:s(B,{color:"dark-grey"})})}),s("div",{className:"mock-hero-ability-number",children:t})]}),fm=x(({model:e,number:t})=>{const{image:n}=e,i=y(r=>e.image=r);return s("div",{className:"mock-hero-ability-button",children:s(Qs,{image:n,type:"icon",onChange:i,children:s(nc,{id:n,number:t})})})}),mm=({onChange:e})=>{const t=ee(ot),n=p(()=>{const i=new Ze($n.Tornado);t.save(i),e(i.id)},[e,t]);return s("div",{onClick:n,children:[s("span",{children:"Ability"}),s("span",{children:"New"})]})},_m=({id:e,name:t,timestamp:n,onChange:i})=>{const r=p(()=>i(e),[e,i]),o=Qa();return s("div",{onClick:r,children:[s("span",{children:t}),s("span",{children:Za(n,o)})]})},gm=({onChange:e,onClose:t})=>{const n=J();Un(n,t);const r=ee(ot).history().filter(o=>o.category==="ability");return s("div",{ref:n,className:"mock-hero-ability-picker-dropdown",children:[s(mm,{onChange:e}),r.map(({id:o,name:a,timestamp:c})=>s(_m,{id:o,name:a,timestamp:c,onChange:e},o))]})},pm=x(({foreignModel:e})=>{const[t,n]=$(!1),i=p(()=>n(!0),[n]),r=p(()=>n(!1),[n]),o=y(a=>{e.id=a,n(!1)},[e,n]);return s("div",{className:"mock-hero-ability-picker",children:[s("div",{className:"mock-hero-ability-picker-trigger",onMouseDown:i,children:s(B,{color:"white",image:"swap"})}),t&&s(gm,{onChange:o,onClose:r})]})}),vm=["mock-sidebar-buttons","mock-tooltip"],ym=e=>!vm.some(t=>e.classList&&e.classList.contains(t)),bm=()=>s("svg",{viewBox:"0 0 90 190",children:s("path",{d:"M0 188.8A45 45 0 0130 146.4l30 -10A45 45 0 0089 94A45 45 0 0060 51.6l-30 -10A45 45 0 010 0",fill:"#ffffff",paintOrder:"stroke",stroke:"black",strokeLinejoin:"round",strokeWidth:"2"})}),Sm=({id:e,number:t,offset:n,onClick:i})=>{const r=`clamp(0rem, calc(${n}px - 14.25rem), 6.25rem)`;return s("div",{className:"mock-hero-ability-gutter",onClick:i,children:s("div",{style:{top:r},children:s("div",{children:[s(bm,{}),s("div",{className:"mock-hero-ability-gutter-icon",children:s(nc,{id:e,number:t})})]})})})},Po=x(({foreignModel:e,gutterOffset:t,number:n,onChangeModel:i,onHeight:r})=>{const o=ee(ot),a=J(),[c,l]=$(null),[u,h]=$(null),[d,f]=$(null);q(()=>{const S=$n[e.id]||o.load(e.id);S?h(new Ze(S)):f(new Error(`no ability found with id: ${e.id}`))},[e.id,h,f,o]),q(()=>{setTimeout(()=>{if(u&&a.current){const S=a.current.getBoundingClientRect(),w=1200,C=Math.floor(S.height*w/S.width);Cd(a.current,{filter:ym,canvasWidth:w,canvasHeight:C,pixelRatio:1}).then(I=>l(I)).catch(I=>console.error("failed to generate ability image",I))}},100)},[a,u,l]);const m=y(()=>{if(!hn(e.id)){const S=$n[e.id];if(!S)throw new Error(`no example data for ability id: ${e.id}`);const w=new Ze(S);window.localStorage.setItem(w.id,JSON.stringify(w)),e.id=w.id}i(e.id)},[e,i]),R=()=>s(Fr,{className:"mock-hero-ability-loading",onClick:m,onHeight:r,children:s("div",{children:d?s(B,{color:"orange",image:"error"}):s(na,{})})}),j=()=>s(Fr,{className:"mock-hero-ability-display-rendered",onClick:m,onHeight:r,children:s("img",{src:c,width:"100%"})});return s("div",{className:"mock-hero-ability-display",children:[s("div",{inert:!0,className:"mock-hero-ability-display-hidden",children:s("div",{ref:a,children:u&&s(Ks,{model:u})})}),s(pm,{foreignModel:e}),s(Sm,{id:e.image,number:n,offset:t,onClick:m}),c?j():R()]})}),wm=({index:e,left:t,right:n,onChangeModel:i})=>{const[r,o]=$(null),[a,c]=$(null),l=Math.min(r,a),u=p(d=>{o(d)},[o]),h=p(d=>{c(d)},[c]);return s("div",{className:"mock-hero-ability-row",children:[s(Po,{foreignModel:t,gutterOffset:l,number:e*2+1,onChangeModel:i,onHeight:u},t.id),s(Po,{foreignModel:n,gutterOffset:l,number:e*2+2,onChangeModel:i,onHeight:h},n.id)]})},km=({model:e,onChangeModel:t})=>{const n=Nu(e.abilities,2);return s("div",{className:"mock-hero-abilities",children:n.map((i,r)=>s(wm,{index:r,left:i[0],right:i[1],onChangeModel:t},r))})},Om=x(({model:e})=>{const t=y(i=>e.portrait=i),n=e.portrait;return s("div",{className:"mock-hero-portrait-frame",children:s(Qs,{image:n,type:"portrait",onChange:t,children:s(br,{id:n})})})}),Am=x(({model:e})=>{const t=y(()=>{e.spiritScaling!==null&&e.spiritScaling!==void 0?(e.spiritScaling=null,e.boonScaling=0):e.boonScaling!==null&&e.boonScaling!==void 0?e.boonScaling=null:e.spiritScaling=0},[e]);return s("div",{className:"mock-hero-stat",children:[s("div",{className:"mock-hero-stat-position",children:[s(Us,{detailed:!0,model:e}),s("div",{className:"mock-hero-stat-scaling-button",children:s(B,{color:"white",image:"boon_scaling",onMouseDown:t})})]}),s("div",{className:"mock-hero-stat-contents",children:[s("div",{children:[s(B,{color:e.icon.color,image:e.icon.image}),s(Xt,{model:e})]}),s(_e,{children:e.stat})]})]})}),Cm=x(({model:e})=>s("div",{className:"mock-hero-stats-grid",children:[s("div",{className:"mock-hero-stats-grid-label",children:s(_e,{color:e.color,children:e.label})}),s("div",{className:"mock-hero-stats-grid-cells",children:e.stats.map(t=>s(Am,{index:t.id,model:t},t.id))})]})),Em=x(({model:e,onChangeModel:t})=>{const n=y(o=>{e.name=o.split(" ").map(a=>a.toLowerCase()).map(a=>`${a[0].toUpperCase()}${a.slice(1)}`).join(" ")},[e]),i=y(o=>e.tagline=o,[e]),r=y(o=>e.description=o,[e]);return s("div",{className:"mock-hero",children:[s("div",{className:"mock-hero-top",children:[s("div",{className:"mock-hero-synopsis",children:[s("div",{className:"mock-hero-name",children:s(re,{onChange:n,children:e.name})}),s("div",{className:"mock-hero-tagline",children:s(re,{onChange:i,children:e.tagline})}),s("div",{className:"mock-hero-ability-icons",children:e.abilities.map((o,a)=>s(fm,{model:o,number:a+1},a))}),s("div",{className:"mock-hero-description",children:s("div",{children:s(re,{onChange:r,children:e.description})})})]}),s(Om,{model:e})]}),s("div",{className:"mock-hero-stats",children:e.statGroups.map(o=>s(Cm,{model:o},o.label))}),s(km,{model:e,onChangeModel:t})]})}),Dm=({item:e,onChange:t})=>{const n=p(()=>t(e),[e,t]),i=H(`mock-item-picker-icon-${e.category}`),r=`item-${e.category}`;return s("div",{className:i,onClick:n,children:s(B,{color:r,image:e.icon})})},si=[1,2,3,4],xm=({onChange:e})=>{const t=n=>s("div",{className:"mock-item-picker-tier",children:n.map(i=>s(Dm,{item:i,onChange:e},i.name))});return s("div",{className:"mock-item-picker",children:[s("div",{className:"mock-item-picker-weapon-group",children:si.map(n=>t(Dt.weapon[n]))}),s("div",{className:"mock-item-picker-vitality-group",children:si.map(n=>t(Dt.vitality[n]))}),s("div",{className:"mock-item-picker-spirit-group",children:si.map(n=>t(Dt.spirit[n]))})]})},Rm=x(({model:e,index:t})=>{const n=y(()=>e.removeComponent(t),[t,e]),i=y(l=>e.components[t]=l.name,[t,e]),r=e.componentInfo[t],o=H("mock-item-component-badge-icon",`mock-item-component-badge-${r.category}`),a=p(()=>s(xm,{onChange:i}),[i]),c=`item-${r.category}`;return s("div",{className:"mock-item-component",children:s(Yt,{onMouseDown:n,children:s("div",{className:"mock-item-component-badge",children:[s(Wn,{click:!0,direction:"down",renderTooltip:a,children:s("div",{className:o,children:s(B,{color:c,image:r.icon})})}),s("div",{className:"mock-item-component-badge-name",children:s(Xe,{children:r.name})})]})})})}),$m=x(({model:e})=>e.components.length===0?null:s("div",{className:"mock-item-components",children:[s("div",{children:s(Xe,{children:"COMPONENTS:"})}),e.components.map((t,n)=>s(Rm,{index:n,model:e},n))]})),Pm=x(({item:e,model:t})=>{const n=y(l=>{const u=parseFloat(l);isNaN(u)?console.error("failed to parse",l):t.cooldown=u},[t]),i=y(()=>t.active=!t.active,[t]),r=y(()=>e.removeEffect(t),[e,t]),o=t.active?s(Xe,{color:"bright",children:"Active"}):s(Gn,{italic:!0,children:"Passive"}),a=H("mock-item-effect-header",{"mock-item-effect-header-active":t.active}),c=H("mock-item-effect-cooldown",{"mock-item-effect-no-cooldown":!t.cooldown});return s("div",{className:"mock-item-effect",children:[s("div",{className:a,children:[s(Yt,{onMouseDown:r,children:[s(fr,{}),s("span",{className:"mock-item-effect-type",onClick:i,children:o})]}),s("div",{className:c,children:[s(B,{color:"white",image:"stat/cooldown"}),s(re,{onChange:n,children:s(_e,{color:"bright",children:t.cooldown||0})}),s(Xe,{children:"s"})]})]}),s(zs,{model:t.details})]})}),ic={spirit:{tier:[0,4,8,12,16],stat:"Spirit Power",image:"spirit",color:"purple"},weapon:{units:"%",tier:[0,6,10,14,18],stat:"Weapon Damage",image:"weapon",color:"orange"},vitality:{units:"%",tier:[0,11,14,17,20],stat:"Base Health",image:"vitality",color:"green"}},ci=Object.keys(ic),Nm={},Mm=new Intl.NumberFormat("en-US",Nm),Tm=x(({model:e})=>{const t=y(u=>e.name=u,[e]),n=y(()=>e.tier=e.tier%4+1,[e]),i=y(()=>{const u=ci.indexOf(e.category)+1;e.category=ci[u%ci.length]},[e]),r=y(()=>e.addComponent(),[e]),o=y(()=>e.addEffect(),[e]),a=y(()=>e.addStat({signed:!0}),[e]),c=p(()=>s(U,{children:[s(Ae,{label:"Component",onClick:r}),s(Ae,{label:"Effect",onClick:o}),s(Ae,{label:"Stat",onClick:a})]}),[r,o,a]),l=ic[e.category];if(!l)throw new Error(`invalid category: ${e.category}`);return s(qn,{renderButtons:c,children:s("div",{className:"mock-item-header",children:[s("div",{children:[s("div",{className:"item-name",children:s(re,{onChange:t,children:s(_e,{color:"bright",children:e.name})})}),s("div",{className:"item-cost",children:[s(B,{color:"cyan",image:"soul"}),s("span",{children:Mm.format(e.cost)})]})]}),s("div",{className:"item-bonus",children:[s("div",{className:"item-bonus-value",onClick:n,children:[s(Fs,{signed:!0,units:l.units,value:l.tier[e.tier]}),s(B,{color:l.color,image:l.image})]}),s("div",{className:"item-bonus-stat",onClick:i,children:l.stat})]})]})})}),jm=x(({itemModel:e,statModel:t})=>{const n=y(r=>t.stat=r,[t]),i=y(()=>e.removeStat(t),[e,t]);return s("div",{className:"mock-item-stat",children:s(Yt,{onMouseDown:i,children:[s(fr,{}),s(Xt,{model:t}),s(re,{onChange:n,children:t.stat})]})})}),Bm=x(({model:e})=>{const t=y(n=>n(e.stats),[e]);return e.stats.length===0?null:s("div",{className:"mock-item-stats",children:s(_r,{onMove:t,children:e.stats.map(n=>s(jm,{itemModel:e,statModel:n},n.id))})})}),Im=x(({model:e})=>{const t=H("mock-item",`mock-item-${e.category}`),n=y(i=>i(e.effects),[e]);return s("div",{className:t,children:[s(Be,{className:"mock-item-header-animated",children:s(Tm,{model:e})}),s(Be,{className:"mock-item-components-animated",children:s($m,{model:e})}),s(Be,{className:"mock-item-stats-animated",children:s(Bm,{model:e})}),s(_r,{animated:!0,onMove:n,children:e.effects.map(i=>s(Pm,{item:e,model:i},i.id))})]})}),Ar=e=>e.cells.concat(e.values||[]),Cr=e=>e[0].toUpperCase()+e.slice(1),No={"stat/cooldown":"Cooldown","stat/charge":"Charges","stat/charge_cooldown":"Charge Cooldown","stat/duration":"Duration","stat/range":"Range","stat/aoe":"Area of Effect"},Er=e=>{if(!No[e.icon.image])return null;const t=Ye(e);return t.stat=No[e.icon.image],t.stat==="Charges"&&t.value===1&&(t.stat="Charge"),t},Lm={weapon:e=>[e.slice(0,4),e.slice(4)],vitality:e=>[e.slice(0,2),e.slice(2,4),e.slice(4)]},Dr=e=>e.map(t=>Lm[t.label.toLowerCase()](t.stats)),Ve=(e,t)=>e?`[COLOR=${t}]${e}[/COLOR]`:"",G=e=>e?`[B]${e}[/B]`:"",li=e=>e?`[I]${e}[/I]`:"",ui=e=>e?`[INDENT]${e}[/INDENT]`:"",di=(e,t)=>t?`[SIZE=${e}]${t}[/SIZE]`:"",rc=({orange:e,purple:t,green:n,blue:i,cyan:r,grey:o,red:a,sanitize:c})=>{const l={ability:i,weapon:e,vitality:n,spirit:t},u=(_,P)=>l[P]?l[P](_):_,h=(_,P)=>{if(_.type==="document"||_.type==="paragraph")return _.data.map(E=>h(E)).join("");if(_.type==="linebreak")return`
`;if(_.type==="text")return c(_.data);if(_.type==="em")return li(_.data.map(E=>h(E)));if(_.type==="strong")return G(_.data.map(E=>h(E)));console.error("invalid node type")},d=_=>h(Is(_)),f=_=>{const P=_.signed&&_.value>=0?"+":"",E=_.spiritScaling?` (${t(`+${G(_.spiritScaling)} x ${G("Spirit")}`)})`:_.meleeScaling?` (${e(`+${G(_.meleeScaling)} x ${G("Melee")}`)})`:_.boonScaling?` (${r(`+${G(_.boonScaling)} x ${G("Boon")}`)})`:"",Z=_.conditional?o(li(" (Conditional)")):"",kt=`${o(P)}${_.value}${o(c(_.units))}`;return`${G(kt)} ${c(_.stat)}${E}${Z}`},m=_=>_.length===0?"":`
[LIST]
${_.map(P=>`[*] ${f(P)}`).join(`
`)}
[/LIST]
`.trim(),R=_=>{const P=_.sections.map(E=>E.markdownData?`
${d(E.markdownData)}`:`
${m(Ar(E.gridData))}`).join("");return`${d(_.description)}${P}`},j=_=>{const P=_.cooldown!==0?` (${G(_.cooldown)}${G(o("s"))} Cooldown)`:"",E=ui(R(_.details));return`
${G(_.active?"Active":"Passive")}${P}:
${E}
`.trim()},S=_=>{const P=_.map(E=>_n[E]?`${u(E,_n[E].category)}`:E).map(G).join(", ");return P?`${G("Components")}: ${P}
`:""},w=_=>{const P=m(_.stats),E=S(_.components),Z=_.effects.map(kt=>`
${ui(j(kt))}`).join("");return`
${di(5,G(u(c(_.name),_.category)))}
${G(`${u(Cr(_.category),_.category)} Tier ${_.tier}`)}
${E}${G(r(`${_.cost} Souls`))}
${P}${Z}
`.trim()},C=_=>{const P=_.map(Er).filter(E=>E).map(f).join(" | ");return P?`${P}
`:""},I=_=>_.replaceAll(/[\r\n\t]+/g," "),V=_=>_.map((P,E)=>`${G(`Tier ${E+1}`)}: ${d(I(P))}`).join(`
`),N=_=>{const P=C(_.stats),E=R(_.details),Z=V(_.upgrades);return`
${di(5,G(i(c(_.name))))}
${P}${E}
${Z}
`.trim()},z=_=>{const P=_.split(`
`);return`${P[0]}
${ui(P.slice(1).join(`
`))}`};return{formatItem:w,formatAbility:N,formatHero:_=>{const P=Dr(_.statGroups).map(Z=>Z.map(kt=>kt.map(f).join(" | ")).join(`
`)).join(`
[HR][/HR]
`),E=_.abilities.map(Z=>z(N(Z))).join(`

`);return`
${di(6,G(a(c(_.name))))}
${li(c(_.tagline))}

${c(_.description)}

[HR][/HR]
${P}
[HR][/HR]

${E}
`.trim()}}},Hm=new Proxy({},{get:()=>e=>e}),Vm={sanitize:e=>e?`[PLAIN]${e}[/PLAIN]`:"",orange:e=>Ve(e,"#ec981a"),purple:e=>Ve(e,"#ce91ff"),green:e=>Ve(e,"#7cbb1e"),blue:e=>Ve(e,"#3399f3"),cyan:e=>Ve(e,"#9affd6"),grey:e=>Ve(e,"#aaaaaa"),red:e=>Ve(e,"#dd3939")},Fm=rc(Vm),Um=rc(Hm),zm=e=>e.split(`
`).map(t=>`> ${t}`).join(`
`),xr=e=>{const t=e.signed&&e.value>=0?"+":"",n=e.spiritScaling?` (+${e.spiritScaling} x Spirit)`:e.meleeScaling?` (+${e.meleeScaling} x Melee)`:e.boonScaling?` (+${e.boonScaling} x Boon)`:"",i=e.conditional?" _(Conditional)_":"";return`${t}${e.value}${e.units} ${e.stat}${n}${i}`},oc=e=>e.length===0?"":e.map(t=>`- ${xr(t)}`).join(`
`),Mo=e=>e.replaceAll(/[\n]/g,`  
`),ac=e=>{const t=e.sections.map(n=>n.markdownData?`

${Mo(n.markdownData)}`:`

${oc(Ar(n.gridData))}`).join("");return`${Mo(e.description)}${t}`},Wm=e=>{const t=e.cooldown!==0?` (${e.cooldown}s Cooldown)`:"",n=ac(e.details);return zm(`
${e.active?"**Active**":"**Passive**"}${t}:  

${n}
`.trim())},Gm=e=>{const t=e.join(", ");return t?`Components: ${t}  
`:""},qm=e=>{const t=oc(e.stats),n=Gm(e.components),i=e.effects.map(r=>`

${Wm(r)}`).join("");return`
##### ${e.name}
${Cr(e.category)} Tier ${e.tier}  
${n}${e.cost} Souls

${t}${i}
`.trim()},Km=e=>{const t=e.map(Er).filter(n=>n).map(xr).join(" | ");return t?`${t}  
`:""},Ym=e=>e.replaceAll(/[\r\n\t]+/g," "),Jm=e=>e.map((t,n)=>`Tier ${n+1}: ${Ym(t)}`).join(`  
`),sc=e=>{const t=Km(e.stats),n=ac(e.details),i=Jm(e.upgrades);return`
##### ${e.name}
${t}
${n}

${i}
`.trim()},Xm=e=>{const t=Dr(e.statGroups).map(i=>i.map(r=>r.map(xr).join(" | ")).join(`  
`)).join(`

---

`),n=e.abilities.map(sc).join(`

---

`);return`
### ${e.name}
_${e.tagline}_

${e.description}

---

${t}

---

${n}
`.trim()},Zm={formatItem:qm,formatAbility:sc,formatHero:Xm},Qm=e=>e.split(`
`).map(t=>`  ${t}`.trimEnd()).join(`
`),ji=e=>e.replaceAll(/[*_]/g,""),Rr=e=>{const t=e.signed&&e.value>=0?"+":"",n=e.spiritScaling?` (+${e.spiritScaling} x Spirit)`:e.meleeScaling?` (+${e.meleeScaling} x Melee)`:e.boonScaling?` (+${e.boonScaling} x Boon)`:"",i=e.conditional?" (Conditional)":"";return`${t}${e.value}${e.units} ${e.stat}${n}${i}`},cc=e=>e.length===0?"":e.map(t=>`* ${Rr(t)}`).join(`
`),lc=e=>{const t=e.sections.map(n=>n.markdownData?`

${ji(n.markdownData)}`:`

${cc(Ar(n.gridData))}`).join("");return`${ji(e.description)}${t}`},e_=e=>{const t=e.cooldown!==0?` (${e.cooldown}s Cooldown)`:"",n=lc(e.details);return`
${e.active?"Active":"Passive"}${t}:
${n}
`.trim()},t_=e=>{const t=e.join(", ");return t?`Components: ${t}
`:""},n_=e=>{const t=cc(e.stats),n=t_(e.components),i=e.effects.map(r=>`

${e_(r)}`).join("");return`
${e.name}
${Cr(e.category)} Tier ${e.tier}
${n}${e.cost} Souls

${t}${i}
`.trim()},i_=e=>{const t=e.map(Er).filter(n=>n).map(Rr).join(" | ");return t?`${t}
`:""},r_=e=>e.replaceAll(/[\r\n\t]+/g," "),o_=e=>e.map((t,n)=>`Tier ${n+1}: ${r_(ji(t))}`).join(`
`),uc=e=>{const t=i_(e.stats),n=lc(e.details),i=o_(e.upgrades);return`
${e.name}
${t}
${n}

${i}
`.trim()},a_=e=>{const t=Dr(e.statGroups).map(r=>r.map(o=>o.map(Rr).join(" | ")).join(`
`)).join(`

`),n=["Ability (1)","Ability (2)","Ability (3)","Ultimate"],i=e.abilities.map((r,o)=>`${n[o]}: ${Qm(uc(r)).trim()}`).join(`

`);return`
${e.name}
${e.tagline}

${e.description}

${t}

${i}
`.trim()},s_={formatItem:n_,formatAbility:uc,formatHero:a_},dc=[["BBcode (simple)",Um],["BBcode (color)",Fm],["Markdown",Zm],["Plaintext",s_]],c_=dc[0][0],Bi=Object.fromEntries(dc),l_=(e,t)=>{const n=Ye(e);return n.abilities=n.abilities.map(i=>Ye(new Ze($n[i.id]||t.load(i.id)))),n},u_=(e,t,n)=>e.category==="ability"?t.formatAbility(e):e.category==="hero"?t.formatHero(l_(e,n)):t.formatItem(e),d_=(e,t,n)=>{if(!Bi[t])throw new Error(`unknown export format: ${t}`);const i=new Blob([u_(e,Bi[t],n)],{type:"text/plain"});navigator.clipboard.write([new ClipboardItem({"text/plain":i})])},h_=({format:e,selected:t,onChange:n})=>{const i=H("mock-editor-copy-text-entry",{"mock-editor-copy-text-entry-selected":t}),r=p(()=>n(e),[e,n]);return s("div",{className:i,onClick:r,children:e})},f_=({format:e,onChange:t,onClose:n})=>{const i=J(null);Un(i,n);const r=Object.keys(Bi);return s("div",{ref:i,className:"mock-editor-copy-text-dropdown",children:r.map(o=>s(h_,{format:o,selected:o===e,onChange:t},o))})},m_=({model:e})=>{const t=ee(ot),[n,i]=$(c_),[r,o]=$(!1),a=p(()=>o(!0),[o]),c=p(()=>o(!1),[o]),l=p(()=>d_(e,n,t),[e,n,t]),u=p(h=>{i(h),o(!1)},[i,o]);return s("div",{children:[r&&s(f_,{format:n,onChange:u,onClose:c}),s("div",{className:"mock-editor-copy-text-button",children:[s("div",{onClick:l,children:s("span",{children:"Copy Text"})}),s(B,{color:"white",image:"dropdown",onMouseDown:r?null:a})]})]})},__=({category:e,name:t,onMouseDown:n})=>{const i=H("mock-editor-history-current",`mock-editor-history-${e}`);return s("div",{className:i,onMouseDown:n,children:[s("span",{children:t||"-"}),s("span",{}),s("span",{})]})},g_=({state:e,data:t,onClose:n})=>{const i=ee(ot),r=Qa(),o=p(()=>{e.loadRecord(t.id),n()},[e,t,n]),a=p(()=>{i.remove(t.id),n()},[t,i,n]),c=H("mock-editor-history-entry",`mock-editor-history-${t.category}`),l=Za(t.timestamp,r)||0;return s("div",{className:c,onClick:o,children:[s("span",{children:s("span",{children:t.name||"-"})}),s("span",{children:l}),s("span",{children:s(vr,{duration:1e3,iconColor:"white",image:"trash",onComplete:a})})]})},p_=({state:e,onClose:t})=>{const n=e.activeModel,i=H("mock-editor-history-template"),r=y(()=>{n.id=crypto.randomUUID(),t()},[n,t]);return s("div",{className:i,onClick:r,children:[s("span",{children:s("span",{children:"Copy Current"})}),s("span",{children:"New"}),s("span",{})]})},v_=({data:e,label:t,state:n,onClose:i})=>{const r=H("mock-editor-history-template",`mock-editor-history-${e.category}`),o=p(()=>{n.loadRaw(e),i()},[i,n,e]);return s("div",{className:r,onClick:o,children:[s("span",{children:s("span",{children:t})}),s("span",{children:"New"}),s("span",{})]})},y_=({state:e,onClose:t})=>{const n=p(()=>{e.clearAll(),t()},[e,t]);return s("div",{className:"mock-editor-history-clear",children:s(vr,{duration:1e3,iconColor:"white",image:"trash",onComplete:n,children:s("span",{children:"Clear Data"})})})},b_=({state:e,onClose:t})=>{const n=ee(ot),i=J(null),[r,o]=$([]);return q(()=>{const a=n.history();a.splice(0,1),o(a)},[o,n]),Un(i,t),s("div",{ref:i,className:"mock-editor-history-dropdown",children:s("div",{children:[r.map((a,c)=>s(g_,{data:a,state:e,onClose:t},c)),s(p_,{state:e,onClose:t}),tc.map(a=>s(v_,{data:a.data,label:a.label,state:e,onClose:t},a.label)),s(y_,{state:e,onClose:t})]})})},S_=x(({state:e})=>{const[t,n]=$(!1),{category:i,name:r}=e.activeModel||{},o=p(()=>n(c=>!c),[n]),a=p(()=>n(!1),[n]);return s("div",{className:"mock-editor-history",children:[s(B,{color:"white",image:"dropdown",onMouseDown:o}),s("div",{className:"mock-editor-history-position",children:t&&s(b_,{state:e,onClose:a})}),s(__,{category:i,name:r,onMouseDown:o})]})}),w_=["mock-sidebar-buttons","mock-tooltip","mock-hero-ability-display-hidden"],k_=e=>!w_.some(t=>e.classList&&e.classList.contains(t)),O_=e=>`${e.replace(/[^A-z0-9]+/,"-")}-${Math.floor(Date.now()/1e3)}`,A_=e=>{const t=s("div",{className:"mock-editor-button",onClick:e,children:"Copy"});return Ru?s(Wn,{warning:!0,direction:"down",renderTooltip:()=>s("div",{className:"mock-editor-warning",children:["Copying image data to the clipboard is buggy on Firefox and may slightly alter colors.",s("b",{children:" Take a screenshot "}),"or",s("b",{children:" save as an image "}),"to avoid this problem."]}),children:t}):t},C_={ability:1204,weapon:924,vitality:924,spirit:924,hero:2004},To=(e,t)=>{const n=e.getBoundingClientRect(),i=C_[t.category]||924,r=Math.ceil(n.height*i/n.width);e.classList.add("mock-to-image");const o=Ed(e,{filter:k_,canvasWidth:i,canvasHeight:r,pixelRatio:1}).finally(()=>e.classList.remove("mock-to-image"));return o.catch(a=>console.error("failed to generate image",a)),o},hc=x(({state:e})=>{const t=J(null),{category:n,name:i}=e.activeModel||{},r=p(()=>{const h=To(t.current,e.activeModel);navigator.clipboard.write([new ClipboardItem({"image/png":h})])},[t,e]),o=p(()=>To(t.current,e.activeModel).then(h=>Mu.saveAs(h,`${O_(e.activeModel.name)}.png`)),[t,e]),a=p(()=>{const h=[gt,e.activeModel.serialize()],d=window.btoa(JSON.stringify(h)),f=new URL(window.location);f.hash=d;const m=new Blob([f.toString()],{type:"text/plain"});navigator.clipboard.write([new ClipboardItem({"text/plain":m})])},[e]),c=y(h=>{e.loadRecord(h)},[e]);q(()=>{i&&(document.title=`${i} - Deadmock`)},[i]);const l=()=>n==="ability"?s(Ks,{model:e.activeModel}):n==="hero"?s(Em,{model:e.activeModel,onChangeModel:c}):ia.includes(n)?s(Im,{model:e.activeModel}):null,u=s("div",{className:"mock-editor-button",onClick:a,children:"Copy Link"});return s("div",{className:"mock-editor",children:[s("div",{className:"mock-editor-buttons",children:[A_(r),s("div",{className:"mock-editor-button",onClick:o,children:"Save"}),n==="hero"?null:u,s(m_,{model:e.activeModel}),s(S_,{state:e})]}),s("div",{ref:t,className:"mock-editor-content",children:l()})]})});hc.propTypes={};class E_{constructor(t,n){v(this,"activeModel",null);v(this,"_modelStorage",null);this._modelStorage=t,this._modelStorage.migrate(),this._initializeModel(n),ue(this),Ia(()=>this._flush(),{delay:100}),window.addEventListener("popstate",()=>{var o;const i=(o=history.state)==null?void 0:o.id,r=i&&this._modelStorage.load(i);this._initializeModel(r)})}_initializeModel(t){var n,i,r;if(t)this.loadRaw(t,{noHistory:!0});else{const o=this._modelStorage.history();for(let a=0;a<o.length;a++){const c=(i=(n=this._modelStorage.history())==null?void 0:n[a])==null?void 0:i.id;if(c&&(this.loadRecord(c,{noHistory:!0}),this.activeModel))break}this.activeModel||this.loadRaw(tc[0].data,{noHistory:!0})}history.replaceState({id:this.activeModel.id,depth:((r=history.state)==null?void 0:r.depth)||0},"")}loadRaw(t,n){if(t.category==="ability"?this._setActive(new Ze(t)):t.category==="hero"?this._setActive(new kr(t)):this._setActive(new Or(t)),!(n!=null&&n.noHistory)){const i=history.state.depth+1,{id:r,name:o}=this.activeModel;history.pushState({id:r,depth:i},`Deadmock - ${o}`),window.scrollTo({top:0})}}loadRecord(t,n){const i=this._modelStorage.load(t);i?this.loadRaw(i,n):console.error("failed to load record from localStorage",t)}clearAll(){var n;this._modelStorage.clear(),this.activeModel=null,(((n=history.state)==null?void 0:n.depth)||0)===0?this._initializeModel(null):history.go(-history.state.depth)}_setActive(t){this._flush(),Jl(()=>{this.activeModel=t})}_flush(){this.activeModel&&this._modelStorage.save(this.activeModel)}}const jo=[...gh],D_=10,fc=()=>{if(jo.length>0){const e=jo.pop(),t=new Image;t.addEventListener("load",()=>fc()),t.src=`/deadmock/icon/${e}`}};for(let e=0;e<D_;e++)fc();const x_=new Yo({baseUrl:"/deadmock/"}),mc=()=>{if(window.location.hash!==""&&window.location.hash!=="#")try{const[e,t]=JSON.parse(window.atob(window.location.hash.replace("#",""))),n=Vf(t,e);return window.location.hash="",n}catch(e){console.error("failed to load model from fragment:",e)}return null},R_=new Of,_c=new Ff,gc=new E_(_c,mc()),$_=()=>{const e=mc();e&&gc.loadRaw(e)};window.addEventListener("hashchange",$_);const P_=window.innerWidth-document.body.clientWidth;document.body.style.setProperty("--scrollbar-width",`${P_}px`);dt(s(Jo.Provider,{value:x_,children:s(en.Provider,{value:R_,children:s(ot.Provider,{value:_c,children:s(hc,{state:gc})})})}),document.getElementById("app"));
