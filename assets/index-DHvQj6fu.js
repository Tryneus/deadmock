var yc=Object.defineProperty;var bc=(e,t,n)=>t in e?yc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var v=(e,t,n)=>bc(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ht,O,Lo,Ue,Pi,Ho,dr,Ir,_r,fr,Vo,Mt={},Fo=[],wc=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Nn=Array.isArray;function De(e,t){for(var n in t)e[n]=t[n];return e}function Uo(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Ce(e,t,n){var r,i,o,a={};for(o in t)o=="key"?r=t[o]:o=="ref"?i=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?Ht.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)a[o]===void 0&&(a[o]=e.defaultProps[o]);return xt(e,a,r,i,null)}function xt(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++Lo,__i:-1,__u:0};return i==null&&O.vnode!=null&&O.vnode(o),o}function zo(){return{current:null}}function U(e){return e.children}function de(e,t){this.props=e,this.context=t}function ht(e,t){if(t==null)return e.__?ht(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?ht(e):null}function Wo(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Wo(e)}}function gr(e){(!e.__d&&(e.__d=!0)&&Ue.push(e)&&!gn.__r++||Pi!==O.debounceRendering)&&((Pi=O.debounceRendering)||Ho)(gn)}function gn(){var e,t,n,r,i,o,a,c;for(Ue.sort(dr);e=Ue.shift();)e.__d&&(t=Ue.length,r=void 0,o=(i=(n=e).__v).__e,a=[],c=[],n.__P&&((r=De({},i)).__v=i.__v+1,O.vnode&&O.vnode(r),Lr(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[o]:null,a,o??ht(i),!!(32&i.__u),c),r.__v=i.__v,r.__.__k[r.__i]=r,Ko(a,r,c),r.__e!=o&&Wo(r)),Ue.length>t&&Ue.sort(dr));gn.__r=0}function Go(e,t,n,r,i,o,a,c,l,u,h){var d,_,f,R,j,w=r&&r.__k||Fo,S=t.length;for(n.__d=l,Sc(n,t,w),l=n.__d,d=0;d<S;d++)(f=n.__k[d])!=null&&(_=f.__i===-1?Mt:w[f.__i]||Mt,f.__i=d,Lr(e,f,_,i,o,a,c,l,u,h),R=f.__e,f.ref&&_.ref!=f.ref&&(_.ref&&Hr(_.ref,null,f),h.push(f.ref,f.__c||R,f)),j==null&&R!=null&&(j=R),65536&f.__u||_.__k===f.__k?l=qo(f,l,e):typeof f.type=="function"&&f.__d!==void 0?l=f.__d:R&&(l=R.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=l,n.__e=j}function Sc(e,t,n){var r,i,o,a,c,l=t.length,u=n.length,h=u,d=0;for(e.__k=[],r=0;r<l;r++)(i=t[r])!=null&&typeof i!="boolean"&&typeof i!="function"?(a=r+d,(i=e.__k[r]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?xt(null,i,null,null,null):Nn(i)?xt(U,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?xt(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=e,i.__b=e.__b+1,o=null,(c=i.__i=kc(i,n,a,h))!==-1&&(h--,(o=n[c])&&(o.__u|=131072)),o==null||o.__v===null?(c==-1&&d--,typeof i.type!="function"&&(i.__u|=65536)):c!==a&&(c==a-1?d--:c==a+1?d++:(c>a?d--:d++,i.__u|=65536))):i=e.__k[r]=null;if(h)for(r=0;r<u;r++)(o=n[r])!=null&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=ht(o)),Yo(o,o))}function qo(e,t,n){var r,i;if(typeof e.type=="function"){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=qo(r[i],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=ht(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function _e(e,t){return t=t||[],e==null||typeof e=="boolean"||(Nn(e)?e.some(function(n){_e(n,t)}):t.push(e)),t}function kc(e,t,n,r){var i=e.key,o=e.type,a=n-1,c=n+1,l=t[n];if(l===null||l&&i==l.key&&o===l.type&&!(131072&l.__u))return n;if(r>(l!=null&&!(131072&l.__u)?1:0))for(;a>=0||c<t.length;){if(a>=0){if((l=t[a])&&!(131072&l.__u)&&i==l.key&&o===l.type)return a;a--}if(c<t.length){if((l=t[c])&&!(131072&l.__u)&&i==l.key&&o===l.type)return c;c++}}return-1}function Ni(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||wc.test(t)?n:n+"px"}function nn(e,t,n,r,i){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Ni(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Ni(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Ir,e.addEventListener(t,o?fr:_r,o)):e.removeEventListener(t,o?fr:_r,o);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function Mi(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=Ir++;else if(t.t<n.u)return;return n(O.event?O.event(t):t)}}}function Lr(e,t,n,r,i,o,a,c,l,u){var h,d,_,f,R,j,w,S,E,I,V,N,z,X,g,P,x=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),o=[c=t.__e=n.__e]),(h=O.__b)&&h(t);e:if(typeof x=="function")try{if(S=t.props,E="prototype"in x&&x.prototype.render,I=(h=x.contextType)&&r[h.__c],V=h?I?I.props.value:h.__:r,n.__c?w=(d=t.__c=n.__c).__=d.__E:(E?t.__c=d=new x(S,V):(t.__c=d=new de(S,V),d.constructor=x,d.render=Ac),I&&I.sub(d),d.props=S,d.state||(d.state={}),d.context=V,d.__n=r,_=d.__d=!0,d.__h=[],d._sb=[]),E&&d.__s==null&&(d.__s=d.state),E&&x.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=De({},d.__s)),De(d.__s,x.getDerivedStateFromProps(S,d.__s))),f=d.props,R=d.state,d.__v=t,_)E&&x.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),E&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(E&&x.getDerivedStateFromProps==null&&S!==f&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(S,V),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(S,d.__s,V)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(d.props=S,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(Q){Q&&(Q.__=t)}),N=0;N<d._sb.length;N++)d.__h.push(d._sb[N]);d._sb=[],d.__h.length&&a.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(S,d.__s,V),E&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(f,R,j)})}if(d.context=V,d.props=S,d.__P=e,d.__e=!1,z=O.__r,X=0,E){for(d.state=d.__s,d.__d=!1,z&&z(t),h=d.render(d.props,d.state,d.context),g=0;g<d._sb.length;g++)d.__h.push(d._sb[g]);d._sb=[]}else do d.__d=!1,z&&z(t),h=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++X<25);d.state=d.__s,d.getChildContext!=null&&(r=De(De({},r),d.getChildContext())),E&&!_&&d.getSnapshotBeforeUpdate!=null&&(j=d.getSnapshotBeforeUpdate(f,R)),Go(e,Nn(P=h!=null&&h.type===U&&h.key==null?h.props.children:h)?P:[P],t,n,r,i,o,a,c,l,u),d.base=t.__e,t.__u&=-161,d.__h.length&&a.push(d),w&&(d.__E=d.__=null)}catch(Q){if(t.__v=null,l||o!=null){for(t.__u|=l?160:128;c&&c.nodeType===8&&c.nextSibling;)c=c.nextSibling;o[o.indexOf(c)]=null,t.__e=c}else t.__e=n.__e,t.__k=n.__k;O.__e(Q,t,n)}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Oc(n.__e,t,n,r,i,o,a,l,u);(h=O.diffed)&&h(t)}function Ko(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)Hr(n[r],n[++r],n[++r]);O.__c&&O.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(o){o.call(i)})}catch(o){O.__e(o,i.__v)}})}function Oc(e,t,n,r,i,o,a,c,l){var u,h,d,_,f,R,j,w=n.props,S=t.props,E=t.type;if(E==="svg"?i="http://www.w3.org/2000/svg":E==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),o!=null){for(u=0;u<o.length;u++)if((f=o[u])&&"setAttribute"in f==!!E&&(E?f.localName===E:f.nodeType===3)){e=f,o[u]=null;break}}if(e==null){if(E===null)return document.createTextNode(S);e=document.createElementNS(i,E,S.is&&S),c&&(O.__m&&O.__m(t,o),c=!1),o=null}if(E===null)w===S||c&&e.data===S||(e.data=S);else{if(o=o&&Ht.call(e.childNodes),w=n.props||Mt,!c&&o!=null)for(w={},u=0;u<e.attributes.length;u++)w[(f=e.attributes[u]).name]=f.value;for(u in w)if(f=w[u],u!="children"){if(u=="dangerouslySetInnerHTML")d=f;else if(!(u in S)){if(u=="value"&&"defaultValue"in S||u=="checked"&&"defaultChecked"in S)continue;nn(e,u,null,f,i)}}for(u in S)f=S[u],u=="children"?_=f:u=="dangerouslySetInnerHTML"?h=f:u=="value"?R=f:u=="checked"?j=f:c&&typeof f!="function"||w[u]===f||nn(e,u,f,w[u],i);if(h)c||d&&(h.__html===d.__html||h.__html===e.innerHTML)||(e.innerHTML=h.__html),t.__k=[];else if(d&&(e.innerHTML=""),Go(e,Nn(_)?_:[_],t,n,r,E==="foreignObject"?"http://www.w3.org/1999/xhtml":i,o,a,o?o[0]:n.__k&&ht(n,0),c,l),o!=null)for(u=o.length;u--;)Uo(o[u]);c||(u="value",E==="progress"&&R==null?e.removeAttribute("value"):R!==void 0&&(R!==e[u]||E==="progress"&&!R||E==="option"&&R!==w[u])&&nn(e,u,R,w[u],i),u="checked",j!==void 0&&j!==e[u]&&nn(e,u,j,w[u],i))}return e}function Hr(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(i){O.__e(i,n)}}function Yo(e,t,n){var r,i;if(O.unmount&&O.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Hr(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){O.__e(o,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&Yo(r[i],t,n||typeof e.type!="function");n||Uo(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function Ac(e,t,n){return this.constructor(e,n)}function dt(e,t,n){var r,i,o,a;O.__&&O.__(e,t),i=(r=typeof n=="function")?null:n&&n.__k||t.__k,o=[],a=[],Lr(t,e=(!r&&n||t).__k=Ce(U,null,[e]),i||Mt,Mt,t.namespaceURI,!r&&n?[n]:i?null:t.firstChild?Ht.call(t.childNodes):null,o,!r&&n?n:i?i.__e:t.firstChild,r,a),Ko(o,e,a)}function Jo(e,t){dt(e,t,Jo)}function Vr(e,t,n){var r,i,o,a,c=De({},e.props);for(o in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)o=="key"?r=t[o]:o=="ref"?i=t[o]:c[o]=t[o]===void 0&&a!==void 0?a[o]:t[o];return arguments.length>2&&(c.children=arguments.length>3?Ht.call(arguments,2):n),xt(e.type,c,r||e.key,i||e.ref,null)}function Vt(e,t){var n={__c:t="__cC"+Vo++,__:e,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,o;return this.getChildContext||(i=new Set,(o={})[t]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){i=null},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.forEach(function(c){c.__e=!0,gr(c)})},this.sub=function(a){i.add(a);var c=a.componentWillUnmount;a.componentWillUnmount=function(){i&&i.delete(a),c&&c.call(a)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}Ht=Fo.slice,O={__e:function(e,t,n,r){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),a=i.__d),a)return i.__E=i}catch(c){e=c}throw e}},Lo=0,de.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=De({},this.state),typeof e=="function"&&(e=e(De({},n),this.props)),e&&De(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),gr(this))},de.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),gr(this))},de.prototype.render=U,Ue=[],Ho=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,dr=function(e,t){return e.__v.__b-t.__v.__b},gn.__r=0,Ir=0,_r=Mi(!1),fr=Mi(!0),Vo=0;var Cc=0;function s(e,t,n,r,i,o){t||(t={});var a,c,l=t;"ref"in t&&(a=t.ref,delete t.ref);var u={type:e,props:l,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Cc,__i:-1,__u:0,__source:i,__self:o};if(typeof e=="function"&&(a=e.defaultProps))for(c in a)l[c]===void 0&&(l[c]=a[c]);return O.vnode&&O.vnode(u),u}class Xo{constructor(t){this.baseUrl=(t==null?void 0:t.baseUrl)||"/"}}const Zo=Vt(new Xo);var Ne,L,Jn,Ti,_t=0,Qo=[],W=O,ji=W.__b,Bi=W.__r,Ii=W.diffed,Li=W.__c,Hi=W.unmount,Vi=W.__;function et(e,t){W.__h&&W.__h(L,e,_t||t),_t=0;var n=L.__H||(L.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function $(e){return _t=1,Mn(ea,e)}function Mn(e,t,n){var r=et(Ne++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):ea(void 0,t),function(c){var l=r.__N?r.__N[0]:r.__[0],u=r.t(l,c);l!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=L,!L.u)){var i=function(c,l,u){if(!r.__c.__H)return!0;var h=r.__c.__H.__.filter(function(_){return!!_.__c});if(h.every(function(_){return!_.__N}))return!o||o.call(this,c,l,u);var d=!1;return h.forEach(function(_){if(_.__N){var f=_.__[0];_.__=_.__N,_.__N=void 0,f!==_.__[0]&&(d=!0)}}),!(!d&&r.__c.props===c)&&(!o||o.call(this,c,l,u))};L.u=!0;var o=L.shouldComponentUpdate,a=L.componentWillUpdate;L.componentWillUpdate=function(c,l,u){if(this.__e){var h=o;o=void 0,i(c,l,u),o=h}a&&a.call(this,c,l,u)},L.shouldComponentUpdate=i}return r.__N||r.__}function G(e,t){var n=et(Ne++,3);!W.__s&&Wr(n.__H,t)&&(n.__=e,n.i=t,L.__H.__h.push(n))}function yt(e,t){var n=et(Ne++,4);!W.__s&&Wr(n.__H,t)&&(n.__=e,n.i=t,L.__h.push(n))}function J(e){return _t=5,Ft(function(){return{current:e}},[])}function Fr(e,t,n){_t=6,yt(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function Ft(e,t){var n=et(Ne++,7);return Wr(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function p(e,t){return _t=8,Ft(function(){return e},t)}function ne(e){var t=L.context[e.__c],n=et(Ne++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(L)),t.props.value):e.__}function Ur(e,t){W.useDebugValue&&W.useDebugValue(t?t(e):e)}function Ec(e){var t=et(Ne++,10),n=$();return t.__=e,L.componentDidCatch||(L.componentDidCatch=function(r,i){t.__&&t.__(r,i),n[1](r)}),[n[0],function(){n[1](void 0)}]}function zr(){var e=et(Ne++,11);if(!e.__){for(var t=L.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function xc(){for(var e;e=Qo.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ln),e.__H.__h.forEach(mr),e.__H.__h=[]}catch(t){e.__H.__h=[],W.__e(t,e.__v)}}W.__b=function(e){L=null,ji&&ji(e)},W.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Vi&&Vi(e,t)},W.__r=function(e){Bi&&Bi(e),Ne=0;var t=(L=e.__c).__H;t&&(Jn===L?(t.__h=[],L.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(t.__h.forEach(ln),t.__h.forEach(mr),t.__h=[],Ne=0)),Jn=L},W.diffed=function(e){Ii&&Ii(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Qo.push(t)!==1&&Ti===W.requestAnimationFrame||((Ti=W.requestAnimationFrame)||Dc)(xc)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Jn=L=null},W.__c=function(e,t){t.some(function(n){try{n.__h.forEach(ln),n.__h=n.__h.filter(function(r){return!r.__||mr(r)})}catch(r){t.some(function(i){i.__h&&(i.__h=[])}),t=[],W.__e(r,n.__v)}}),Li&&Li(e,t)},W.unmount=function(e){Hi&&Hi(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{ln(r)}catch(i){t=i}}),n.__H=void 0,t&&W.__e(t,n.__v))};var Fi=typeof requestAnimationFrame=="function";function Dc(e){var t,n=function(){clearTimeout(r),Fi&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Fi&&(t=requestAnimationFrame(n))}function ln(e){var t=L,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),L=t}function mr(e){var t=L;e.__c=e.__(),L=t}function Wr(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function ea(e,t){return typeof t=="function"?t(e):t}const $c=500,ta=({children:e,onClick:t,onDoubleClick:n})=>{const r=J(),[i,o]=$(null),a=p(c=>{i&&i+$c>c.timeStamp?n():t(),o(c.timeStamp)},[i,o,t,n]);return G(()=>{if(i){const c=l=>{r.current&&!r.current.contains(l.target)&&o(null)};return window.addEventListener("mousedown",c),()=>window.removeEventListener("mousedown",c)}},[r,i,o]),Vr(e,{ref:r,onMouseDown:a})},Rc={attributes:!0,childList:!0,subtree:!0,characterData:!0},na=(e,t)=>{Array.from(e.children).forEach(n=>{n.nodeName==="IMG"&&!n.complete?n.onload=t:na(n,t)})},Ui=({onHeight:e,onWidth:t,children:n,...r})=>{const[,i]=$({}),o=J(),a=p(()=>{if(o.current){const{width:c,height:l}=o.current.getBoundingClientRect(),u={width:c,height:l};na(o.current,a),i(h=>(u.height!==h.height&&e&&e(u.height),u.width!==h.width&&t&&t(u.width),u))}},[o,i,e,t]);return G(()=>{if(o.current){a();const c=new MutationObserver(a);return c.observe(o.current,Rc),()=>c.disconnect()}},[o,a]),ns(a),s("div",{ref:o,...r,children:n})};var At=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Nc(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var ra={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var c=arguments[a];c&&(o=i(o,r(c)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var c in o)t.call(o,c)&&o[c]&&(a=i(a,c));return a}function i(o,a){return a?o?o+" "+a:o+a:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(ra);var Mc=ra.exports;const H=Pc(Mc),ia=({color:e})=>{const t=`mock-spinner-${e}`,n=H("mock-spinner",{[t]:!!e});return s("div",{className:n,children:[s("div",{}),s("div",{}),s("div",{}),s("div",{})]})},k="weapon",D="vitality",C="spirit",oa=[k,D,C],Tc=[0,500,1250,3e3,6e3],aa=[{name:"Basic Magazine",tier:1,cost:500,category:k,active:!1,icon:"item/basic_magazine"},{name:"Close Quarters",tier:1,cost:500,category:k,active:!1,icon:"item/close_quarters"},{name:"Headshot Booster",tier:1,cost:500,category:k,active:!1,icon:"item/headshot_booster"},{name:"High-Velocity Mag",tier:1,cost:500,category:k,active:!1,icon:"item/high_velocity_mag"},{name:"Hollow Point Ward",tier:1,cost:500,category:k,active:!1,icon:"item/hollow_point_ward"},{name:"Monster Rounds",tier:1,cost:500,category:k,active:!1,icon:"item/monster_rounds"},{name:"Rapid Rounds",tier:1,cost:500,category:k,active:!1,icon:"item/rapid_rounds"},{name:"Restorative Shot",tier:1,cost:500,category:k,active:!1,icon:"item/restorative_shot"},{name:"Active Reload",tier:2,cost:1250,category:k,active:!1,icon:"item/active_reload"},{name:"Berserker",tier:2,cost:1250,category:k,active:!1,icon:"item/berserker"},{name:"Fleetfoot",tier:2,cost:1250,category:k,active:!0,icon:"item/fleetfoot"},{name:"Kinetic Dash",tier:2,cost:1250,category:k,active:!1,icon:"item/kinetic_dash"},{name:"Long Range",tier:2,cost:1250,category:k,active:!1,icon:"item/long_range"},{name:"Melee Charge",tier:2,cost:1250,category:k,active:!1,icon:"item/melee_charge"},{name:"Mystic Shot",tier:2,cost:1250,category:k,active:!1,icon:"item/mystic_shot"},{name:"Slowing Bullets",tier:2,cost:1250,category:k,active:!1,icon:"item/slowing_bullets"},{name:"Soul Shredder Bullets",tier:2,cost:1250,category:k,active:!1,icon:"item/soul_shredder_bullets"},{name:"Swift Striker",tier:2,cost:1250,category:k,active:!1,icon:"item/swift_striker"},{name:"Alchemical Fire",tier:3,cost:3e3,category:k,active:!0,icon:"item/alchemical_fire"},{name:"Burst Fire",tier:3,cost:3e3,category:k,active:!1,icon:"item/burst_fire"},{name:"Escalating Resilience",tier:3,cost:3e3,category:k,active:!1,icon:"item/escalating_resilience"},{name:"Headhunter",tier:3,cost:3500,category:k,active:!1,icon:"item/headhunter"},{name:"Heroic Aura",tier:3,cost:3e3,category:k,active:!0,icon:"item/heroic_aura"},{name:"Hunter's Aura",tier:3,cost:3e3,category:k,active:!1,icon:"item/hunters_aura"},{name:"Intensifying Magazine",tier:3,cost:3e3,category:k,active:!1,icon:"item/intensifying_magazine"},{name:"Point Blank",tier:3,cost:3500,category:k,active:!1,icon:"item/point_blank"},{name:"Pristine Emblem",tier:3,cost:3500,category:k,active:!1,icon:"item/pristine_emblem"},{name:"Sharpshooter",tier:3,cost:4250,category:k,active:!1,icon:"item/sharpshooter"},{name:"Spellslinger Headshots",tier:3,cost:4250,category:k,active:!1,icon:"item/spellslinger_headshots"},{name:"Tesla Bullets",tier:3,cost:3e3,category:k,active:!1,icon:"item/tesla_bullets"},{name:"Titanic Magazine",tier:3,cost:3500,category:k,active:!1,icon:"item/titanic_magazine"},{name:"Toxic Bullets",tier:3,cost:3e3,category:k,active:!1,icon:"item/toxic_bullets"},{name:"Warp Stone",tier:3,cost:3e3,category:k,active:!0,icon:"item/warp_stone"},{name:"Crippling Headshot",tier:4,cost:6e3,category:k,active:!1,icon:"item/crippling_headshot"},{name:"Frenzy",tier:4,cost:6e3,category:k,active:!1,icon:"item/frenzy"},{name:"Glass Cannon",tier:4,cost:6e3,category:k,active:!1,icon:"item/glass_cannon"},{name:"Lucky Shot",tier:4,cost:6e3,category:k,active:!1,icon:"item/lucky_shot"},{name:"Ricochet",tier:4,cost:6e3,category:k,active:!1,icon:"item/ricochet"},{name:"Shadow Weave",tier:4,cost:6e3,category:k,active:!0,icon:"item/shadow_weave"},{name:"Silencer",tier:4,cost:7450,category:k,active:!1,icon:"item/silencer"},{name:"Spiritual Overflow",tier:4,cost:6e3,category:k,active:!1,icon:"item/spiritual_overflow"},{name:"Vampiric Burst",tier:4,cost:6e3,category:k,active:!0,icon:"item/vampiric_burst"},{name:"Enduring Spirit",tier:1,cost:500,category:D,active:!1,icon:"item/enduring_spirit"},{name:"Extra Health",tier:1,cost:500,category:D,active:!1,icon:"item/extra_health"},{name:"Extra Regen",tier:1,cost:500,category:D,active:!1,icon:"item/extra_regen"},{name:"Extra Stamina",tier:1,cost:500,category:D,active:!1,icon:"item/extra_stamina"},{name:"Healing Rite",tier:1,cost:500,category:D,active:!0,icon:"item/healing_rite"},{name:"Melee Lifesteal",tier:1,cost:500,category:D,active:!1,icon:"item/melee_lifesteal"},{name:"Sprint Boots",tier:1,cost:500,category:D,active:!1,icon:"item/sprint_boots"},{name:"Bullet Armor",tier:2,cost:1250,category:D,active:!1,icon:"item/bullet_armor"},{name:"Bullet Lifesteal",tier:2,cost:1250,category:D,active:!1,icon:"item/bullet_lifesteal"},{name:"Combat Barrier",tier:2,cost:1250,category:D,active:!1,icon:"item/combat_barrier"},{name:"Debuff Reducer",tier:2,cost:1250,category:D,active:!1,icon:"item/debuff_reducer"},{name:"Divine Barrier",tier:2,cost:1250,category:D,active:!0,icon:"item/divine_barrier"},{name:"Enchanter's Barrier",tier:2,cost:1250,category:D,active:!1,icon:"item/enchanters_barrier"},{name:"Enduring Speed",tier:2,cost:1750,category:D,active:!1,icon:"item/enduring_speed"},{name:"Healbane",tier:2,cost:1250,category:D,active:!1,icon:"item/healbane"},{name:"Healing Booster",tier:2,cost:1250,category:D,active:!1,icon:"item/healing_booster"},{name:"Healing Nova",tier:2,cost:1750,category:D,active:!0,icon:"item/healing_nova"},{name:"Reactive Barrier",tier:2,cost:1250,category:D,active:!1,icon:"item/reactive_barrier"},{name:"Restorative Locket",tier:2,cost:1250,category:D,active:!0,icon:"item/restorative_locket"},{name:"Return Fire",tier:2,cost:1250,category:D,active:!0,icon:"item/return_fire"},{name:"Spirit Armor",tier:2,cost:1250,category:D,active:!1,icon:"item/spirit_armor"},{name:"Spirit Lifesteal",tier:2,cost:1250,category:D,active:!1,icon:"item/spirit_lifesteal"},{name:"Debuff Remover",tier:3,cost:4250,category:D,active:!0,icon:"item/debuff_remover"},{name:"Fortitude",tier:3,cost:3500,category:D,active:!1,icon:"item/fortitude"},{name:"Improved Bullet Armor",tier:3,cost:4250,category:D,active:!1,icon:"item/improved_bullet_armor"},{name:"Improved Spirit Armor",tier:3,cost:4250,category:D,active:!1,icon:"item/improved_spirit_armor"},{name:"Lifestrike",tier:3,cost:3500,category:D,active:!1,icon:"item/lifestrike"},{name:"Majestic Leap",tier:3,cost:3e3,category:D,active:!0,icon:"item/majestic_leap"},{name:"Metal Skin",tier:3,cost:3e3,category:D,active:!0,icon:"item/metal_skin"},{name:"Rescue Beam",tier:3,cost:3e3,category:D,active:!0,icon:"item/rescue_beam"},{name:"Superior Stamina",tier:3,cost:3500,category:D,active:!1,icon:"item/superior_stamina"},{name:"Colossus",tier:4,cost:6e3,category:D,active:!0,icon:"item/colossus"},{name:"Inhibitor",tier:4,cost:6e3,category:D,active:!1,icon:"item/inhibitor"},{name:"Leech",tier:4,cost:6e3,category:D,active:!1,icon:"item/leech"},{name:"Phantom Strike",tier:4,cost:6e3,category:D,active:!0,icon:"item/phantom_strike"},{name:"Siphon Bullets",tier:4,cost:6e3,category:D,active:!1,icon:"item/siphon_bullets"},{name:"Unstoppable",tier:4,cost:6e3,category:D,active:!0,icon:"item/unstoppable"},{name:"Veil Walker",tier:4,cost:6e3,category:D,active:!1,icon:"item/veil_walker"},{name:"Ammo Scavenger",tier:1,cost:500,category:C,active:!1,icon:"item/ammo_scavenger"},{name:"Extra Charge",tier:1,cost:500,category:C,active:!1,icon:"item/extra_charge"},{name:"Extra Spirit",tier:1,cost:500,category:C,active:!1,icon:"item/extra_spirit"},{name:"Infuser",tier:1,cost:500,category:C,active:!0,icon:"item/infuser"},{name:"Mystic Burst",tier:1,cost:500,category:C,active:!1,icon:"item/mystic_burst"},{name:"Mystic Reach",tier:1,cost:500,category:C,active:!1,icon:"item/mystic_reach"},{name:"Spirit Strike",tier:1,cost:500,category:C,active:!1,icon:"item/spirit_strike"},{name:"Bullet Resist Shredder",tier:2,cost:1250,category:C,active:!1,icon:"item/bullet_resist_shredder"},{name:"Cold Front",tier:2,cost:1250,category:C,active:!0,icon:"item/cold_front"},{name:"Decay",tier:2,cost:1250,category:C,active:!0,icon:"item/decay"},{name:"Duration Extender",tier:2,cost:1250,category:C,active:!1,icon:"item/duration_extender"},{name:"Improved Cooldown",tier:2,cost:1250,category:C,active:!1,icon:"item/improved_cooldown"},{name:"Mystic Vulnerability",tier:2,cost:1250,category:C,active:!1,icon:"item/mystic_vulnerability"},{name:"Quicksilver Reload",tier:2,cost:1250,category:C,active:!1,icon:"item/quicksilver_reload"},{name:"Slowing Hex",tier:2,cost:1750,category:C,active:!0,icon:"item/slowing_hex"},{name:"Suppressor",tier:2,cost:1250,category:C,active:!1,icon:"item/suppressor"},{name:"Withering Whip",tier:2,cost:1250,category:C,active:!0,icon:"item/withering_whip"},{name:"Arcane Surge",tier:3,cost:4250,category:C,active:!1,icon:"item/arcane_surge"},{name:"Ethereal Shift",tier:3,cost:3e3,category:C,active:!0,icon:"item/ethereal_shift"},{name:"Improved Burst",tier:3,cost:3500,category:C,active:!1,icon:"item/improved_burst"},{name:"Improved Reach",tier:3,cost:3500,category:C,active:!1,icon:"item/improved_reach"},{name:"Improved Spirit",tier:3,cost:3500,category:C,active:!1,icon:"item/improved_spirit"},{name:"Knockdown",tier:3,cost:3e3,category:C,active:!0,icon:"item/knockdown"},{name:"Mystic Slow",tier:3,cost:4250,category:C,active:!1,icon:"item/mystic_slow"},{name:"Rapid Recharge",tier:3,cost:3500,category:C,active:!1,icon:"item/rapid_recharge"},{name:"Silence Glyph",tier:3,cost:3e3,category:C,active:!0,icon:"item/silence_glyph"},{name:"Spirit Snatch",tier:3,cost:3500,category:C,active:!1,icon:"item/spirit_snatch"},{name:"Superior Cooldown",tier:3,cost:4250,category:C,active:!1,icon:"item/superior_cooldown"},{name:"Superior Duration",tier:3,cost:4250,category:C,active:!1,icon:"item/superior_duration"},{name:"Surge of Power",tier:3,cost:3e3,category:C,active:!1,icon:"item/surge_of_power"},{name:"Torment Pulse",tier:3,cost:3e3,category:C,active:!1,icon:"item/torment_pulse"},{name:"Boundless Spirit",tier:4,cost:9700,category:C,active:!1,icon:"item/boundless_spirit"},{name:"Curse",tier:4,cost:6e3,category:C,active:!0,icon:"item/curse"},{name:"Diviner's Kevlar",tier:4,cost:6e3,category:C,active:!1,icon:"item/diviners_kevlar"},{name:"Echo Shard",tier:4,cost:6e3,category:C,active:!0,icon:"item/echo_shard"},{name:"Escalating Exposure",tier:4,cost:7450,category:C,active:!1,icon:"item/escalating_exposure"},{name:"Magic Carpet",tier:4,cost:6e3,category:C,active:!0,icon:"item/magic_carpet"},{name:"Mystic Reverb",tier:4,cost:6e3,category:C,active:!1,icon:"item/mystic_reverb"},{name:"Refresher",tier:4,cost:6e3,category:C,active:!0,icon:"item/refresher"}],mn=Object.fromEntries(aa.map(e=>[e.name,e])),jc=Object.groupBy(aa,e=>e.category),Dt=Object.fromEntries(Object.entries(jc).map(([e,t])=>[e,Object.groupBy(t,n=>n.tier)]));Object.values(Dt).forEach(e=>Object.values(e).forEach(t=>t.sort((n,r)=>n.active<r.active?-1:n.active>r.active?1:n.name<r.name?-1:n.name>r.name?1:0)));const Gr=[["stat/cooldown","stat/charge","stat/charge_cooldown","stat/duration","stat/range","stat/aoe"],["stat/weapon_damage","stat/spirit_damage","stat/melee","stat/bullet","stat/fire_rate","stat/ammo","stat/reload"],["stat/bullet_armor","stat/bullet_resist_reduction","stat/spirit_armor","stat/spirit_resist_reduction","stat/bullet_shield","stat/spirit_shield"],["stat/move_speed","stat/stamina","stat/move_slow","stat/stun","stat/invisible"],["stat/health","stat/healing","stat/damage_amplification"],["stat/placeholder","stat/ability_point","stat/silence"]];Gr.flat();const sa={abrams:["hero/abrams/siphon_life","hero/abrams/shoulder_charge","hero/abrams/infernal_resilience","hero/abrams/seismic_impact"],bebop:["hero/bebop/exploding_uppercut","hero/bebop/sticky_bomb","hero/bebop/hook","hero/bebop/hyper_beam"],billy:["hero/billy/bashdown","hero/billy/blasted","hero/billy/chain_gang","hero/billy/rising_ram"],calico:["hero/calico/ava","hero/calico/gloom_bombs","hero/calico/leaping_slash","hero/calico/return_to_shadows"],doorman:["hero/doorman/call_bell","hero/doorman/doorway","hero/doorman/hotel_guest","hero/doorman/luggage_cart"],drifter:["hero/drifter/bloodscent","hero/drifter/eternal_night","hero/drifter/rend","hero/drifter/stalkers_mark"],dynamo:["hero/dynamo/kinetic_pulse","hero/dynamo/quantum_entanglement","hero/dynamo/rejuvenating_aurora","hero/dynamo/singularity"],graves:["hero/graves/borrowed_decree","hero/graves/essence_theft","hero/graves/grasping_hands","hero/graves/jar_of_dead"],grey_talon:["hero/grey_talon/charged_shot","hero/grey_talon/rain_of_arrows","hero/grey_talon/spirit_snare","hero/grey_talon/guided_owl"],haze:["hero/haze/sleep_dagger","hero/haze/smoke_bomb","hero/haze/fixation","hero/haze/bullet_dance"],holliday:["hero/holliday/bounce_pad","hero/holliday/crackshot","hero/holliday/powder_key","hero/holliday/spirit_lasso"],infernus:["hero/infernus/napalm","hero/infernus/flame_dash","hero/infernus/afterburn","hero/infernus/concussive_combustion"],ivy:["hero/ivy/kudzu_bomb","hero/ivy/watchers_covenant","hero/ivy/stone_form","hero/ivy/air_drop"],kelvin:["hero/kelvin/frost_grenade","hero/kelvin/ice_path","hero/kelvin/arctic_beam","hero/kelvin/frozen_shelter"],lady_geist:["hero/lady_geist/essence_bomb","hero/lady_geist/life_drain","hero/lady_geist/malice","hero/lady_geist/soul_exchange"],lash:["hero/lash/ground_strike","hero/lash/grapple","hero/lash/flog","hero/lash/death_slam"],mcginnis:["hero/mcginnis/mini_turret","hero/mcginnis/medicinal_specter","hero/mcginnis/spectral_wall","hero/mcginnis/heavy_barrage"],mina:["hero/mina/love_bites","hero/mina/nox_nostra","hero/mina/rake","hero/mina/sanguine_retreat"],mirage:["hero/mirage/fire_scarabs","hero/mirage/tornado","hero/mirage/djinns_mark","hero/mirage/traveler"],mo_and_krill:["hero/mo_and_krill/scorn","hero/mo_and_krill/burrow","hero/mo_and_krill/sand_blast","hero/mo_and_krill/combo"],paige:["hero/paige/captivating_read","hero/paige/conjure_dragon","hero/paige/defend_and_fight","hero/paige/rallying_charge"],paradox:["hero/paradox/pulse_grenade","hero/paradox/time_wall","hero/paradox/kinetic_carbine","hero/paradox/paradoxical_swap"],pocket:["hero/pocket/barrage","hero/pocket/flying_cloak","hero/pocket/enchanters_satchel","hero/pocket/affliction"],rem:["hero/rem/lil_helpers","hero/rem/naptime","hero/rem/pillow_toss","hero/rem/tag_along"],seven:["hero/seven/lightning_ball","hero/seven/static_charge","hero/seven/power_surge","hero/seven/storm_cloud"],shiv:["hero/shiv/serrated_knives","hero/shiv/slice_and_dice","hero/shiv/bloodletting","hero/shiv/killing_blow"],silver:["hero/silver/boot_kick","hero/silver/entangling_bola","hero/silver/lycan_curse","hero/silver/slam_fire"],sinclair:["hero/sinclair/audience_participation","hero/sinclair/rabbit_hex","hero/sinclair/spectral_assistant","hero/sinclair/vexing_bolt"],venator:["hero/venator/consecrating_grenade","hero/venator/gutshot","hero/venator/hex_lined_snap_trap","hero/venator/ira_domini"],victor:["hero/victor/aura_of_suffering","hero/victor/jumpstart","hero/victor/pain_battery","hero/victor/shocking_reanimation"],vindicta:["hero/vindicta/stake","hero/vindicta/flight","hero/vindicta/crow_familiar","hero/vindicta/assassinate"],viscous:["hero/viscous/splatter","hero/viscous/the_cube","hero/viscous/puddle_punch","hero/viscous/goo_ball"],vyper:["hero/vyper/lethal_venom","hero/vyper/petrifying_bola","hero/vyper/screwjab_dagger","hero/vyper/slither"],warden:["hero/warden/alchemical_flask","hero/warden/willpower","hero/warden/binding_word","hero/warden/last_stand"],wraith:["hero/wraith/card_trick","hero/wraith/project_mind","hero/wraith/full_auto","hero/wraith/telekinesis"],yamato:["hero/yamato/power_slash","hero/yamato/flying_strike","hero/yamato/crimson_slash","hero/yamato/shadow_transformation"]};new Set(Object.values(sa).flatMap(e=>e));const Bc=["legacy/hero/abrams/siphon_life_v1","legacy/hero/abrams/shoulder_charge_v1","legacy/hero/abrams/infernal_resilience_v1","legacy/hero/abrams/seismic_impact_v1","legacy/hero/bebop/exploding_uppercut_v1","legacy/hero/bebop/sticky_bomb_v1","legacy/hero/bebop/hyper_beam_v1","legacy/hero/dynamo/kinetic_pulse_v1","legacy/hero/dynamo/quantum_entanglement_v1","legacy/hero/dynamo/rejuvenating_aurora_v1","legacy/hero/dynamo/singularity_v1","legacy/hero/grey_talon/charged_shot_v1","legacy/hero/grey_talon/rain_of_arrows_v1","legacy/hero/grey_talon/spirit_snare_v1","legacy/hero/grey_talon/guided_owl_v1","legacy/hero/haze/sleep_dagger_v1","legacy/hero/haze/smoke_bomb_v1","legacy/hero/haze/fixation_v1","legacy/hero/haze/bullet_dance_v1","legacy/hero/infernus/catalyst_v1","legacy/hero/infernus/flame_dash_v1","legacy/hero/infernus/afterburn_v1","legacy/hero/infernus/concussive_combustion_v1","legacy/hero/ivy/kudzu_bomb_v1","legacy/hero/ivy/watchers_covenant_v1","legacy/hero/ivy/stone_form_v1","legacy/hero/ivy/air_drop_v1","legacy/hero/kelvin/frost_grenade_v1","legacy/hero/kelvin/ice_path_v1","legacy/hero/kelvin/arctic_beam_v1","legacy/hero/kelvin/frozen_shelter_v1","legacy/hero/lady_geist/essence_bomb_v1","legacy/hero/lady_geist/life_drain_v1","legacy/hero/lady_geist/malice_v1","legacy/hero/lady_geist/soul_exchange_v1","legacy/hero/lash/ground_strike_v1","legacy/hero/lash/grapple_v1","legacy/hero/lash/flog_v1","legacy/hero/lash/death_slam_v1","legacy/hero/mcginnis/spectral_wall_v1","legacy/hero/mirage/fire_scarabs_v1","legacy/hero/mirage/djinns_mark_v1","legacy/hero/mirage/traveler_v1","legacy/hero/mo_and_krill/scorn_v1","legacy/hero/mo_and_krill/burrow_v1","legacy/hero/mo_and_krill/sand_blast_v1","legacy/hero/paradox/pulse_grenade_v1","legacy/hero/paradox/time_wall_v1","legacy/hero/paradox/paradoxical_swap_v1","legacy/hero/pocket/barrage_v1","legacy/hero/pocket/flying_cloak_v1","legacy/hero/pocket/enchanters_satchel_v1","legacy/hero/pocket/affliction_v1","legacy/hero/seven/lightning_ball_v1","legacy/hero/seven/static_charge_v1","legacy/hero/seven/power_surge_v1","legacy/hero/seven/storm_cloud_v1","legacy/hero/shiv/serrated_knives_v1","legacy/hero/shiv/slice_and_dice_v1","legacy/hero/shiv/bloodletting_v1","legacy/hero/shiv/killing_blow_v1","legacy/hero/vindicta/stake_v1","legacy/hero/vindicta/flight_v1","legacy/hero/vindicta/crow_familiar_v1","legacy/hero/vindicta/assassinate_v1","legacy/hero/viscous/splatter_v1","legacy/hero/viscous/the_cube_v1","legacy/hero/viscous/puddle_punch_v1","legacy/hero/viscous/goo_ball_v1","legacy/hero/warden/alchemical_flask_v1","legacy/hero/warden/willpower_v1","legacy/hero/warden/binding_word_v1","legacy/hero/warden/last_stand_v1","legacy/hero/wraith/project_mind_v1","legacy/hero/wraith/full_auto_v1","legacy/hero/yamato/power_slash_v1","legacy/hero/yamato/flying_strike_v1","legacy/hero/yamato/crimson_slash_v1","legacy/hero/yamato/shadow_transformation_v1"];function M(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var Ic={};function Tn(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:Ic}var ca=Object.assign,pn=Object.getOwnPropertyDescriptor,Se=Object.defineProperty,jn=Object.prototype,pr=[];Object.freeze(pr);var la={};Object.freeze(la);var Lc=typeof Proxy<"u",Hc=Object.toString();function ua(){Lc||M("Proxy not available")}function ha(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var ct=function(){};function me(e){return typeof e=="function"}function Ge(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function Bn(e){return e!==null&&typeof e=="object"}function Me(e){if(!Bn(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===Hc}function da(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function Ut(e,t,n){Se(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function _a(e,t,n){Se(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function tt(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return Bn(r)&&r[n]===!0}}function bt(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function Vc(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function Ee(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var fa=typeof Object.getOwnPropertySymbols<"u";function Fc(e){var t=Object.keys(e);if(!fa)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return jn.propertyIsEnumerable.call(e,r)})):t}var ft=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:fa?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function ga(e){return e===null?null:typeof e=="object"?""+e:e}function $e(e,t){return jn.hasOwnProperty.call(e,t)}var Uc=Object.getOwnPropertyDescriptors||function(t){var n={};return ft(t).forEach(function(r){n[r]=pn(t,r)}),n};function ie(e,t){return!!(e&t)}function oe(e,t,n){return n?e|=t:e&=~t,e}function zi(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function zc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gc(r.key),r)}}function wt(e,t,n){return t&&zc(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lt(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=qc(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qe.apply(null,arguments)}function ma(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,vr(e,t)}function vr(e,t){return vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},vr(e,t)}function Wc(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Gc(e){var t=Wc(e,"string");return typeof t=="symbol"?t:t+""}function qc(e,t){if(e){if(typeof e=="string")return zi(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zi(e,t):void 0}}var we=Symbol("mobx-stored-annotations");function ke(e){function t(n,r){if(Wt(r))return e.decorate_20223_(n,r);zt(n,r,e)}return Object.assign(t,e)}function zt(e,t,n){$e(e,we)||Ut(e,we,qe({},e[we])),nl(n)||(e[we][t]=n)}function Kc(e){return $e(e,we)||Ut(e,we,qe({},e[we])),e[we]}function Wt(e){return typeof e=="object"&&typeof e.kind=="string"}var b=Symbol("mobx administration"),Le=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=T.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return Na(this)},t.reportChanged=function(){le(),Ma(this),ue()},t.toString=function(){return this.name_},wt(e,[{key:"isBeingObserved",get:function(){return ie(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=oe(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return ie(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=oe(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return ie(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=oe(this.flags_,e.diffValueMask_,r===1)}}])}();Le.isBeingObservedMask_=1;Le.isPendingUnobservationMask_=2;Le.diffValueMask_=4;var qr=tt("Atom",Le);function pa(e,t,n){t===void 0&&(t=ct),n===void 0&&(n=ct);var r=new Le(e);return t!==ct&&iu(r,t),n!==ct&&Va(r,n),r}function Yc(e,t){return e===t}function Jc(e,t){return ei(e,t)}function Xc(e,t){return ei(e,t,1)}function Zc(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var vn={identity:Yc,structural:Jc,default:Zc,shallow:Xc};function Ke(e,t,n){return Ga(e)?e:Array.isArray(e)?K.array(e,{name:n}):Me(e)?K.object(e,void 0,{name:n}):bt(e)?K.map(e,{name:n}):Ee(e)?K.set(e,{name:n}):typeof e=="function"&&!jt(e)&&!Bt(e)?da(e)?gt(e):Tt(n,e):e}function Qc(e,t,n){if(e==null||Un(e)||Fn(e)||rt(e)||be(e))return e;if(Array.isArray(e))return K.array(e,{name:n,deep:!1});if(Me(e))return K.object(e,void 0,{name:n,deep:!1});if(bt(e))return K.map(e,{name:n,deep:!1});if(Ee(e))return K.set(e,{name:n,deep:!1})}function In(e){return e}function el(e,t){return ei(e,t)?t:e}var tl="override";function nl(e){return e.annotationType_===tl}function Gt(e,t){return{annotationType_:e,options_:t,make_:rl,extend_:il,decorate_20223_:ol}}function rl(e,t,n,r){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(jt(n.value))return 1;var o=va(e,this,t,n,!1);return Se(r,t,o),2}function il(e,t,n,r){var i=va(e,this,t,n);return e.defineProperty_(t,i,r)}function ol(e,t){var n=t.kind,r=t.name,i=t.addInitializer,o=this,a=function(u){var h,d,_,f;return Ye((h=(d=o.options_)==null?void 0:d.name)!=null?h:r.toString(),u,(_=(f=o.options_)==null?void 0:f.autoAction)!=null?_:!1)};if(n=="field")return function(l){var u,h=l;return jt(h)||(h=a(h)),(u=o.options_)!=null&&u.bound&&(h=h.bind(this),h.isMobxAction=!0),h};if(n=="method"){var c;return jt(e)||(e=a(e)),(c=this.options_)!=null&&c.bound&&i(function(){var l=this,u=l[r].bind(l);u.isMobxAction=!0,l[r]=u}),e}M("Cannot apply '"+o.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+o.annotationType_+"' can only be used on properties with a function value."))}function al(e,t,n,r){t.annotationType_,r.value}function va(e,t,n,r,i){var o,a,c,l,u,h,d;i===void 0&&(i=m.safeDescriptors),al(e,t,n,r);var _=r.value;if((o=t.options_)!=null&&o.bound){var f;_=_.bind((f=e.proxy_)!=null?f:e.target_)}return{value:Ye((a=(c=t.options_)==null?void 0:c.name)!=null?a:n.toString(),_,(l=(u=t.options_)==null?void 0:u.autoAction)!=null?l:!1,(h=t.options_)!=null&&h.bound?(d=e.proxy_)!=null?d:e.target_:void 0),configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function ya(e,t){return{annotationType_:e,options_:t,make_:sl,extend_:cl,decorate_20223_:ll}}function sl(e,t,n,r){var i;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!$e(e.target_,t)||!Bt(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(Bt(n.value))return 1;var o=ba(e,this,t,n,!1,!1);return Se(r,t,o),2}function cl(e,t,n,r){var i,o=ba(e,this,t,n,(i=this.options_)==null?void 0:i.bound);return e.defineProperty_(t,o,r)}function ll(e,t){var n,r=t.name,i=t.addInitializer;return Bt(e)||(e=gt(e)),(n=this.options_)!=null&&n.bound&&i(function(){var o=this,a=o[r].bind(o);a.isMobXFlow=!0,o[r]=a}),e}function ul(e,t,n,r){t.annotationType_,r.value}function ba(e,t,n,r,i,o){o===void 0&&(o=m.safeDescriptors),ul(e,t,n,r);var a=r.value;if(Bt(a)||(a=gt(a)),i){var c;a=a.bind((c=e.proxy_)!=null?c:e.target_),a.isMobXFlow=!0}return{value:a,configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function Kr(e,t){return{annotationType_:e,options_:t,make_:hl,extend_:dl,decorate_20223_:_l}}function hl(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function dl(e,t,n,r){return fl(e,this,t,n),e.defineComputedProperty_(t,qe({},this.options_,{get:n.get,set:n.set}),r)}function _l(e,t){var n=this,r=t.name,i=t.addInitializer;return i(function(){var o=it(this)[b],a=qe({},n.options_,{get:e,context:this});a.name||(a.name="ObservableObject."+r.toString()),o.values_.set(r,new pe(a))}),function(){return this[b].getObservablePropValue_(r)}}function fl(e,t,n,r){t.annotationType_,r.get}function Ln(e,t){return{annotationType_:e,options_:t,make_:gl,extend_:ml,decorate_20223_:pl}}function gl(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function ml(e,t,n,r){var i,o;return vl(e,this),e.defineObservableProperty_(t,n.value,(i=(o=this.options_)==null?void 0:o.enhancer)!=null?i:Ke,r)}function pl(e,t){var n=this,r=t.kind,i=t.name,o=new WeakSet;function a(c,l){var u,h,d=it(c)[b],_=new We(l,(u=(h=n.options_)==null?void 0:h.enhancer)!=null?u:Ke,"ObservableObject."+i.toString(),!1);d.values_.set(i,_),o.add(c)}if(r=="accessor")return{get:function(){return o.has(this)||a(this,e.get.call(this)),this[b].getObservablePropValue_(i)},set:function(l){return o.has(this)||a(this,l),this[b].setObservablePropValue_(i,l)},init:function(l){return o.has(this)||a(this,l),l}}}function vl(e,t,n,r){t.annotationType_}var yl="true",bl=wa();function wa(e){return{annotationType_:yl,options_:e,make_:wl,extend_:Sl,decorate_20223_:kl}}function wl(e,t,n,r){var i,o;if(n.get)return Hn.make_(e,t,n,r);if(n.set){var a=Ye(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:m.safeDescriptors?e.isPlainObject_:!0,set:a})===null?0:2:(Se(r,t,{configurable:!0,set:a}),2)}if(r!==e.target_&&typeof n.value=="function"){var c;if(da(n.value)){var l,u=(l=this.options_)!=null&&l.autoBind?gt.bound:gt;return u.make_(e,t,n,r)}var h=(c=this.options_)!=null&&c.autoBind?Tt.bound:Tt;return h.make_(e,t,n,r)}var d=((i=this.options_)==null?void 0:i.deep)===!1?K.ref:K;if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var _;n.value=n.value.bind((_=e.proxy_)!=null?_:e.target_)}return d.make_(e,t,n,r)}function Sl(e,t,n,r){var i,o;if(n.get)return Hn.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:m.safeDescriptors?e.isPlainObject_:!0,set:Ye(t.toString(),n.set)},r);if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var a;n.value=n.value.bind((a=e.proxy_)!=null?a:e.target_)}var c=((o=this.options_)==null?void 0:o.deep)===!1?K.ref:K;return c.extend_(e,t,n,r)}function kl(e,t){M("'"+this.annotationType_+"' cannot be used as a decorator")}var Ol="observable",Al="observable.ref",Cl="observable.shallow",El="observable.struct",Sa={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(Sa);function rn(e){return e||Sa}var yr=Ln(Ol),xl=Ln(Al,{enhancer:In}),Dl=Ln(Cl,{enhancer:Qc}),$l=Ln(El,{enhancer:el}),ka=ke(yr);function on(e){return e.deep===!0?Ke:e.deep===!1?In:Pl(e.defaultDecorator)}function Rl(e){var t;return e?(t=e.defaultDecorator)!=null?t:wa(e):void 0}function Pl(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:Ke}function Oa(e,t,n){if(Wt(t))return yr.decorate_20223_(e,t);if(Ge(t)){zt(e,t,yr);return}return Ga(e)?e:Me(e)?K.object(e,t,n):Array.isArray(e)?K.array(e,t):bt(e)?K.map(e,t):Ee(e)?K.set(e,t):typeof e=="object"&&e!==null?e:K.box(e,t)}ca(Oa,ka);var Nl={box:function(t,n){var r=rn(n);return new We(t,on(r),r.name,!0,r.equals)},array:function(t,n){var r=rn(n);return(m.useProxies===!1||r.proxy===!1?xu:vu)(t,on(r),r.name)},map:function(t,n){var r=rn(n);return new Ka(t,on(r),r.name)},set:function(t,n){var r=rn(n);return new Ya(t,on(r),r.name)},object:function(t,n,r){return He(function(){return Ua(m.useProxies===!1||(r==null?void 0:r.proxy)===!1?it({},r):fu({},r),t,n)})},ref:ke(xl),shallow:ke(Dl),deep:ka,struct:ke($l)},K=ca(Oa,Nl),Aa="computed",Ml="computed.struct",br=Kr(Aa),Tl=Kr(Ml,{equals:vn.structural}),Hn=function(t,n){if(Wt(n))return br.decorate_20223_(t,n);if(Ge(n))return zt(t,n,br);if(Me(t))return ke(Kr(Aa,t));var r=Me(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new pe(r)};Object.assign(Hn,br);Hn.struct=ke(Tl);var Wi,Gi,yn=0,jl=1,Bl=(Wi=(Gi=pn(function(){},"name"))==null?void 0:Gi.configurable)!=null?Wi:!1,qi={value:"action",configurable:!0,writable:!1,enumerable:!1};function Ye(e,t,n,r){n===void 0&&(n=!1);function i(){return Ca(e,n,t,r||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return t.toString()},Bl&&(qi.value=e,Se(i,"name",qi)),i}function Ca(e,t,n,r,i){var o=Il(e,t);try{return n.apply(r,i)}catch(a){throw o.error_=a,a}finally{Ll(o)}}function Il(e,t,n,r){var i=!1,o=0,a=m.trackingDerivation,c=!t||!a;le();var l=m.allowStateChanges;c&&(nt(),l=Yr(!0));var u=Xr(!0),h={runAsAction_:c,prevDerivation_:a,prevAllowStateChanges_:l,prevAllowStateReads_:u,notifySpy_:i,startTime_:o,actionId_:jl++,parentActionId_:yn};return yn=h.actionId_,h}function Ll(e){yn!==e.actionId_&&M(30),yn=e.parentActionId_,e.error_!==void 0&&(m.suppressReactionErrors=!0),Jr(e.prevAllowStateChanges_),$t(e.prevAllowStateReads_),ue(),e.runAsAction_&&Re(e.prevDerivation_),m.suppressReactionErrors=!1}function Yr(e){var t=m.allowStateChanges;return m.allowStateChanges=e,t}function Jr(e){m.allowStateChanges=e}var We=function(e){function t(r,i,o,a,c){var l;return o===void 0&&(o="ObservableValue"),c===void 0&&(c=vn.default),l=e.call(this,o)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=i,l.name_=o,l.equals=c,l.value_=i(r,void 0,o),l}ma(t,e);var n=t.prototype;return n.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},n.set=function(i){this.value_,i=this.prepareNewValue_(i),i!==m.UNCHANGED&&this.setNewValue_(i)},n.prepareNewValue_=function(i){if(se(this)){var o=ce(this,{object:this,type:Oe,newValue:i});if(!o)return m.UNCHANGED;i=o.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?m.UNCHANGED:i},n.setNewValue_=function(i){var o=this.value_;this.value_=i,this.reportChanged(),fe(this)&&ge(this,{type:Oe,object:this,newValue:i,oldValue:o})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(i){return qt(this,i)},n.observe_=function(i,o){return o&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:Oe,newValue:this.value_,oldValue:void 0}),Kt(this,i)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return ga(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(Le),pe=function(){function e(n){this.dependenciesState_=T.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=T.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new wn(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=bn.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||M(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Ye("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?vn.structural:vn.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){zl(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&M(32,this.name_,this.derivation),m.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)wr(this)&&(this.warnAboutUntrackedRead_(),le(),this.value_=this.computeValue_(!1),ue());else if(Na(this),wr(this)){var r=m.trackingContext;this.keepAlive_&&!r&&(m.trackingContext=this),this.trackAndCompute()&&Ul(this),m.trackingContext=r}var i=this.value_;if(un(i))throw i.cause;return i},t.set=function(r){if(this.setter_){this.isRunningSetter&&M(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else M(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,i=this.dependenciesState_===T.NOT_TRACKING_,o=this.computeValue_(!0),a=i||un(r)||un(o)||!this.equals_(r,o);return a&&(this.value_=o),a},t.computeValue_=function(r){this.isComputing=!0;var i=Yr(!1),o;if(r)o=Ea(this,this.derivation,this.scope_);else if(m.disableErrorBoundaries===!0)o=this.derivation.call(this.scope_);else try{o=this.derivation.call(this.scope_)}catch(a){o=new wn(a)}return Jr(i),this.isComputing=!1,o},t.suspend_=function(){this.keepAlive_||(Sr(this),this.value_=void 0)},t.observe_=function(r,i){var o=this,a=!0,c=void 0;return Ha(function(){var l=o.get();if(!a||i){var u=nt();r({observableKind:"computed",debugObjectName:o.name_,type:Oe,object:o,newValue:l,oldValue:c}),Re(u)}a=!1,c=l})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return ga(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},wt(e,[{key:"isComputing",get:function(){return ie(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=oe(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return ie(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=oe(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return ie(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=oe(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return ie(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=oe(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return ie(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=oe(this.flags_,e.diffValueMask_,r===1)}}])}();pe.isComputingMask_=1;pe.isRunningSetterMask_=2;pe.isBeingObservedMask_=4;pe.isPendingUnobservationMask_=8;pe.diffValueMask_=16;var Vn=tt("ComputedValue",pe),T;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(T||(T={}));var bn;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(bn||(bn={}));var wn=function(t){this.cause=void 0,this.cause=t};function un(e){return e instanceof wn}function wr(e){switch(e.dependenciesState_){case T.UP_TO_DATE_:return!1;case T.NOT_TRACKING_:case T.STALE_:return!0;case T.POSSIBLY_STALE_:{for(var t=Xr(!0),n=nt(),r=e.observing_,i=r.length,o=0;o<i;o++){var a=r[o];if(Vn(a)){if(m.disableErrorBoundaries)a.get();else try{a.get()}catch{return Re(n),$t(t),!0}if(e.dependenciesState_===T.STALE_)return Re(n),$t(t),!0}}return Da(e),Re(n),$t(t),!1}}}function Ea(e,t,n){var r=Xr(!0);Da(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++m.runId;var i=m.trackingDerivation;m.trackingDerivation=e,m.inBatch++;var o;if(m.disableErrorBoundaries===!0)o=t.call(n);else try{o=t.call(n)}catch(a){o=new wn(a)}return m.inBatch--,m.trackingDerivation=i,Hl(e),$t(r),o}function Hl(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=T.UP_TO_DATE_,i=0,o=e.unboundDepsCount_,a=0;a<o;a++){var c=n[a];c.diffValue===0&&(c.diffValue=1,i!==a&&(n[i]=c),i++),c.dependenciesState_>r&&(r=c.dependenciesState_)}for(n.length=i,e.newObserving_=null,o=t.length;o--;){var l=t[o];l.diffValue===0&&Ra(l,e),l.diffValue=0}for(;i--;){var u=n[i];u.diffValue===1&&(u.diffValue=0,Fl(u,e))}r!==T.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function Sr(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Ra(t[n],e);e.dependenciesState_=T.NOT_TRACKING_}function xa(e){var t=nt();try{return e()}finally{Re(t)}}function nt(){var e=m.trackingDerivation;return m.trackingDerivation=null,e}function Re(e){m.trackingDerivation=e}function Xr(e){var t=m.allowStateReads;return m.allowStateReads=e,t}function $t(e){m.allowStateReads=e}function Da(e){if(e.dependenciesState_!==T.UP_TO_DATE_){e.dependenciesState_=T.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=T.UP_TO_DATE_}}var hn=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},dn=!0,$a=!1,m=function(){var e=Tn();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(dn=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new hn().version&&(dn=!1),dn?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new hn):(setTimeout(function(){$a||M(35)},1),new hn)}();function Vl(){if((m.pendingReactions.length||m.inBatch||m.isRunningReactions)&&M(36),$a=!0,dn){var e=Tn();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),m=new hn}}function Fl(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Ra(e,t){e.observers_.delete(t),e.observers_.size===0&&Pa(e)}function Pa(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,m.pendingUnobservations.push(e))}function le(){m.inBatch++}function ue(){if(--m.inBatch===0){Ta();for(var e=m.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof pe&&n.suspend_())}m.pendingUnobservations=[]}}function Na(e){var t=m.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&m.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&m.inBatch>0&&Pa(e),!1)}function Ma(e){e.lowestObserverState_!==T.STALE_&&(e.lowestObserverState_=T.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===T.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=T.STALE_}))}function Ul(e){e.lowestObserverState_!==T.STALE_&&(e.lowestObserverState_=T.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===T.POSSIBLY_STALE_?t.dependenciesState_=T.STALE_:t.dependenciesState_===T.UP_TO_DATE_&&(e.lowestObserverState_=T.UP_TO_DATE_)}))}function zl(e){e.lowestObserverState_===T.UP_TO_DATE_&&(e.lowestObserverState_=T.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===T.UP_TO_DATE_&&(t.dependenciesState_=T.POSSIBLY_STALE_,t.onBecomeStale_())}))}var Te=function(){function e(n,r,i,o){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=T.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=bn.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=i,this.requiresObservable_=o}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,m.pendingReactions.push(this),Ta())},t.runReaction_=function(){if(!this.isDisposed){le(),this.isScheduled=!1;var r=m.trackingContext;if(m.trackingContext=this,wr(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}m.trackingContext=r,ue()}},t.track=function(r){if(!this.isDisposed){le(),this.isRunning=!0;var i=m.trackingContext;m.trackingContext=this;var o=Ea(this,r,void 0);m.trackingContext=i,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Sr(this),un(o)&&this.reportExceptionInDerivation_(o.cause),ue()}},t.reportExceptionInDerivation_=function(r){var i=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(m.disableErrorBoundaries)throw r;var o="[mobx] uncaught error in '"+this+"'";m.suppressReactionErrors||console.error(o,r),m.globalReactionErrorHandlers.forEach(function(a){return a(r,i)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(le(),Sr(this),ue()))},t.getDisposer_=function(r){var i=this,o=function a(){i.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",a)};return r==null||r.addEventListener==null||r.addEventListener("abort",o),o[b]=this,o},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},wt(e,[{key:"isDisposed",get:function(){return ie(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=oe(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return ie(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=oe(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return ie(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=oe(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return ie(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=oe(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return ie(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=oe(this.flags_,e.diffValueMask_,r===1)}}])}();Te.isDisposedMask_=1;Te.isScheduledMask_=2;Te.isTrackPendingMask_=4;Te.isRunningMask_=8;Te.diffValueMask_=16;var Wl=100,kr=function(t){return t()};function Ta(){m.inBatch>0||m.isRunningReactions||kr(Gl)}function Gl(){m.isRunningReactions=!0;for(var e=m.pendingReactions,t=0;e.length>0;){++t===Wl&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}m.isRunningReactions=!1}var Sn=tt("Reaction",Te);function ql(e){var t=kr;kr=function(r){return e(function(){return t(r)})}}function Rt(){return!1}function Kl(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var ja="action",Yl="action.bound",Ba="autoAction",Jl="autoAction.bound",Ia="<unnamed action>",Or=Gt(ja),Xl=Gt(Yl,{bound:!0}),Ar=Gt(Ba,{autoAction:!0}),Zl=Gt(Jl,{autoAction:!0,bound:!0});function La(e){var t=function(r,i){if(me(r))return Ye(r.name||Ia,r,e);if(me(i))return Ye(r,i,e);if(Wt(i))return(e?Ar:Or).decorate_20223_(r,i);if(Ge(i))return zt(r,i,e?Ar:Or);if(Ge(r))return ke(Gt(e?Ba:ja,{name:r,autoAction:e}))};return t}var ze=La(!1);Object.assign(ze,Or);var Tt=La(!0);Object.assign(Tt,Ar);ze.bound=ke(Xl);Tt.bound=ke(Zl);function Ql(e){return Ca(e.name||Ia,!1,e,this,void 0)}function jt(e){return me(e)&&e.isMobxAction===!0}function Ha(e,t){var n,r,i,o;t===void 0&&(t=la);var a=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",c=!t.scheduler&&!t.delay,l;if(c)l=new Te(a,function(){this.track(d)},t.onError,t.requiresObservable);else{var u=tu(t),h=!1;l=new Te(a,function(){h||(h=!0,u(function(){h=!1,l.isDisposed||l.track(d)}))},t.onError,t.requiresObservable)}function d(){e(l)}return(i=t)!=null&&(i=i.signal)!=null&&i.aborted||l.schedule_(),l.getDisposer_((o=t)==null?void 0:o.signal)}var eu=function(t){return t()};function tu(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:eu}var nu="onBO",ru="onBUO";function iu(e,t,n){return Fa(nu,e,t,n)}function Va(e,t,n){return Fa(ru,e,t,n)}function Fa(e,t,n,r){var i=An(t),o=me(r)?r:n,a=e+"L";return i[a]?i[a].add(o):i[a]=new Set([o]),function(){var c=i[a];c&&(c.delete(o),c.size===0&&delete i[a])}}var ou="never",an="always",au="observed";function su(e){e.isolateGlobalState===!0&&Vl();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(m.useProxies=t===an?!0:t===ou?!1:typeof Proxy<"u"),t==="ifavailable"&&(m.verifyProxies=!0),n!==void 0){var r=n===an?an:n===au;m.enforceActions=r,m.allowStateChanges=!(r===!0||r===an)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(i){i in e&&(m[i]=!!e[i])}),m.allowStateReads=!m.observableRequiresReaction,e.reactionScheduler&&ql(e.reactionScheduler)}function Ua(e,t,n,r){var i=Uc(t);return He(function(){var o=it(e,r)[b];ft(i).forEach(function(a){o.extend_(a,i[a],n&&a in n?n[a]:!0)})}),e}function cu(e,t){return za(An(e,t))}function za(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=lu(e.observing_).map(za)),t}function lu(e){return Array.from(new Set(e))}var uu=0;function Wa(){this.message="FLOW_CANCELLED"}Wa.prototype=Object.create(Error.prototype);var Xn=ya("flow"),hu=ya("flow.bound",{bound:!0}),gt=Object.assign(function(t,n){if(Wt(n))return Xn.decorate_20223_(t,n);if(Ge(n))return zt(t,n,Xn);var r=t,i=r.name||"<unnamed flow>",o=function(){var c=this,l=arguments,u=++uu,h=ze(i+" - runid: "+u+" - init",r).apply(c,l),d,_=void 0,f=new Promise(function(R,j){var w=0;d=j;function S(V){_=void 0;var N;try{N=ze(i+" - runid: "+u+" - yield "+w++,h.next).call(h,V)}catch(z){return j(z)}I(N)}function E(V){_=void 0;var N;try{N=ze(i+" - runid: "+u+" - yield "+w++,h.throw).call(h,V)}catch(z){return j(z)}I(N)}function I(V){if(me(V==null?void 0:V.then)){V.then(I,j);return}return V.done?R(V.value):(_=Promise.resolve(V.value),_.then(S,E))}S(void 0)});return f.cancel=ze(i+" - runid: "+u+" - cancel",function(){try{_&&Ki(_);var R=h.return(void 0),j=Promise.resolve(R.value);j.then(ct,ct),Ki(j),d(new Wa)}catch(w){d(w)}}),f};return o.isMobXFlow=!0,o},Xn);gt.bound=ke(hu);function Ki(e){me(e.cancel)&&e.cancel()}function Bt(e){return(e==null?void 0:e.isMobXFlow)===!0}function du(e,t){return e?Un(e)||!!e[b]||qr(e)||Sn(e)||Vn(e):!1}function Ga(e){return du(e)}function xe(e,t){t===void 0&&(t=void 0),le();try{return e.apply(t)}finally{ue()}}function st(e){return e[b]}var _u={has:function(t,n){return st(t).has_(n)},get:function(t,n){return st(t).get_(n)},set:function(t,n,r){var i;return Ge(n)?(i=st(t).set_(n,r,!0))!=null?i:!0:!1},deleteProperty:function(t,n){var r;return Ge(n)?(r=st(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var i;return(i=st(t).defineProperty_(n,r))!=null?i:!0},ownKeys:function(t){return st(t).ownKeys_()},preventExtensions:function(t){M(13)}};function fu(e,t){var n,r;return ua(),e=it(e,t),(r=(n=e[b]).proxy_)!=null?r:n.proxy_=new Proxy(e,_u)}function se(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function qt(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),ha(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function ce(e,t){var n=nt();try{for(var r=[].concat(e.interceptors_||[]),i=0,o=r.length;i<o&&(t=r[i](t),t&&!t.type&&M(14),!!t);i++);return t}finally{Re(n)}}function fe(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function Kt(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),ha(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function ge(e,t){var n=nt(),r=e.changeListeners_;if(r){r=r.slice();for(var i=0,o=r.length;i<o;i++)r[i](t);Re(n)}}function gu(e,t,n){return He(function(){var r,i=it(e,n)[b];(r=t)!=null||(t=Kc(e)),ft(t).forEach(function(o){return i.make_(o,t[o])})}),e}var Zn=Symbol("mobx-keys");function he(e,t,n){return Me(e)?Ua(e,e,t,n):(He(function(){var r=it(e,n)[b];if(!e[Zn]){var i=Object.getPrototypeOf(e),o=new Set([].concat(ft(e),ft(i)));o.delete("constructor"),o.delete(b),Ut(i,Zn,o)}e[Zn].forEach(function(a){return r.make_(a,t&&a in t?t[a]:!0)})}),e)}var Yi="splice",Oe="update",mu=1e4,pu={get:function(t,n){var r=t[b];return n===b?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):$e(kn,n)?kn[n]:t[n]},set:function(t,n,r){var i=t[b];return n==="length"&&i.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:i.set_(parseInt(n),r),!0},preventExtensions:function(){M(15)}},Zr=function(){function e(n,r,i,o){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=o,this.atom_=new Le(n),this.enhancer_=function(a,c){return r(a,c,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return qt(this,r)},t.observe_=function(r,i){return i===void 0&&(i=!1),i&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Kt(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&M("Out of range: "+r);var i=this.values_.length;if(r!==i)if(r>i){for(var o=new Array(r-i),a=0;a<r-i;a++)o[a]=void 0;this.spliceWithArray_(i,0,o)}else this.spliceWithArray_(r,i-r)},t.updateArrayLength_=function(r,i){r!==this.lastKnownLength_&&M(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&Qa(r+i+1)},t.spliceWithArray_=function(r,i,o){var a=this;this.atom_;var c=this.values_.length;if(r===void 0?r=0:r>c?r=c:r<0&&(r=Math.max(0,c+r)),arguments.length===1?i=c-r:i==null?i=0:i=Math.max(0,Math.min(i,c-r)),o===void 0&&(o=pr),se(this)){var l=ce(this,{object:this.proxy_,type:Yi,index:r,removedCount:i,added:o});if(!l)return pr;i=l.removedCount,o=l.added}if(o=o.length===0?o:o.map(function(d){return a.enhancer_(d,void 0)}),this.legacyMode_){var u=o.length-i;this.updateArrayLength_(c,u)}var h=this.spliceItemsIntoValues_(r,i,o);return(i!==0||o.length!==0)&&this.notifyArraySplice_(r,o,h),this.dehanceValues_(h)},t.spliceItemsIntoValues_=function(r,i,o){if(o.length<mu){var a;return(a=this.values_).splice.apply(a,[r,i].concat(o))}else{var c=this.values_.slice(r,r+i),l=this.values_.slice(r+i);this.values_.length+=o.length-i;for(var u=0;u<o.length;u++)this.values_[r+u]=o[u];for(var h=0;h<l.length;h++)this.values_[r+o.length+h]=l[h];return c}},t.notifyArrayChildUpdate_=function(r,i,o){var a=!this.owned_&&Rt(),c=fe(this),l=c||a?{observableKind:"array",object:this.proxy_,type:Oe,debugObjectName:this.atom_.name_,index:r,newValue:i,oldValue:o}:null;this.atom_.reportChanged(),c&&ge(this,l)},t.notifyArraySplice_=function(r,i,o){var a=!this.owned_&&Rt(),c=fe(this),l=c||a?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Yi,index:r,removed:o,added:i,removedCount:o.length,addedCount:i.length}:null;this.atom_.reportChanged(),c&&ge(this,l)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,i){var o=this.values_;if(this.legacyMode_&&r>o.length&&M(17,r,o.length),r<o.length){this.atom_;var a=o[r];if(se(this)){var c=ce(this,{type:Oe,object:this.proxy_,index:r,newValue:i});if(!c)return;i=c.newValue}i=this.enhancer_(i,a);var l=i!==a;l&&(o[r]=i,this.notifyArrayChildUpdate_(r,i,a))}else{for(var u=new Array(r+1-o.length),h=0;h<u.length-1;h++)u[h]=void 0;u[u.length-1]=i,this.spliceWithArray_(o.length,0,u)}},e}();function vu(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),ua(),He(function(){var i=new Zr(n,t,r,!1);_a(i.values_,b,i);var o=new Proxy(i.values_,pu);return i.proxy_=o,e&&e.length&&i.spliceWithArray_(0,0,e),o})}var kn={clear:function(){return this.splice(0)},replace:function(t){var n=this[b];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var a=this[b];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(t);case 2:return a.spliceWithArray_(t,n)}return a.spliceWithArray_(t,n,i)},spliceWithArray:function(t,n,r){return this[b].spliceWithArray_(t,n,r)},push:function(){for(var t=this[b],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[b].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[b],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return m.trackingDerivation&&M(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){m.trackingDerivation&&M(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[b],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};F("at",ae);F("concat",ae);F("flat",ae);F("includes",ae);F("indexOf",ae);F("join",ae);F("lastIndexOf",ae);F("slice",ae);F("toString",ae);F("toLocaleString",ae);F("toSorted",ae);F("toSpliced",ae);F("with",ae);F("every",ve);F("filter",ve);F("find",ve);F("findIndex",ve);F("findLast",ve);F("findLastIndex",ve);F("flatMap",ve);F("forEach",ve);F("map",ve);F("some",ve);F("toReversed",ve);F("reduce",qa);F("reduceRight",qa);function F(e,t){typeof Array.prototype[e]=="function"&&(kn[e]=t(e))}function ae(e){return function(){var t=this[b];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function ve(e){return function(t,n){var r=this,i=this[b];i.atom_.reportObserved();var o=i.dehanceValues_(i.values_);return o[e](function(a,c){return t.call(n,a,c,r)})}}function qa(e){return function(){var t=this,n=this[b];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(o,a,c){return i(o,a,c,t)},r[e].apply(r,arguments)}}var yu=tt("ObservableArrayAdministration",Zr);function Fn(e){return Bn(e)&&yu(e[b])}var bu={},Be="add",On="delete",Ka=function(){function e(n,r,i){var o=this;r===void 0&&(r=Ke),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[b]=bu,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=i,me(Map)||M(18),He(function(){o.keysAtom_=pa("ObservableMap.keys()"),o.data_=new Map,o.hasMap_=new Map,n&&o.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var i=this;if(!m.trackingDerivation)return this.has_(r);var o=this.hasMap_.get(r);if(!o){var a=o=new We(this.has_(r),In,"ObservableMap.key?",!1);this.hasMap_.set(r,a),Va(a,function(){return i.hasMap_.delete(r)})}return o.get()},t.set=function(r,i){var o=this.has_(r);if(se(this)){var a=ce(this,{type:o?Oe:Be,object:this,newValue:i,name:r});if(!a)return this;i=a.newValue}return o?this.updateValue_(r,i):this.addValue_(r,i),this},t.delete=function(r){var i=this;if(this.keysAtom_,se(this)){var o=ce(this,{type:On,object:this,name:r});if(!o)return!1}if(this.has_(r)){var a=Rt(),c=fe(this),l=c||a?{observableKind:"map",debugObjectName:this.name_,type:On,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return xe(function(){var u;i.keysAtom_.reportChanged(),(u=i.hasMap_.get(r))==null||u.setNewValue_(!1);var h=i.data_.get(r);h.setNewValue_(void 0),i.data_.delete(r)}),c&&ge(this,l),!0}return!1},t.updateValue_=function(r,i){var o=this.data_.get(r);if(i=o.prepareNewValue_(i),i!==m.UNCHANGED){var a=Rt(),c=fe(this),l=c||a?{observableKind:"map",debugObjectName:this.name_,type:Oe,object:this,oldValue:o.value_,name:r,newValue:i}:null;o.setNewValue_(i),c&&ge(this,l)}},t.addValue_=function(r,i){var o=this;this.keysAtom_,xe(function(){var u,h=new We(i,o.enhancer_,"ObservableMap.key",!1);o.data_.set(r,h),i=h.value_,(u=o.hasMap_.get(r))==null||u.setNewValue_(!0),o.keysAtom_.reportChanged()});var a=Rt(),c=fe(this),l=c||a?{observableKind:"map",debugObjectName:this.name_,type:Be,object:this,name:r,newValue:i}:null;c&&ge(this,l)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,i=this.keys();return Ji({next:function(){var a=i.next(),c=a.done,l=a.value;return{done:c,value:c?void 0:r.get(l)}}})},t.entries=function(){var r=this,i=this.keys();return Ji({next:function(){var a=i.next(),c=a.done,l=a.value;return{done:c,value:c?void 0:[l,r.get(l)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,i){for(var o=lt(this),a;!(a=o()).done;){var c=a.value,l=c[0],u=c[1];r.call(i,u,l,this)}},t.merge=function(r){var i=this;return rt(r)&&(r=new Map(r)),xe(function(){Me(r)?Fc(r).forEach(function(o){return i.set(o,r[o])}):Array.isArray(r)?r.forEach(function(o){var a=o[0],c=o[1];return i.set(a,c)}):bt(r)?(Vc(r)||M(19,r),r.forEach(function(o,a){return i.set(a,o)})):r!=null&&M(20,r)}),this},t.clear=function(){var r=this;xe(function(){xa(function(){for(var i=lt(r.keys()),o;!(o=i()).done;){var a=o.value;r.delete(a)}})})},t.replace=function(r){var i=this;return xe(function(){for(var o=wu(r),a=new Map,c=!1,l=lt(i.data_.keys()),u;!(u=l()).done;){var h=u.value;if(!o.has(h)){var d=i.delete(h);if(d)c=!0;else{var _=i.data_.get(h);a.set(h,_)}}}for(var f=lt(o.entries()),R;!(R=f()).done;){var j=R.value,w=j[0],S=j[1],E=i.data_.has(w);if(i.set(w,S),i.data_.has(w)){var I=i.data_.get(w);a.set(w,I),E||(c=!0)}}if(!c)if(i.data_.size!==a.size)i.keysAtom_.reportChanged();else for(var V=i.data_.keys(),N=a.keys(),z=V.next(),X=N.next();!z.done;){if(z.value!==X.value){i.keysAtom_.reportChanged();break}z=V.next(),X=N.next()}i.data_=a}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,i){return Kt(this,r)},t.intercept_=function(r){return qt(this,r)},wt(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),rt=tt("ObservableMap",Ka);function Ji(e){return e[Symbol.toStringTag]="MapIterator",ti(e)}function wu(e){if(bt(e)||rt(e))return e;if(Array.isArray(e))return new Map(e);if(Me(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return M(21,e)}var Su={},Ya=function(){function e(n,r,i){var o=this;r===void 0&&(r=Ke),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[b]=Su,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,me(Set)||M(22),this.enhancer_=function(a,c){return r(a,c,i)},He(function(){o.atom_=pa(o.name_),n&&o.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;xe(function(){xa(function(){for(var i=lt(r.data_.values()),o;!(o=i()).done;){var a=o.value;r.delete(a)}})})},t.forEach=function(r,i){for(var o=lt(this),a;!(a=o()).done;){var c=a.value;r.call(i,c,c,this)}},t.add=function(r){var i=this;if(this.atom_,se(this)){var o=ce(this,{type:Be,object:this,newValue:r});if(!o)return this}if(!this.has(r)){xe(function(){i.data_.add(i.enhancer_(r,void 0)),i.atom_.reportChanged()});var a=!1,c=fe(this),l=c||a?{observableKind:"set",debugObjectName:this.name_,type:Be,object:this,newValue:r}:null;c&&ge(this,l)}return this},t.delete=function(r){var i=this;if(se(this)){var o=ce(this,{type:On,object:this,oldValue:r});if(!o)return!1}if(this.has(r)){var a=!1,c=fe(this),l=c||a?{observableKind:"set",debugObjectName:this.name_,type:On,object:this,oldValue:r}:null;return xe(function(){i.atom_.reportChanged(),i.data_.delete(r)}),c&&ge(this,l),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=0,i=Array.from(this.keys()),o=Array.from(this.values());return Xi({next:function(){var c=r;return r+=1,c<o.length?{value:[i[c],o[c]],done:!1}:{value:void 0,done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,i=0,o=Array.from(this.data_.values());return Xi({next:function(){return i<o.length?{value:r.dehanceValue_(o[i++]),done:!1}:{value:void 0,done:!0}}})},t.intersection=function(r){if(Ee(r)&&!be(r))return r.intersection(this);var i=new Set(this);return i.intersection(r)},t.union=function(r){if(Ee(r)&&!be(r))return r.union(this);var i=new Set(this);return i.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(Ee(r)&&!be(r))return r.symmetricDifference(this);var i=new Set(this);return i.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(Ee(r)&&!be(r))return r.isDisjointFrom(this);var i=new Set(this);return i.isDisjointFrom(r)},t.replace=function(r){var i=this;return be(r)&&(r=new Set(r)),xe(function(){Array.isArray(r)?(i.clear(),r.forEach(function(o){return i.add(o)})):Ee(r)?(i.clear(),r.forEach(function(o){return i.add(o)})):r!=null&&M("Cannot initialize set from "+r)}),this},t.observe_=function(r,i){return Kt(this,r)},t.intercept_=function(r){return qt(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},wt(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),be=tt("ObservableSet",Ya);function Xi(e){return e[Symbol.toStringTag]="SetIterator",ti(e)}var Zi=Object.create(null),Qi="remove",Ja=function(){function e(n,r,i,o){r===void 0&&(r=new Map),o===void 0&&(o=bl),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=i,this.defaultAnnotation_=o,this.keysAtom_=new Le("ObservableObject.keys"),this.isPlainObject_=Me(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,i){var o=this.values_.get(r);if(o instanceof pe)return o.set(i),!0;if(se(this)){var a=ce(this,{type:Oe,object:this.proxy_||this.target_,name:r,newValue:i});if(!a)return null;i=a.newValue}if(i=o.prepareNewValue_(i),i!==m.UNCHANGED){var c=fe(this),l=!1,u=c||l?{type:Oe,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:o.value_,name:r,newValue:i}:null;o.setNewValue_(i),c&&ge(this,u)}return!0},t.get_=function(r){return m.trackingDerivation&&!$e(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,i,o){return o===void 0&&(o=!1),$e(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,i):o?Reflect.set(this.target_,r,i):(this.target_[r]=i,!0):this.extend_(r,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,o)},t.has_=function(r){if(!m.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(r);return i||(i=new We(r in this.target_,In,"ObservableObject.key?",!1),this.pendingKeys_.set(r,i)),i.get()},t.make_=function(r,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(r in this.target_)){var o;if((o=this.target_[we])!=null&&o[r])return;M(1,i.annotationType_,this.name_+"."+r.toString())}for(var a=this.target_;a&&a!==jn;){var c=pn(a,r);if(c){var l=i.make_(this,r,c,a);if(l===0)return;if(l===1)break}a=Object.getPrototypeOf(a)}to(this,i,r)}},t.extend_=function(r,i,o,a){if(a===void 0&&(a=!1),o===!0&&(o=this.defaultAnnotation_),o===!1)return this.defineProperty_(r,i,a);var c=o.extend_(this,r,i,a);return c&&to(this,o,r),c},t.defineProperty_=function(r,i,o){o===void 0&&(o=!1),this.keysAtom_;try{le();var a=this.delete_(r);if(!a)return a;if(se(this)){var c=ce(this,{object:this.proxy_||this.target_,name:r,type:Be,newValue:i.value});if(!c)return null;var l=c.newValue;i.value!==l&&(i=qe({},i,{value:l}))}if(o){if(!Reflect.defineProperty(this.target_,r,i))return!1}else Se(this.target_,r,i);this.notifyPropertyAddition_(r,i.value)}finally{ue()}return!0},t.defineObservableProperty_=function(r,i,o,a){a===void 0&&(a=!1),this.keysAtom_;try{le();var c=this.delete_(r);if(!c)return c;if(se(this)){var l=ce(this,{object:this.proxy_||this.target_,name:r,type:Be,newValue:i});if(!l)return null;i=l.newValue}var u=eo(r),h={configurable:m.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(a){if(!Reflect.defineProperty(this.target_,r,h))return!1}else Se(this.target_,r,h);var d=new We(i,o,"ObservableObject.key",!1);this.values_.set(r,d),this.notifyPropertyAddition_(r,d.value_)}finally{ue()}return!0},t.defineComputedProperty_=function(r,i,o){o===void 0&&(o=!1),this.keysAtom_;try{le();var a=this.delete_(r);if(!a)return a;if(se(this)){var c=ce(this,{object:this.proxy_||this.target_,name:r,type:Be,newValue:void 0});if(!c)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var l=eo(r),u={configurable:m.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(o){if(!Reflect.defineProperty(this.target_,r,u))return!1}else Se(this.target_,r,u);this.values_.set(r,new pe(i)),this.notifyPropertyAddition_(r,void 0)}finally{ue()}return!0},t.delete_=function(r,i){if(i===void 0&&(i=!1),this.keysAtom_,!$e(this.target_,r))return!0;if(se(this)){var o=ce(this,{object:this.proxy_||this.target_,name:r,type:Qi});if(!o)return null}try{var a;le();var c=fe(this),l=!1,u=this.values_.get(r),h=void 0;if(!u&&(c||l)){var d;h=(d=pn(this.target_,r))==null?void 0:d.value}if(i){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof We&&(h=u.value_),Ma(u)),this.keysAtom_.reportChanged(),(a=this.pendingKeys_)==null||(a=a.get(r))==null||a.set(r in this.target_),c||l){var _={type:Qi,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:h,name:r};c&&ge(this,_)}}finally{ue()}return!0},t.observe_=function(r,i){return Kt(this,r)},t.intercept_=function(r){return qt(this,r)},t.notifyPropertyAddition_=function(r,i){var o,a=fe(this),c=!1;if(a||c){var l=a||c?{type:Be,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:i}:null;a&&ge(this,l)}(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),ft(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function it(e,t){var n;if($e(e,b))return e;var r=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",i=new Ja(e,new Map,String(r),Rl(t));return Ut(e,b,i),e}var ku=tt("ObservableObjectAdministration",Ja);function eo(e){return Zi[e]||(Zi[e]={get:function(){return this[b].getObservablePropValue_(e)},set:function(n){return this[b].setObservablePropValue_(e,n)}})}function Un(e){return Bn(e)?ku(e[b]):!1}function to(e,t,n){var r;(r=e.target_[we])==null||delete r[n]}var Ou=Za(0),Au=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),Qn=0,Xa=function(){};function Cu(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}Cu(Xa,Array.prototype);var Qr=function(e){function t(r,i,o,a){var c;return o===void 0&&(o="ObservableArray"),a===void 0&&(a=!1),c=e.call(this)||this,He(function(){var l=new Zr(o,i,a,!0);l.proxy_=c,_a(c,b,l),r&&r.length&&c.spliceWithArray(0,0,r),Au&&Object.defineProperty(c,"0",Ou)}),c}ma(t,e);var n=t.prototype;return n.concat=function(){this[b].atom_.reportObserved();for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return Array.prototype.concat.apply(this.slice(),o.map(function(c){return Fn(c)?c.slice():c}))},n[Symbol.iterator]=function(){var r=this,i=0;return ti({next:function(){return i<r.length?{value:r[i++],done:!1}:{done:!0,value:void 0}}})},wt(t,[{key:"length",get:function(){return this[b].getArrayLength_()},set:function(i){this[b].setArrayLength_(i)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(Xa);Object.entries(kn).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&Ut(Qr.prototype,t,n)});function Za(e){return{enumerable:!1,configurable:!0,get:function(){return this[b].get_(e)},set:function(n){this[b].set_(e,n)}}}function Eu(e){Se(Qr.prototype,""+e,Za(e))}function Qa(e){if(e>Qn){for(var t=Qn;t<e+100;t++)Eu(t);Qn=e}}Qa(1e3);function xu(e,t,n){return new Qr(e,t,n)}function An(e,t){if(typeof e=="object"&&e!==null){if(Fn(e))return t!==void 0&&M(23),e[b].atom_;if(be(e))return e.atom_;if(rt(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||M(25,t,Cr(e)),n}if(Un(e)){if(!t)return M(26);var r=e[b].values_.get(t);return r||M(27,t,Cr(e)),r}if(qr(e)||Vn(e)||Sn(e))return e}else if(me(e)&&Sn(e[b]))return e[b];M(28)}function Du(e,t){if(e||M(29),qr(e)||Vn(e)||Sn(e)||rt(e)||be(e))return e;if(e[b])return e[b];M(24,e)}function Cr(e,t){var n;if(t!==void 0)n=An(e,t);else{if(jt(e))return e.name;Un(e)||rt(e)||be(e)?n=Du(e):n=An(e)}return n.name_}function He(e){var t=nt(),n=Yr(!0);le();try{return e()}finally{ue(),Jr(n),Re(t)}}var no=jn.toString;function ei(e,t,n){return n===void 0&&(n=-1),Er(e,t,n)}function Er(e,t,n,r,i){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var o=typeof e;if(o!=="function"&&o!=="object"&&typeof t!="object")return!1;var a=no.call(e);if(a!==no.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=ro(e),t=ro(t);var c=a==="[object Array]";if(!c){if(typeof e!="object"||typeof t!="object")return!1;var l=e.constructor,u=t.constructor;if(l!==u&&!(me(l)&&l instanceof l&&me(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],i=i||[];for(var h=r.length;h--;)if(r[h]===e)return i[h]===t;if(r.push(e),i.push(t),c){if(h=e.length,h!==t.length)return!1;for(;h--;)if(!Er(e[h],t[h],n-1,r,i))return!1}else{var d=Object.keys(e),_;if(h=d.length,Object.keys(t).length!==h)return!1;for(;h--;)if(_=d[h],!($e(t,_)&&Er(e[_],t[_],n-1,r,i)))return!1}return r.pop(),i.pop(),!0}function ro(e){return Fn(e)?e.slice():bt(e)||rt(e)||Ee(e)||be(e)?Array.from(e.entries()):e}var io,$u=((io=Tn().Iterator)==null?void 0:io.prototype)||{};function ti(e){return e[Symbol.iterator]=Ru,Object.assign(Object.create($u),e)}function Ru(){return this}["Symbol","Map","Set"].forEach(function(e){var t=Tn();typeof t[e]>"u"&&M("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Kl,extras:{getDebugName:Cr},$mobx:b});const Pu=(e,t)=>{const n=e.getBoundingClientRect();return t.clientX>n.x&&t.clientX<n.x+n.width&&t.clientY>n.y&&t.clientY<n.y+n.height},Je=e=>JSON.parse(JSON.stringify(e)),Nu=navigator.userAgent.toLowerCase().includes("firefox"),Mu=e=>typeof e=="string"||e instanceof String,Tu=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,_n=e=>!!(e&&e.match(Tu)),ju=(e,t)=>e.reduce((n,r)=>((n.length===0||n[n.length-1].length===t)&&n.push([]),n[n.length-1].push(r),n),[]),es=(e,t)=>{if(!e||!t)return null;const n=(t-e)/1e3;return n<0?"":n<60?`${Math.floor(n)} sec ago`:n<3600?`${Math.floor(n/60)} min ago`:n<172800?`${Math.floor(n/3600)} hr ago`:`${Math.floor(n/86400)} days ago`},y=(e,t)=>p(ze(e),t),zn=(e,t)=>G(()=>{const n=r=>{e.current&&!e.current.contains(r.target)&&t()};return window.addEventListener("mousedown",n),()=>window.removeEventListener("mousedown",n)},[e,t]),ts=()=>{const[e,t]=$(null);return G(()=>{t(Date.now());const n=setInterval(()=>t(Date.now()),1e3);return()=>clearInterval(n)},[t]),e},ns=e=>G(()=>(window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)),[e]);var rs={exports:{}};(function(e,t){(function(n,r){r()})(At,function(){function n(u,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,h,d){var _=new XMLHttpRequest;_.open("GET",u),_.responseType="blob",_.onload=function(){l(_.response,h,d)},_.onerror=function(){console.error("could not download file")},_.send()}function i(u){var h=new XMLHttpRequest;h.open("HEAD",u,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function o(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(h)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof At=="object"&&At.global===At?At:void 0,c=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(u,h,d){var _=a.URL||a.webkitURL,f=document.createElement("a");h=h||u.name||"download",f.download=h,f.rel="noopener",typeof u=="string"?(f.href=u,f.origin===location.origin?o(f):i(f.href)?r(u,h,d):o(f,f.target="_blank")):(f.href=_.createObjectURL(u),setTimeout(function(){_.revokeObjectURL(f.href)},4e4),setTimeout(function(){o(f)},0))}:"msSaveOrOpenBlob"in navigator?function(u,h,d){if(h=h||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,d),h);else if(i(u))r(u,h,d);else{var _=document.createElement("a");_.href=u,_.target="_blank",setTimeout(function(){o(_)})}}:function(u,h,d,_){if(_=_||open("","_blank"),_&&(_.document.title=_.document.body.innerText="downloading..."),typeof u=="string")return r(u,h,d);var f=u.type==="application/octet-stream",R=/constructor/i.test(a.HTMLElement)||a.safari,j=/CriOS\/[\d]+/.test(navigator.userAgent);if((j||f&&R||c)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var I=w.result;I=j?I:I.replace(/^data:[^;]*;/,"data:attachment/file;"),_?_.location.href=I:location=I,_=null},w.readAsDataURL(u)}else{var S=a.URL||a.webkitURL,E=S.createObjectURL(u);_?_.location=E:location.href=E,_=null,setTimeout(function(){S.revokeObjectURL(E)},4e4)}});a.saveAs=l.saveAs=l,e.exports=l})})(rs);var Bu=rs.exports;function Iu(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}const Lu=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Pe(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}function Cn(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function Hu(e){const t=Cn(e,"border-left-width"),n=Cn(e,"border-right-width");return e.clientWidth+t+n}function Vu(e){const t=Cn(e,"border-top-width"),n=Cn(e,"border-bottom-width");return e.clientHeight+t+n}function is(e,t={}){const n=t.width||Hu(e),r=t.height||Vu(e);return{width:n,height:r}}function Fu(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const re=16384;function Uu(e){(e.width>re||e.height>re)&&(e.width>re&&e.height>re?e.width>e.height?(e.height*=re/e.width,e.width=re):(e.width*=re/e.height,e.height=re):e.width>re?(e.height*=re/e.width,e.width=re):(e.width*=re/e.height,e.height=re))}function zu(e,t={}){return e.toBlob?new Promise(n=>{e.toBlob(n,t.type?t.type:"image/png",t.quality?t.quality:1)}):new Promise(n=>{const r=window.atob(e.toDataURL(t.type?t.type:void 0,t.quality?t.quality:void 0).split(",")[1]),i=r.length,o=new Uint8Array(i);for(let a=0;a<i;a+=1)o[a]=r.charCodeAt(a);n(new Blob([o],{type:t.type?t.type:"image/png"}))})}function En(e){return new Promise((t,n)=>{const r=new Image;r.decode=()=>t(r),r.onload=()=>t(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function Wu(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Gu(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),o=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),i.appendChild(o),o.appendChild(e),Wu(i)}const ee=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||ee(n,t)};function qu(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Ku(e){return Pe(e).map(t=>{const n=e.getPropertyValue(t),r=e.getPropertyPriority(t);return`${t}: ${n}${r?" !important":""};`}).join(" ")}function Yu(e,t,n){const r=`.${e}:${t}`,i=n.cssText?qu(n):Ku(n);return document.createTextNode(`${r}{${i}}`)}function oo(e,t,n){const r=window.getComputedStyle(e,n),i=r.getPropertyValue("content");if(i===""||i==="none")return;const o=Lu();try{t.className=`${t.className} ${o}`}catch{return}const a=document.createElement("style");a.appendChild(Yu(o,n,r)),t.appendChild(a)}function Ju(e,t){oo(e,t,":before"),oo(e,t,":after")}const ao="application/font-woff",so="image/jpeg",Xu={woff:ao,woff2:ao,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:so,jpeg:so,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Zu(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function ni(e){const t=Zu(e).toLowerCase();return Xu[t]||""}function Qu(e){return e.split(/,/)[1]}function xr(e){return e.search(/^(data:)/)!==-1}function eh(e,t){return`data:${t};base64,${e}`}async function os(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((o,a)=>{const c=new FileReader;c.onerror=a,c.onloadend=()=>{try{o(n({res:r,result:c.result}))}catch(l){a(l)}},c.readAsDataURL(i)})}const er={};function th(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function ri(e,t,n){const r=th(e,t,n.includeQueryParams);if(er[r]!=null)return er[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const o=await os(e,n.fetchRequestInit,({res:a,result:c})=>(t||(t=a.headers.get("Content-Type")||""),Qu(c)));i=eh(o,t)}catch(o){i=n.imagePlaceholder||"";let a=`Failed to fetch resource: ${e}`;o&&(a=typeof o=="string"?o:o.message),a&&console.warn(a)}return er[r]=i,i}async function nh(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):En(t)}async function rh(e,t){if(e.currentSrc){const o=document.createElement("canvas"),a=o.getContext("2d");o.width=e.clientWidth,o.height=e.clientHeight,a==null||a.drawImage(e,0,0,o.width,o.height);const c=o.toDataURL();return En(c)}const n=e.poster,r=ni(n),i=await ri(n,r,t);return En(i)}async function ih(e){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await Wn(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function oh(e,t){return ee(e,HTMLCanvasElement)?nh(e):ee(e,HTMLVideoElement)?rh(e,t):ee(e,HTMLIFrameElement)?ih(e):e.cloneNode(!1)}const ah=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function sh(e,t,n){var r,i;let o=[];return ah(e)&&e.assignedNodes?o=Pe(e.assignedNodes()):ee(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?o=Pe(e.contentDocument.body.childNodes):o=Pe(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),o.length===0||ee(e,HTMLVideoElement)||await o.reduce((a,c)=>a.then(()=>Wn(c,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function ch(e,t){const n=t.style;if(!n)return;const r=window.getComputedStyle(e);r.cssText?(n.cssText=r.cssText,n.transformOrigin=r.transformOrigin):Pe(r).forEach(i=>{let o=r.getPropertyValue(i);i==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),ee(e,HTMLIFrameElement)&&i==="display"&&o==="inline"&&(o="block"),i==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),n.setProperty(i,o,r.getPropertyPriority(i))})}function lh(e,t){ee(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),ee(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function uh(e,t){if(ee(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function hh(e,t){return ee(t,Element)&&(ch(e,t),Ju(e,t),lh(e,t),uh(e,t)),t}async function dh(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let o=0;o<n.length;o++){const c=n[o].getAttribute("xlink:href");if(c){const l=e.querySelector(c),u=document.querySelector(c);!l&&u&&!r[c]&&(r[c]=await Wn(u,t,!0))}}const i=Object.values(r);if(i.length){const o="http://www.w3.org/1999/xhtml",a=document.createElementNS(o,"svg");a.setAttribute("xmlns",o),a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.display="none";const c=document.createElementNS(o,"defs");a.appendChild(c);for(let l=0;l<i.length;l++)c.appendChild(i[l]);e.appendChild(a)}return e}async function Wn(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>oh(r,t)).then(r=>sh(e,r,t)).then(r=>hh(e,r)).then(r=>dh(r,t))}const as=/url\((['"]?)([^'"]+?)\1\)/g,_h=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,fh=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function gh(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function mh(e){const t=[];return e.replace(as,(n,r,i)=>(t.push(i),n)),t.filter(n=>!xr(n))}async function ph(e,t,n,r,i){try{const o=n?Iu(t,n):t,a=ni(t);let c;return i||(c=await ri(o,a,r)),e.replace(gh(t),`$1${c}$3`)}catch{}return e}function vh(e,{preferredFontFormat:t}){return t?e.replace(fh,n=>{for(;;){const[r,,i]=_h.exec(n)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function ss(e){return e.search(as)!==-1}async function cs(e,t,n){if(!ss(e))return e;const r=vh(e,n);return mh(r).reduce((o,a)=>o.then(c=>ph(c,a,t,n)),Promise.resolve(r))}async function sn(e,t,n){var r;const i=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(i){const o=await cs(i,null,n);return t.style.setProperty(e,o,t.style.getPropertyPriority(e)),!0}return!1}async function yh(e,t){await sn("background",e,t)||await sn("background-image",e,t),await sn("mask",e,t)||await sn("mask-image",e,t)}async function bh(e,t){const n=ee(e,HTMLImageElement);if(!(n&&!xr(e.src))&&!(ee(e,SVGImageElement)&&!xr(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,i=await ri(r,ni(r),t);await new Promise((o,a)=>{e.onload=o,e.onerror=a;const c=e;c.decode&&(c.decode=o),c.loading==="lazy"&&(c.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function wh(e,t){const r=Pe(e.childNodes).map(i=>ls(i,t));await Promise.all(r).then(()=>e)}async function ls(e,t){ee(e,Element)&&(await yh(e,t),await bh(e,t),await wh(e,t))}function Sh(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),e}const co={};async function lo(e){let t=co[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},co[e]=t,t}async function uo(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map(async a=>{let c=a.replace(r,"$1");return c.startsWith("https://")||(c=new URL(c,e.url).href),os(c,t.fetchRequestInit,({result:l})=>(n=n.replace(a,`url(${l})`),[a,l]))});return Promise.all(o).then(()=>n)}function ho(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(i,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",c=new RegExp(a,"gi");for(;;){let l=o.exec(r);if(l===null){if(l=c.exec(r),l===null)break;o.lastIndex=c.lastIndex}else c.lastIndex=o.lastIndex;t.push(l[0])}return t}async function kh(e,t){const n=[],r=[];return e.forEach(i=>{if("cssRules"in i)try{Pe(i.cssRules||[]).forEach((o,a)=>{if(o.type===CSSRule.IMPORT_RULE){let c=a+1;const l=o.href,u=lo(l).then(h=>uo(h,t)).then(h=>ho(h).forEach(d=>{try{i.insertRule(d,d.startsWith("@import")?c+=1:i.cssRules.length)}catch(_){console.error("Error inserting rule from remote css",{rule:d,error:_})}})).catch(h=>{console.error("Error loading remote css",h.toString())});r.push(u)}})}catch(o){const a=e.find(c=>c.href==null)||document.styleSheets[0];i.href!=null&&r.push(lo(i.href).then(c=>uo(c,t)).then(c=>ho(c).forEach(l=>{a.insertRule(l,i.cssRules.length)})).catch(c=>{console.error("Error loading remote stylesheet",c)})),console.error("Error inlining remote css file",o)}}),Promise.all(r).then(()=>(e.forEach(i=>{if("cssRules"in i)try{Pe(i.cssRules||[]).forEach(o=>{n.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${i.href}`,o)}}),n))}function Oh(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>ss(t.style.getPropertyValue("src")))}async function Ah(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Pe(e.ownerDocument.styleSheets),r=await kh(n,t);return Oh(r)}async function Ch(e,t){const n=await Ah(e,t);return(await Promise.all(n.map(i=>{const o=i.parentStyleSheet?i.parentStyleSheet.href:null;return cs(i.cssText,o,t)}))).join(`
`)}async function Eh(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await Ch(e,t);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function xh(e,t={}){const{width:n,height:r}=is(e,t),i=await Wn(e,t,!0);return await Eh(i,t),await ls(i,t),Sh(i,t),await Gu(i,n,r)}async function us(e,t={}){const{width:n,height:r}=is(e,t),i=await xh(e,t),o=await En(i),a=document.createElement("canvas"),c=a.getContext("2d"),l=t.pixelRatio||Fu(),u=t.canvasWidth||n,h=t.canvasHeight||r;return a.width=u*l,a.height=h*l,t.skipAutoScale||Uu(a),a.style.width=`${u}`,a.style.height=`${h}`,t.backgroundColor&&(c.fillStyle=t.backgroundColor,c.fillRect(0,0,a.width,a.height)),c.drawImage(o,0,0,a.width,a.height),a}async function Dh(e,t={}){return(await us(e,t)).toDataURL()}async function $h(e,t={}){const n=await us(e,t);return await zu(n)}function Dr(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function xn(e,t){this.props=e,this.context=t}function It(e,t){function n(i){var o=this.props.ref,a=o==i.ref;return!a&&o&&(o.call?o(null):o.current=null),t?!t(this.props,i)||!a:Dr(this.props,i)}function r(i){return this.shouldComponentUpdate=n,Ce(e,i)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(xn.prototype=new de).isPureReactComponent=!0,xn.prototype.shouldComponentUpdate=function(e,t){return Dr(this.props,e)||Dr(this.state,t)};var _o=O.__b;O.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),_o&&_o(e)};var Rh=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Lt(e){function t(n){if(!("ref"in n))return e(n,null);var r=n.ref;delete n.ref;var i=e(n,r);return n.ref=r,i}return t.$$typeof=Rh,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var fo=function(e,t){return e==null?null:_e(_e(e).map(t))},hs={map:fo,forEach:fo,count:function(e){return e?_e(e).length:0},only:function(e){var t=_e(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:_e},Ph=O.__e;O.__e=function(e,t,n,r){if(e.then){for(var i,o=t;o=o.__;)if((i=o.__c)&&i.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t)}Ph(e,t,n,r)};var go=O.unmount;function ds(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=function(r,i){for(var o in i)r[o]=i[o];return r}({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return ds(r,t,n)})),e}function _s(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return _s(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function Pt(){this.__u=0,this.t=null,this.__b=null}function fs(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function gs(e){var t,n,r;function i(o){if(t||(t=e()).then(function(a){n=a.default||a},function(a){r=a}),r)throw r;if(!n)throw t;return Ce(n,o)}return i.displayName="Lazy",i.__f=!0,i}function ut(){this.u=null,this.o=null}O.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),go&&go(e)},(Pt.prototype=new de).__c=function(e,t){var n=t.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=fs(r.__v),o=!1,a=function(){o||(o=!0,n.__R=null,i?i(c):c())};n.__R=a;var c=function(){if(!--r.__u){if(r.state.__a){var l=r.state.__a;r.__v.__k[0]=_s(l,l.__c.__P,l.__c.__O)}var u;for(r.setState({__a:r.__b=null});u=r.t.pop();)u.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(a,a)},Pt.prototype.componentWillUnmount=function(){this.t=[]},Pt.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=ds(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__a&&Ce(U,null,e.fallback);return i&&(i.__u&=-33),[Ce(U,null,t.__a?null:e.children),i]};var mo=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function Nh(e){return this.getChildContext=function(){return e.context},e.children}function Mh(e){var t=this,n=e.i;t.componentWillUnmount=function(){dt(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],contains:function(){return!0},appendChild:function(r){this.childNodes.push(r),t.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),t.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),t.i.removeChild(r)}}),dt(Ce(Nh,{context:t.context},e.__v),t.l)}function ms(e,t){var n=Ce(Mh,{__v:e,i:t});return n.containerInfo=t,n}(ut.prototype=new de).__a=function(e){var t=this,n=fs(t.__v),r=t.o.get(e);return r[0]++,function(i){var o=function(){t.props.revealOrder?(r.push(i),mo(t,e,r)):i()};n?n(o):o()}},ut.prototype.render=function(e){this.u=null,this.o=new Map;var t=_e(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},ut.prototype.componentDidUpdate=ut.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){mo(e,n,t)})};var ps=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Th=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,jh=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Bh=/[A-Z0-9]/g,Ih=typeof document<"u",Lh=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function vs(e,t,n){return t.__k==null&&(t.textContent=""),dt(e,t),typeof n=="function"&&n(),e?e.__c:null}function ys(e,t,n){return Jo(e,t),typeof n=="function"&&n(),e?e.__c:null}de.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(de.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var po=O.event;function Hh(){}function Vh(){return this.cancelBubble}function Fh(){return this.defaultPrevented}O.event=function(e){return po&&(e=po(e)),e.persist=Hh,e.isPropagationStopped=Vh,e.isDefaultPrevented=Fh,e.nativeEvent=e};var ii,Uh={enumerable:!1,configurable:!0,get:function(){return this.class}},vo=O.vnode;O.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,r=t.type,i={},o=r.indexOf("-")===-1;for(var a in n){var c=n[a];if(!(a==="value"&&"defaultValue"in n&&c==null||Ih&&a==="children"&&r==="noscript"||a==="class"||a==="className")){var l=a.toLowerCase();a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&c===!0?c="":l==="translate"&&c==="no"?c=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?a="ondblclick":l!=="onchange"||r!=="input"&&r!=="textarea"||Lh(n.type)?l==="onfocus"?a="onfocusin":l==="onblur"?a="onfocusout":jh.test(a)&&(a=l):l=a="oninput":o&&Th.test(a)?a=a.replace(Bh,"-$&").toLowerCase():c===null&&(c=void 0),l==="oninput"&&i[a=l]&&(a="oninputCapture"),i[a]=c}}r=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=_e(n.children).forEach(function(u){u.props.selected=i.value.indexOf(u.props.value)!=-1})),r=="select"&&i.defaultValue!=null&&(i.value=_e(n.children).forEach(function(u){u.props.selected=i.multiple?i.defaultValue.indexOf(u.props.value)!=-1:i.defaultValue==u.props.value})),n.class&&!n.className?(i.class=n.class,Object.defineProperty(i,"className",Uh)):(n.className&&!n.class||n.class&&n.className)&&(i.class=i.className=n.className),t.props=i}(e),e.$$typeof=ps,vo&&vo(e)};var yo=O.__r;O.__r=function(e){yo&&yo(e),ii=e.__c};var bo=O.diffed;O.diffed=function(e){bo&&bo(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value),ii=null};var bs={ReactCurrentDispatcher:{current:{readContext:function(e){return ii.__n[e.__c].props.value},useCallback:p,useContext:ne,useDebugValue:Ur,useDeferredValue:si,useEffect:G,useId:zr,useImperativeHandle:Fr,useInsertionEffect:li,useLayoutEffect:yt,useMemo:Ft,useReducer:Mn,useRef:J,useState:$,useSyncExternalStore:ui,useTransition:ci}}},zh="18.3.1";function ws(e){return Ce.bind(null,e)}function Yt(e){return!!e&&e.$$typeof===ps}function Ss(e){return Yt(e)&&e.type===U}function ks(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function Os(e){return Yt(e)?Vr.apply(null,arguments):e}function As(e){return!!e.__k&&(dt(null,e),!0)}function Cs(e){return e&&(e.base||e.nodeType===1&&e)||null}var oi=function(e,t){return e(t)},Es=function(e,t){return e(t)},xs=U;function ai(e){e()}function si(e){return e}function ci(){return[!1,ai]}var li=yt,Ds=Yt;function ui(e,t){var n=t(),r=$({h:{__:n,v:t}}),i=r[0].h,o=r[1];return yt(function(){i.__=n,i.v=t,tr(i)&&o({h:i})},[e,n,t]),G(function(){return tr(i)&&o({h:i}),e(function(){tr(i)&&o({h:i})})},[e]),n}function tr(e){var t,n,r=e.v,i=e.__;try{var o=r();return!((t=i)===(n=o)&&(t!==0||1/t==1/n)||t!=t&&n!=n)}catch{return!0}}var $r={useState:$,useId:zr,useReducer:Mn,useEffect:G,useLayoutEffect:yt,useInsertionEffect:li,useTransition:ci,useDeferredValue:si,useSyncExternalStore:ui,startTransition:ai,useRef:J,useImperativeHandle:Fr,useMemo:Ft,useCallback:p,useContext:ne,useDebugValue:Ur,version:"18.3.1",Children:hs,render:vs,hydrate:ys,unmountComponentAtNode:As,createPortal:ms,createElement:Ce,createContext:Vt,createFactory:ws,cloneElement:Os,createRef:zo,Fragment:U,isValidElement:Yt,isElement:Ds,isFragment:Ss,isMemo:ks,findDOMNode:Cs,Component:de,PureComponent:xn,memo:It,forwardRef:Lt,flushSync:Es,unstable_batchedUpdates:oi,StrictMode:xs,Suspense:Pt,SuspenseList:ut,lazy:gs,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:bs};const Wh=Object.freeze(Object.defineProperty({__proto__:null,Children:hs,Component:de,Fragment:U,PureComponent:xn,StrictMode:xs,Suspense:Pt,SuspenseList:ut,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:bs,cloneElement:Os,createContext:Vt,createElement:Ce,createFactory:ws,createPortal:ms,createRef:zo,default:$r,findDOMNode:Cs,flushSync:Es,forwardRef:Lt,hydrate:ys,isElement:Ds,isFragment:Ss,isMemo:ks,isValidElement:Yt,lazy:gs,memo:It,render:vs,startTransition:ai,unmountComponentAtNode:As,unstable_batchedUpdates:oi,useCallback:p,useContext:ne,useDebugValue:Ur,useDeferredValue:si,useEffect:G,useErrorBoundary:Ec,useId:zr,useImperativeHandle:Fr,useInsertionEffect:li,useLayoutEffect:yt,useMemo:Ft,useReducer:Mn,useRef:J,useState:$,useSyncExternalStore:ui,useTransition:ci,version:zh},Symbol.toStringTag,{value:"Module"}));if(!$)throw new Error("mobx-react-lite requires React with Hooks support");if(!gu)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function Gh(e){e()}function qh(e){e||(e=Gh),su({reactionScheduler:e})}function Kh(e){return cu(e)}var Yh=1e4,Jh=1e4,Xh=function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=Yh),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var i=Date.now();n.registrations.forEach(function(o,a){i-o.registeredAt>=r&&(n.finalize(o.value),n.registrations.delete(a))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,Jh))}}),e}(),Zh=typeof FinalizationRegistry<"u"?FinalizationRegistry:Xh,Rr=new Zh(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),$s={exports:{}},Rs={};const Qh=Nc(Wh);/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mt=Qh;function ed(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var td=typeof Object.is=="function"?Object.is:ed,nd=mt.useState,rd=mt.useEffect,id=mt.useLayoutEffect,od=mt.useDebugValue;function ad(e,t){var n=t(),r=nd({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return id(function(){i.value=n,i.getSnapshot=t,nr(i)&&o({inst:i})},[e,n,t]),rd(function(){return nr(i)&&o({inst:i}),e(function(){nr(i)&&o({inst:i})})},[e]),od(n),n}function nr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!td(e,n)}catch{return!0}}function sd(e,t){return t()}var cd=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?sd:ad;Rs.useSyncExternalStore=mt.useSyncExternalStore!==void 0?mt.useSyncExternalStore:cd;$s.exports=Rs;var ld=$s.exports;function wo(e){e.reaction=new Te("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function ud(e,t){t===void 0&&(t="observed");var n=$r.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(c){return Rr.unregister(r),r.onStoreChange=c,r.reaction||(wo(r),r.stateVersion=Symbol()),function(){var l;r.onStoreChange=null,(l=r.reaction)===null||l===void 0||l.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var i=n.current;i.reaction||(wo(i),Rr.register(n,i,i)),$r.useDebugValue(i.reaction,Kh),ld.useSyncExternalStore(i.subscribe,i.getSnapshot,i.getSnapshot);var o,a;if(i.reaction.track(function(){try{o=e()}catch(c){a=c}}),a)throw a;return o}var rr,ir,Ps=typeof Symbol=="function"&&Symbol.for,hd=(ir=(rr=Object.getOwnPropertyDescriptor(function(){},"name"))===null||rr===void 0?void 0:rr.configurable)!==null&&ir!==void 0?ir:!1,So=Ps?Symbol.for("react.forward_ref"):typeof Lt=="function"&&Lt(function(e){return null}).$$typeof,ko=Ps?Symbol.for("react.memo"):typeof It=="function"&&It(function(e){return null}).$$typeof;function A(e,t){var n;if(ko&&e.$$typeof===ko)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=void 0)!==null&&n!==void 0?n:!1,i=e,o=e.displayName||e.name;if(So&&e.$$typeof===So&&(r=!0,i=e.render,typeof i!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var a=function(c,l){return ud(function(){return i(c,l)},o)};return a.displayName=e.displayName,hd&&Object.defineProperty(a,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(a.contextTypes=e.contextTypes),r&&(a=Lt(a)),a=It(a),_d(e,a),a}var dd={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function _d(e,t){Object.keys(e).forEach(function(n){dd[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}var or;qh(oi);or=Rr.finalizeAllImmediately;const fd={attributes:!0,childList:!0,subtree:!0,characterData:!0},gd=e=>{const t=document.defaultView.getComputedStyle(e);return e.getBoundingClientRect().height+(parseInt(t.marginTop,10)||0)+(parseInt(t.marginBottom,10)||0)},md=e=>Array.from(e.children).map(gd).reduce((t,n)=>n+t,0),Ie=({className:e,children:t})=>{const n=H("mock-animated-div",e),r=J(),[i,o]=$(0),a={height:`${i}px`},c=p(()=>{r.current&&(o(md(r.current)),r.current.parentElement&&setTimeout(()=>{var l,u;return(u=(l=r.current)==null?void 0:l.parentElement)==null?void 0:u.scrollTo(0,0)},0))},[r,o]);return G(()=>{if(c(),r.current){const l=new MutationObserver(c);return l.observe(r.current,fd),()=>l.disconnect()}},[r,c]),ns(c),s("div",{ref:r,className:n,style:a,children:t})},pd=({down:e,children:t,warning:n,onClose:r})=>{const i=J(null);zn(i,r);const o=H("mock-tooltip",{"mock-tooltip-up":!e,"mock-tooltip-down":e,"mock-tooltip-warning":n});return s("div",{ref:i,className:o,children:t})},Gn=({renderTooltip:e,direction:t,children:n,warning:r})=>{const[i,o]=$(!1),a=t==="down",c=p(()=>o(h=>!h),[o]),l=p(()=>o(!1),[o]);return s("div",{className:"mock-tooltip-container",children:[s("div",{onMouseDown:c,children:n}),i&&s(pd,{down:a,warning:r,onClose:l,children:e()})]})},vd=["white","grey","orange","green","purple","aqua","red","yellow","cyan"],Pr={"item/basic_magazine":"item/basic_magazine.svg","item/close_quarters":"item/close_quarters.svg","item/headshot_booster":"item/headshot_booster.svg","item/high_velocity_mag":"item/high_velocity_mag.svg","item/hollow_point_ward":"item/hollow_point_ward.svg","item/monster_rounds":"item/monster_rounds.svg","item/rapid_rounds":"item/rapid_rounds.svg","item/restorative_shot":"item/restorative_shot.svg","item/active_reload":"item/active_reload.svg","item/berserker":"item/berserker.svg","item/fleetfoot":"item/fleetfoot.svg","item/kinetic_dash":"item/kinetic_dash.svg","item/long_range":"item/long_range.svg","item/melee_charge":"item/melee_charge.svg","item/mystic_shot":"item/mystic_shot.svg","item/slowing_bullets":"item/slowing_bullets.svg","item/soul_shredder_bullets":"item/soul_shredder_bullets.svg","item/swift_striker":"item/swift_striker.svg","item/alchemical_fire":"item/alchemical_fire.svg","item/burst_fire":"item/burst_fire.svg","item/escalating_resilience":"item/escalating_resilience.svg","item/headhunter":"item/headhunter.svg","item/heroic_aura":"item/heroic_aura.svg","item/hunters_aura":"item/hunters_aura.svg","item/intensifying_magazine":"item/intensifying_magazine.svg","item/point_blank":"item/point_blank.svg","item/pristine_emblem":"item/pristine_emblem.svg","item/sharpshooter":"item/sharpshooter.svg","item/spellslinger_headshots":"item/spellslinger_headshots.png","item/tesla_bullets":"item/tesla_bullets.svg","item/titanic_magazine":"item/titanic_magazine.svg","item/toxic_bullets":"item/toxic_bullets.svg","item/warp_stone":"item/warp_stone.svg","item/crippling_headshot":"item/crippling_headshot.svg","item/frenzy":"item/frenzy.svg","item/glass_cannon":"item/glass_cannon.svg","item/lucky_shot":"item/lucky_shot.svg","item/ricochet":"item/ricochet.svg","item/shadow_weave":"item/shadow_weave.svg","item/silencer":"item/silencer.svg","item/spiritual_overflow":"item/spiritual_overflow.svg","item/vampiric_burst":"item/vampiric_burst.svg","item/enduring_spirit":"item/enduring_spirit.svg","item/extra_health":"item/extra_health.svg","item/extra_regen":"item/extra_regen.svg","item/extra_stamina":"item/extra_stamina.svg","item/healing_rite":"item/healing_rite.svg","item/melee_lifesteal":"item/melee_lifesteal.svg","item/sprint_boots":"item/sprint_boots.svg","item/bullet_armor":"item/bullet_armor.svg","item/bullet_lifesteal":"item/bullet_lifesteal.svg","item/combat_barrier":"item/combat_barrier.svg","item/debuff_reducer":"item/debuff_reducer.svg","item/divine_barrier":"item/divine_barrier.svg","item/enchanters_barrier":"item/enchanters_barrier.svg","item/enduring_speed":"item/enduring_speed.svg","item/healbane":"item/healbane.svg","item/healing_booster":"item/healing_booster.svg","item/healing_nova":"item/healing_nova.svg","item/reactive_barrier":"item/reactive_barrier.svg","item/restorative_locket":"item/restorative_locket.svg","item/return_fire":"item/return_fire.svg","item/spirit_armor":"item/spirit_armor.svg","item/spirit_lifesteal":"item/spirit_lifesteal.svg","item/debuff_remover":"item/debuff_remover.svg","item/fortitude":"item/fortitude.svg","item/improved_bullet_armor":"item/improved_bullet_armor.svg","item/improved_spirit_armor":"item/improved_spirit_armor.svg","item/lifestrike":"item/lifestrike.svg","item/majestic_leap":"item/majestic_leap.svg","item/metal_skin":"item/metal_skin.svg","item/rescue_beam":"item/rescue_beam.svg","item/superior_stamina":"item/superior_stamina.svg","item/colossus":"item/colossus.svg","item/inhibitor":"item/inhibitor.svg","item/leech":"item/leech.svg","item/phantom_strike":"item/phantom_strike.svg","item/siphon_bullets":"item/siphon_bullets.svg","item/unstoppable":"item/unstoppable.svg","item/veil_walker":"item/veil_walker.svg","item/ammo_scavenger":"item/ammo_scavenger.svg","item/extra_charge":"item/extra_charge.svg","item/extra_spirit":"item/extra_spirit.svg","item/infuser":"item/infuser.svg","item/mystic_burst":"item/mystic_burst.svg","item/mystic_reach":"item/mystic_reach.svg","item/spirit_strike":"item/spirit_strike.svg","item/bullet_resist_shredder":"item/bullet_resist_shredder.svg","item/cold_front":"item/cold_front.svg","item/decay":"item/decay.svg","item/duration_extender":"item/duration_extender.svg","item/improved_cooldown":"item/improved_cooldown.svg","item/mystic_vulnerability":"item/mystic_vulnerability.svg","item/quicksilver_reload":"item/quicksilver_reload.svg","item/slowing_hex":"item/slowing_hex.svg","item/suppressor":"item/suppressor.svg","item/withering_whip":"item/withering_whip.svg","item/arcane_surge":"item/arcane_surge.png","item/ethereal_shift":"item/ethereal_shift.svg","item/improved_burst":"item/improved_burst.svg","item/improved_reach":"item/improved_reach.svg","item/improved_spirit":"item/improved_spirit.svg","item/knockdown":"item/knockdown.svg","item/mystic_slow":"item/mystic_slow.svg","item/rapid_recharge":"item/rapid_recharge.svg","item/silence_glyph":"item/silence_glyph.svg","item/spirit_snatch":"item/spirit_snatch.png","item/superior_cooldown":"item/superior_cooldown.svg","item/superior_duration":"item/superior_duration.svg","item/surge_of_power":"item/surge_of_power.svg","item/torment_pulse":"item/torment_pulse.svg","item/boundless_spirit":"item/boundless_spirit.svg","item/curse":"item/curse.svg","item/diviners_kevlar":"item/diviners_kevlar.svg","item/echo_shard":"item/echo_shard.svg","item/escalating_exposure":"item/escalating_exposure.svg","item/magic_carpet":"item/magic_carpet.svg","item/mystic_reverb":"item/mystic_reverb.svg","item/refresher":"item/refresher.svg","legacy/hero/abrams/infernal_resilience_v1":"legacy/hero/abrams/infernal_resilience_v1.svg","legacy/hero/abrams/seismic_impact_v1":"legacy/hero/abrams/seismic_impact_v1.svg","legacy/hero/abrams/shoulder_charge_v1":"legacy/hero/abrams/shoulder_charge_v1.svg","legacy/hero/abrams/siphon_life_v1":"legacy/hero/abrams/siphon_life_v1.svg","legacy/hero/bebop/exploding_uppercut_v1":"legacy/hero/bebop/exploding_uppercut_v1.svg","legacy/hero/bebop/hyper_beam_v1":"legacy/hero/bebop/hyper_beam_v1.svg","legacy/hero/bebop/sticky_bomb_v1":"legacy/hero/bebop/sticky_bomb_v1.svg","legacy/hero/dynamo/kinetic_pulse_v1":"legacy/hero/dynamo/kinetic_pulse_v1.svg","legacy/hero/dynamo/quantum_entanglement_v1":"legacy/hero/dynamo/quantum_entanglement_v1.svg","legacy/hero/dynamo/rejuvenating_aurora_v1":"legacy/hero/dynamo/rejuvenating_aurora_v1.svg","legacy/hero/dynamo/singularity_v1":"legacy/hero/dynamo/singularity_v1.svg","legacy/hero/grey_talon/charged_shot_v1":"legacy/hero/grey_talon/charged_shot_v1.svg","legacy/hero/grey_talon/guided_owl_v1":"legacy/hero/grey_talon/guided_owl_v1.svg","legacy/hero/grey_talon/spirit_snare_v1":"legacy/hero/grey_talon/spirit_snare_v1.svg","legacy/hero/grey_talon/rain_of_arrows_v1":"legacy/hero/grey_talon/rain_of_arrows_v1.svg","legacy/hero/haze/bullet_dance_v1":"legacy/hero/haze/bullet_dance_v1.svg","legacy/hero/haze/fixation_v1":"legacy/hero/haze/fixation_v1.svg","legacy/hero/haze/sleep_dagger_v1":"legacy/hero/haze/sleep_dagger_v1.svg","legacy/hero/haze/smoke_bomb_v1":"legacy/hero/haze/smoke_bomb_v1.svg","legacy/hero/infernus/afterburn_v1":"legacy/hero/infernus/afterburn_v1.svg","legacy/hero/infernus/catalyst_v1":"legacy/hero/infernus/catalyst_v1.svg","legacy/hero/infernus/concussive_combustion_v1":"legacy/hero/infernus/concussive_combustion_v1.svg","legacy/hero/infernus/flame_dash_v1":"legacy/hero/infernus/flame_dash_v1.svg","legacy/hero/ivy/air_drop_v1":"legacy/hero/ivy/air_drop_v1.svg","legacy/hero/ivy/kudzu_bomb_v1":"legacy/hero/ivy/kudzu_bomb_v1.svg","legacy/hero/ivy/stone_form_v1":"legacy/hero/ivy/stone_form_v1.svg","legacy/hero/ivy/watchers_covenant_v1":"legacy/hero/ivy/watchers_covenant_v1.svg","legacy/hero/kelvin/arctic_beam_v1":"legacy/hero/kelvin/arctic_beam_v1.svg","legacy/hero/kelvin/frost_grenade_v1":"legacy/hero/kelvin/frost_grenade_v1.svg","legacy/hero/kelvin/frozen_shelter_v1":"legacy/hero/kelvin/frozen_shelter_v1.svg","legacy/hero/kelvin/ice_path_v1":"legacy/hero/kelvin/ice_path_v1.svg","legacy/hero/lady_geist/essence_bomb_v1":"legacy/hero/lady_geist/essence_bomb_v1.svg","legacy/hero/lady_geist/life_drain_v1":"legacy/hero/lady_geist/life_drain_v1.svg","legacy/hero/lady_geist/malice_v1":"legacy/hero/lady_geist/malice_v1.svg","legacy/hero/lady_geist/soul_exchange_v1":"legacy/hero/lady_geist/soul_exchange_v1.svg","legacy/hero/lash/death_slam_v1":"legacy/hero/lash/death_slam_v1.svg","legacy/hero/lash/flog_v1":"legacy/hero/lash/flog_v1.svg","legacy/hero/lash/grapple_v1":"legacy/hero/lash/grapple_v1.svg","legacy/hero/lash/ground_strike_v1":"legacy/hero/lash/ground_strike_v1.svg","legacy/hero/mcginnis/spectral_wall_v1":"legacy/hero/mcginnis/spectral_wall_v1.svg","legacy/hero/mirage/djinns_mark_v1":"legacy/hero/mirage/djinns_mark_v1.svg","legacy/hero/mirage/fire_scarabs_v1":"legacy/hero/mirage/fire_scarabs_v1.svg","legacy/hero/mirage/traveler_v1":"legacy/hero/mirage/traveler_v1.svg","legacy/hero/mo_and_krill/burrow_v1":"legacy/hero/mo_and_krill/burrow_v1.svg","legacy/hero/mo_and_krill/sand_blast_v1":"legacy/hero/mo_and_krill/sand_blast_v1.svg","legacy/hero/mo_and_krill/scorn_v1":"legacy/hero/mo_and_krill/scorn_v1.svg","legacy/hero/paradox/paradoxical_swap_v1":"legacy/hero/paradox/paradoxical_swap_v1.svg","legacy/hero/paradox/pulse_grenade_v1":"legacy/hero/paradox/pulse_grenade_v1.svg","legacy/hero/paradox/time_wall_v1":"legacy/hero/paradox/time_wall_v1.svg","legacy/hero/pocket/affliction_v1":"legacy/hero/pocket/affliction_v1.svg","legacy/hero/pocket/barrage_v1":"legacy/hero/pocket/barrage_v1.svg","legacy/hero/pocket/enchanters_satchel_v1":"legacy/hero/pocket/enchanters_satchel_v1.svg","legacy/hero/pocket/flying_cloak_v1":"legacy/hero/pocket/flying_cloak_v1.svg","legacy/hero/seven/lightning_ball_v1":"legacy/hero/seven/lightning_ball_v1.svg","legacy/hero/seven/power_surge_v1":"legacy/hero/seven/power_surge_v1.svg","legacy/hero/seven/static_charge_v1":"legacy/hero/seven/static_charge_v1.svg","legacy/hero/seven/storm_cloud_v1":"legacy/hero/seven/storm_cloud_v1.svg","legacy/hero/shiv/bloodletting_v1":"legacy/hero/shiv/bloodletting_v1.svg","legacy/hero/shiv/killing_blow_v1":"legacy/hero/shiv/killing_blow_v1.svg","legacy/hero/shiv/serrated_knives_v1":"legacy/hero/shiv/serrated_knives_v1.svg","legacy/hero/shiv/slice_and_dice_v1":"legacy/hero/shiv/slice_and_dice_v1.svg","legacy/hero/vindicta/assassinate_v1":"legacy/hero/vindicta/assassinate_v1.svg","legacy/hero/vindicta/crow_familiar_v1":"legacy/hero/vindicta/crow_familiar_v1.svg","legacy/hero/vindicta/flight_v1":"legacy/hero/vindicta/flight_v1.svg","legacy/hero/vindicta/stake_v1":"legacy/hero/vindicta/stake_v1.svg","legacy/hero/viscous/goo_ball_v1":"legacy/hero/viscous/goo_ball_v1.svg","legacy/hero/viscous/puddle_punch_v1":"legacy/hero/viscous/puddle_punch_v1.svg","legacy/hero/viscous/splatter_v1":"legacy/hero/viscous/splatter_v1.svg","legacy/hero/viscous/the_cube_v1":"legacy/hero/viscous/the_cube_v1.svg","legacy/hero/warden/alchemical_flask_v1":"legacy/hero/warden/alchemical_flask_v1.svg","legacy/hero/warden/binding_word_v1":"legacy/hero/warden/binding_word_v1.svg","legacy/hero/warden/last_stand_v1":"legacy/hero/warden/last_stand_v1.svg","legacy/hero/warden/willpower_v1":"legacy/hero/warden/willpower_v1.svg","legacy/hero/wraith/full_auto_v1":"legacy/hero/wraith/full_auto_v1.svg","legacy/hero/wraith/project_mind_v1":"legacy/hero/wraith/project_mind_v1.svg","legacy/hero/yamato/crimson_slash_v1":"legacy/hero/yamato/crimson_slash_v1.svg","legacy/hero/yamato/flying_strike_v1":"legacy/hero/yamato/flying_strike_v1.svg","legacy/hero/yamato/power_slash_v1":"legacy/hero/yamato/power_slash_v1.svg","legacy/hero/yamato/shadow_transformation_v1":"legacy/hero/yamato/shadow_transformation_v1.svg","hero/abrams/infernal_resilience":"hero/abrams/infernal_resilience.png","hero/abrams/seismic_impact":"hero/abrams/seismic_impact.png","hero/abrams/shoulder_charge":"hero/abrams/shoulder_charge.png","hero/abrams/siphon_life":"hero/abrams/siphon_life.png","hero/bebop/exploding_uppercut":"hero/bebop/exploding_uppercut.png","hero/bebop/hook":"hero/bebop/hook.svg","hero/bebop/hyper_beam":"hero/bebop/hyper_beam.png","hero/bebop/sticky_bomb":"hero/bebop/sticky_bomb.png","hero/billy/bashdown":"hero/billy/bashdown.png","hero/billy/blasted":"hero/billy/blasted.png","hero/billy/chain_gang":"hero/billy/chain_gang.png","hero/billy/rising_ram":"hero/billy/rising_ram.png","hero/calico/ava":"hero/calico/ava.png","hero/calico/gloom_bombs":"hero/calico/gloom_bombs.png","hero/calico/leaping_slash":"hero/calico/leaping_slash.png","hero/calico/return_to_shadows":"hero/calico/return_to_shadows.png","hero/doorman/call_bell":"hero/doorman/call_bell.png","hero/doorman/doorway":"hero/doorman/doorway.png","hero/doorman/hotel_guest":"hero/doorman/hotel_guest.png","hero/doorman/luggage_cart":"hero/doorman/luggage_cart.png","hero/drifter/bloodscent":"hero/drifter/bloodscent.png","hero/drifter/eternal_night":"hero/drifter/eternal_night.png","hero/drifter/rend":"hero/drifter/rend.png","hero/drifter/stalkers_mark":"hero/drifter/stalkers_mark.png","hero/dynamo/kinetic_pulse":"hero/dynamo/kinetic_pulse.png","hero/dynamo/quantum_entanglement":"hero/dynamo/quantum_entanglement.png","hero/dynamo/rejuvenating_aurora":"hero/dynamo/rejuvenating_aurora.png","hero/dynamo/singularity":"hero/dynamo/singularity.png","hero/graves/borrowed_decree":"hero/graves/borrowed_decree.png","hero/graves/essence_theft":"hero/graves/essence_theft.png","hero/graves/grasping_hands":"hero/graves/grasping_hands.png","hero/graves/jar_of_dead":"hero/graves/jar_of_dead.png","hero/grey_talon/charged_shot":"hero/grey_talon/charged_shot.png","hero/grey_talon/guided_owl":"hero/grey_talon/guided_owl.png","hero/grey_talon/spirit_snare":"hero/grey_talon/spirit_snare.png","hero/grey_talon/rain_of_arrows":"hero/grey_talon/rain_of_arrows.png","hero/haze/bullet_dance":"hero/haze/bullet_dance.png","hero/haze/fixation":"hero/haze/fixation.png","hero/haze/sleep_dagger":"hero/haze/sleep_dagger.png","hero/haze/smoke_bomb":"hero/haze/smoke_bomb.png","hero/holliday/bounce_pad":"hero/holliday/bounce_pad.png","hero/holliday/crackshot":"hero/holliday/crackshot.png","hero/holliday/powder_key":"hero/holliday/powder_key.png","hero/holliday/spirit_lasso":"hero/holliday/spirit_lasso.png","hero/infernus/afterburn":"hero/infernus/afterburn.png","hero/infernus/napalm":"hero/infernus/napalm.png","hero/infernus/concussive_combustion":"hero/infernus/concussive_combustion.png","hero/infernus/flame_dash":"hero/infernus/flame_dash.png","hero/ivy/air_drop":"hero/ivy/air_drop.png","hero/ivy/kudzu_bomb":"hero/ivy/kudzu_bomb.png","hero/ivy/stone_form":"hero/ivy/stone_form.png","hero/ivy/watchers_covenant":"hero/ivy/watchers_covenant.png","hero/kelvin/arctic_beam":"hero/kelvin/arctic_beam.png","hero/kelvin/frost_grenade":"hero/kelvin/frost_grenade.png","hero/kelvin/frozen_shelter":"hero/kelvin/frozen_shelter.png","hero/kelvin/ice_path":"hero/kelvin/ice_path.png","hero/lady_geist/essence_bomb":"hero/lady_geist/essence_bomb.png","hero/lady_geist/life_drain":"hero/lady_geist/life_drain.png","hero/lady_geist/malice":"hero/lady_geist/malice.png","hero/lady_geist/soul_exchange":"hero/lady_geist/soul_exchange.png","hero/lash/death_slam":"hero/lash/death_slam.png","hero/lash/flog":"hero/lash/flog.png","hero/lash/grapple":"hero/lash/grapple.png","hero/lash/ground_strike":"hero/lash/ground_strike.png","hero/mcginnis/heavy_barrage":"hero/mcginnis/heavy_barrage.svg","hero/mcginnis/medicinal_specter":"hero/mcginnis/medicinal_specter.svg","hero/mcginnis/mini_turret":"hero/mcginnis/mini_turret.svg","hero/mcginnis/spectral_wall":"hero/mcginnis/spectral_wall.png","hero/mina/love_bites":"hero/mina/love_bites.png","hero/mina/nox_nostra":"hero/mina/nox_nostra.png","hero/mina/rake":"hero/mina/rake.png","hero/mina/sanguine_retreat":"hero/mina/sanguine_retreat.png","hero/mirage/djinns_mark":"hero/mirage/djinns_mark.png","hero/mirage/fire_scarabs":"hero/mirage/fire_scarabs.png","hero/mirage/tornado":"hero/mirage/tornado.svg","hero/mirage/traveler":"hero/mirage/traveler.png","hero/mo_and_krill/burrow":"hero/mo_and_krill/burrow.png","hero/mo_and_krill/combo":"hero/mo_and_krill/combo.svg","hero/mo_and_krill/sand_blast":"hero/mo_and_krill/sand_blast.png","hero/mo_and_krill/scorn":"hero/mo_and_krill/scorn.png","hero/paige/captivating_read":"hero/paige/captivating_read.png","hero/paige/conjure_dragon":"hero/paige/conjure_dragon.png","hero/paige/defend_and_fight":"hero/paige/defend_and_fight.png","hero/paige/rallying_charge":"hero/paige/rallying_charge.png","hero/paradox/kinetic_carbine":"hero/paradox/kinetic_carbine.svg","hero/paradox/paradoxical_swap":"hero/paradox/paradoxical_swap.png","hero/paradox/pulse_grenade":"hero/paradox/pulse_grenade.png","hero/paradox/time_wall":"hero/paradox/time_wall.png","hero/pocket/affliction":"hero/pocket/affliction.png","hero/pocket/barrage":"hero/pocket/barrage.png","hero/pocket/enchanters_satchel":"hero/pocket/enchanters_satchel.png","hero/pocket/flying_cloak":"hero/pocket/flying_cloak.png","hero/rem/lil_helpers":"hero/rem/lil_helpers.png","hero/rem/naptime":"hero/rem/naptime.png","hero/rem/pillow_toss":"hero/rem/pillow_toss.png","hero/rem/tag_along":"hero/rem/tag_along.png","hero/seven/lightning_ball":"hero/seven/lightning_ball.png","hero/seven/power_surge":"hero/seven/power_surge.png","hero/seven/static_charge":"hero/seven/static_charge.png","hero/seven/storm_cloud":"hero/seven/storm_cloud.png","hero/shiv/bloodletting":"hero/shiv/bloodletting.png","hero/shiv/killing_blow":"hero/shiv/killing_blow.png","hero/shiv/serrated_knives":"hero/shiv/serrated_knives.png","hero/shiv/slice_and_dice":"hero/shiv/slice_and_dice.png","hero/silver/boot_kick":"hero/silver/boot_kick.png","hero/silver/entangling_bola":"hero/silver/entangling_bola.png","hero/silver/lycan_curse":"hero/silver/lycan_curse.png","hero/silver/slam_fire":"hero/silver/slam_fire.png","hero/sinclair/audience_participation":"hero/sinclair/audience_participation.png","hero/sinclair/rabbit_hex":"hero/sinclair/rabbit_hex.png","hero/sinclair/spectral_assistant":"hero/sinclair/spectral_assistant.png","hero/sinclair/vexing_bolt":"hero/sinclair/vexing_bolt.png","hero/venator/consecrating_grenade":"hero/venator/consecrating_grenade.png","hero/venator/gutshot":"hero/venator/gutshot.png","hero/venator/hex_lined_snap_trap":"hero/venator/hex_lined_snap_trap.png","hero/venator/ira_domini":"hero/venator/ira_domini.png","hero/victor/aura_of_suffering":"hero/victor/aura_of_suffering.png","hero/victor/jumpstart":"hero/victor/jumpstart.png","hero/victor/pain_battery":"hero/victor/pain_battery.png","hero/victor/shocking_reanimation":"hero/victor/shocking_reanimation.png","hero/vindicta/assassinate":"hero/vindicta/assassinate.png","hero/vindicta/crow_familiar":"hero/vindicta/crow_familiar.png","hero/vindicta/flight":"hero/vindicta/flight.png","hero/vindicta/stake":"hero/vindicta/stake.png","hero/viscous/goo_ball":"hero/viscous/goo_ball.png","hero/viscous/puddle_punch":"hero/viscous/puddle_punch.png","hero/viscous/splatter":"hero/viscous/splatter.png","hero/viscous/the_cube":"hero/viscous/the_cube.png","hero/vyper/lethal_venom":"hero/vyper/lethal_venom.png","hero/vyper/petrifying_bola":"hero/vyper/petrifying_bola.png","hero/vyper/screwjab_dagger":"hero/vyper/screwjab_dagger.png","hero/vyper/slither":"hero/vyper/slither.png","hero/warden/alchemical_flask":"hero/warden/alchemical_flask.png","hero/warden/binding_word":"hero/warden/binding_word.png","hero/warden/last_stand":"hero/warden/last_stand.png","hero/warden/willpower":"hero/warden/willpower.png","hero/wraith/card_trick":"hero/wraith/card_trick.svg","hero/wraith/full_auto":"hero/wraith/full_auto.png","hero/wraith/project_mind":"hero/wraith/project_mind.png","hero/wraith/telekinesis":"hero/wraith/telekinesis.svg","hero/yamato/crimson_slash":"hero/yamato/crimson_slash.png","hero/yamato/flying_strike":"hero/yamato/flying_strike.png","hero/yamato/power_slash":"hero/yamato/power_slash.png","hero/yamato/shadow_transformation":"hero/yamato/shadow_transformation.png","stat/cooldown":"stat/cooldown.svg","stat/charge":"stat/charge.svg","stat/charge_cooldown":"stat/charge_cooldown.svg","stat/duration":"stat/duration.svg","stat/range":"stat/range.svg","stat/aoe":"stat/aoe.svg","stat/weapon_damage":"stat/weapon_damage.svg","stat/spirit_damage":"stat/spirit_damage.svg","stat/melee":"stat/melee.svg","stat/bullet":"stat/bullet.svg","stat/fire_rate":"stat/fire_rate.svg","stat/ammo":"stat/ammo.svg","stat/reload":"stat/reload.svg","stat/bullet_armor":"stat/bullet_armor.svg","stat/bullet_resist_reduction":"stat/bullet_resist_reduction.png","stat/spirit_armor":"stat/spirit_armor.svg","stat/spirit_resist_reduction":"stat/spirit_resist_reduction.png","stat/bullet_shield":"stat/bullet_shield.svg","stat/spirit_shield":"stat/spirit_shield.svg","stat/move_speed":"stat/move_speed.svg","stat/stamina":"stat/stamina.svg","stat/move_slow":"stat/move_slow.svg","stat/stun":"stat/stun.svg","stat/invisible":"stat/invisible.svg","stat/health":"stat/health.svg","stat/healing":"stat/healing.svg","stat/damage_amplification":"stat/damage_amplification.svg","stat/placeholder":"stat/placeholder.svg","stat/ability_point":"stat/ability_point.svg","stat/silence":"stat/silence.svg",boon_scaling:"boon_scaling.png",cancel:"cancel.svg",compress:"compress.svg",dropdown:"dropdown.svg",error:"error.svg",expand:"expand.svg",font:"font.svg",gear:"gear.svg",grip:"grip.svg",hourglass_half:"hourglass_half.svg",plus:"plus.svg",soul:"soul.svg",spirit:"spirit.svg",swap:"swap.svg",trash:"trash.svg",vitality:"vitality.svg",weapon:"weapon.svg"},yd=Object.values(Pr),bd=/^data:/,wd=e=>!!e.match(bd),B=({image:e,large:t,color:n,onMouseDown:r})=>{const i=ne(Zo),o=`mock-icon-${n}`,a=H("mock-icon",{[o]:!!n,"mock-icon-clickable":!!r,"mock-icon-large":!!t}),c=Pr[e]||Pr["stat/placeholder"],l=e&&wd(e)?`url(${e})`:`url("${i.baseUrl}icon/${c}")`;return s("span",{className:a,style:{maskImage:l},onMouseDown:r})},Sd=A(({image:e,model:t})=>{const n=y(()=>t.image=e,[e,t]);return s("div",{className:"mock-icon-picker-button",onClick:n,children:s(B,{color:t.color,image:e})})}),kd=A(({color:e,model:t})=>{const n=y(()=>t.color=e,[e,t]);return s("div",{className:"mock-icon-picker-button",onClick:n,children:s(B,{color:e})})}),Od=A(({model:e,resize:t})=>{const n=y(()=>e.large=!e.large,[e]),r=e.large?"compress":"expand";return s("div",{className:"mock-icon-picker",children:[s("div",{children:[t&&s("span",{onClick:n,children:s(B,{color:"white",image:r})}),vd.map(o=>s(kd,{color:o,model:e},o))]}),Gr.map((o,a)=>s("div",{children:o.map(c=>s(Sd,{image:c,model:e},c))},a))]})}),hi=A(({model:e,resize:t})=>{const n=p(()=>s(Od,{model:e,resize:t}),[e,t]);return s(Gn,{click:!0,direction:"down",renderTooltip:n,children:s("div",{className:"mock-editable-icon",children:s(B,{color:e.color,image:e.image,large:e.large})})})}),Nr=["v1","v2"],pt=Nr[Nr.length-1],Ad=e=>!e||(e==null?void 0:e.length)===0,Cd=e=>e===!0?1:e===!1||e===null||e===void 0?0:e,Ns=(e,t,n)=>{var i;let r=((i=n==null?void 0:n.serialize)==null?void 0:i.call(n))||n;if(Array.isArray(r)&&(r=r.map(o=>Ns(e,`${t}[]`,o))),e==="IconModel"){if(t==="image"&&n==="stat/placeholder")return 0;if(t==="color"&&n==="grey")return 0}return e==="ValueModel"&&t==="stat"&&n==="stat"?0:Cd(r)},Ms=(e,t,n)=>Array.isArray(t)?e.map(r=>Ms(r,t[0],n)):!t||!t.deserialize?e:t.deserialize(e,n),Ed=e=>{if(!Array.isArray(e))return e;let t=e.length-1;for(;e[t]===0;)t--;return e.slice(0,t+1)},ye=(e,t)=>{const n=Array.isArray(t)?{[pt]:t}:t,r=n[pt];e.prototype.serialize=function(){return Ed(r.map(([i])=>Ns(e.name,i,this[i])))},e.deserialize=(i,o)=>{const a=n[o]||r;if(!Array.isArray(i))return i;const c=i.map((l,u)=>{const[h,d]=a[u];return[h,Ms(l,d,o)]});return Object.fromEntries(c.filter(([,l])=>!Ad(l)))}};class di{constructor(t){v(this,"image","stat/placeholder");v(this,"color","grey");v(this,"large",!1);this.image=(t==null?void 0:t.image)||this.image,this.color=(t==null?void 0:t.color)||this.color,this.large=!!(t!=null&&t.large),he(this)}}ye(di,[["image"],["color"],["large"]]);const xd=300,_i=()=>s("div",{draggable:!0,className:"mock-drag-list-grip",children:s(B,{color:"grey",image:"grip"})}),Ts=({children:e,index:t,active:n,onStart:r,onEnd:i})=>{const o=H({"mock-drag-list-item":t!==null,"mock-drag-list-item-unused":t===null,"mock-drag-list-item-active":n}),a=p(l=>{r(t),l.stopPropagation()},[t,r]),c=p(l=>{i(l)},[i]);return t===null?s("div",{className:o,children:e}):s("div",{className:o,onDragEnd:c,onDragStart:a,children:e})},Dd=(e,t)=>t?e.x+e.width/2:e.y+e.height/2,$d=(e,t,n)=>{const i=Array.from(t.children).filter(a=>a.classList.contains("mock-drag-list-item")||a.classList.contains("mock-animated-div")&&Array.from(a.children).some(c=>c.classList.contains("mock-drag-list-item"))).map(a=>Dd(a.getBoundingClientRect())),o=n?e.clientX:e.clientY;for(let a=0;a<i.length;a++)if(o<i[a])return a;return i.length},fi=(e,t)=>{const n=H("mock-drag-list-divider",{"mock-drag-list-divider-highlighted":e===t});return s("div",{className:n})},Rd=(e,t)=>{const n=new Set(t),r=[];let i=0,o=0;for(;i<e.length&&o<t.length;)n.has(e[i])?e[i]===t[o]?(r.push(e[i]),++i,++o):(r.push(t[o]),++o):(r.push(e[i]),++i);if(i<e.length){const a=new Set(r);r.push(...e.slice(i).filter(c=>!a.has(c)))}else o<t.length&&r.push(...t.slice(o));return r},Pd=(e,t,n,r,i)=>e.flatMap((o,a)=>[fi(a,n),s(Ts,{active:a===t,index:a,onEnd:i,onStart:r,children:o},o.key)]),Nd=(e,t,n,r,i,o)=>{const a=Object.fromEntries(t.map(l=>[l.key,l]));let c=0;return e.flatMap(l=>{const u=a[l];if(!u)return[s(Ie,{},l)];const h=c++;return[fi(h,r),s(Ie,{children:s(Ts,{active:h===n,index:h,onEnd:o,onStart:i,children:u})},l)]})},gi=A(({horizontal:e,animated:t,children:n,onMove:r})=>{const i=J(),[o,a]=$(null),[c,l]=$(null),[,u]=$(null),[h,d]=$([]),[_,f]=$([]),R=p(N=>{u(0),a(N)},[u,a]),j=p(N=>{o!==null&&(i.current&&l($d(N,i.current,e)),N.preventDefault(),N.stopPropagation())},[o,e,l]),w=p(()=>{o!==null&&u(N=>N+1)},[o,u]),S=p(()=>{o!==null&&u(N=>N<=1?(l(null),null):N-1)},[o,u,l]),E=y(N=>{o!==null&&(c!==null&&(c<o||c>o+1)&&r(z=>{const X=z.splice(o,1);z.splice(c<o?c:c-1,0,...X)}),u(null),l(null),a(null),N.stopPropagation())},[o,c,a,l,r]);G(()=>{if(t){const N=_e(n).map(X=>X.key);d(Rd(h,N));const z=new Set(h).difference(new Set(N));if(z.size>0){const X=Date.now()+xd;f(g=>g.concat(Array.from(z).map(P=>({id:P,timestamp:X}))))}}},[h,t,n,d,f]),G(()=>{if(t){let N=!1,z=!1;const X=Date.now();for(;_.length>0&&_[0].timestamp<X;){const g=h.indexOf(_[0].id);g!==-1&&(h.splice(g,1),N=!0),z=!0,_.shift()}if(z&&f(Array.from(_)),N&&d(h),_.length>0){const g=setTimeout(()=>f(P=>Array.from(P)),_[0].timestamp-X);return()=>clearTimeout(g)}}},[h,t,_,d,f]);const I=_e(n),V=t?Nd(h,I,o,c,R,E):Pd(I,o,c,R,E);return s("div",{ref:i,className:"mock-drag-list",onDragEnter:w,onDragLeave:S,onDragOver:j,onDrop:E,children:[V,fi(I.length,c)]})}),Jt=({children:e,onMouseDown:t,overlap:n})=>{const r=H({"mock-delete-button-overlap":n});return s("div",{className:"mock-deleteable",children:[e,s("span",{children:s("span",{className:r,children:s("span",{className:"mock-delete-button",children:s(B,{color:"red",image:"cancel",onMouseDown:t})})})})]})},Ve=(e,t)=>e,St=(e,t,n,r)=>({source:e,cursor:t,end:t+n,data:r}),ot=(e,t,n)=>({source:e,cursor:t,error:n}),js=Ve(({source:e,cursor:t})=>t===e.length?St(e,t,0,null):ot(e,t,"end: more data in stream")),Xt=(...e)=>Ve(({source:t,cursor:n})=>{const r=[];let i=n;for(let o=0;o<e.length;o++){const a=e[o]({source:t,cursor:i});if(a.error)return ot(t,n,`all[${o}].${a.error}`);i=a.end,r.push(a.data)}return St(t,n,i-n,r)}),Dn=(...e)=>Ve(({source:t,cursor:n})=>{for(const r of e){const i=r({source:t,cursor:n});if(!i.error)return i}return ot(t,n,"any: no match")}),Md=e=>Ve(({source:t,cursor:n})=>e({source:t,cursor:n}).error?St(t,n,0,null):ot(t,n,"not: subparser succeeded")),vt=(e,t)=>Ve(({source:n,cursor:r})=>{const i=e({source:n,cursor:r});return i.error||(i.data=t(i.data)),i}),Xe=(e,t,n)=>Ve(({source:r,cursor:i})=>{const o=[];let a=null,c=i,l=0;for(;l<=t;){const u=n({source:r,cursor:c});if(u.error){a=u.error;break}l+=1,c=u.end,o.push(u.data)}return l<e?ot(r,i,`range: found ${l} of ${e}, error: ${a}`):St(r,i,c-i,o)}),Td=(e,t)=>Xe(e,e,t),jd=e=>Xe(0,1/0,e),$n=e=>Ve(({source:t,cursor:n})=>t.length>n&&t[n]===e?St(t,n,1,e):ot(t,n,`char(${e}): no match`)),mi=e=>Ve(({source:t,cursor:n})=>{const i=t.slice(n).match(e);return!i||i.index!==0?ot(t,n,"regex: no match"):St(t,n,i[0].length,i)}),Bd=e=>t=>{const n=e({source:t,cursor:0});if(n.error)throw new Error(n.error);return n.data},Bs=new RegExp("[\\t\\r\\f]|\\p{Zs}","u"),Oo=mi(Bs),Ao=e=>!!e.match(Bs),Id=new RegExp("\\p{Pc}|\\p{Pd}|\\p{Pe}|\\p{Pf}|\\p{Pi}|\\p{Po}|\\p{Ps}|\\p{Sc}|\\p{Sk}|\\p{Sm}|\\p{So}","u"),Co=e=>!!e.match(Id),Mr=Xt(Xe(0,1/0,Oo),$n(`
`),Xe(0,1/0,Oo)),Ld=vt(Xt(Mr,Md(Mr)),()=>({type:"linebreak"})),Hd=Td(2,Mr),Vd=/[!"#%&',-/:;<=>?@_`~^$\\.*+()[\]{}|/]/,Fd=vt(Xt($n("\\"),mi(Vd)),e=>e[1][0]),Ud=/[^_*\n]+/,zd=vt(Dn(Fd,vt(mi(Ud),e=>e[0])),e=>({type:"text",data:e})),Wd=({source:e,cursor:t})=>{const n=Dn(Xe(1,1/0,$n("*")),Xe(1,1/0,$n("_")))({source:e,cursor:t});if(n.error)return n;const r=e[t-1],i=e[n.end],o="tag",a=n.data.join(""),c=!r||Ao(r)||r===`
`,l=r&&Co(r),u=!i||Ao(i)||i===`
`,h=i&&Co(i),d=!u&&(!h||c||l),_=!c&&(!l||u||h),f=d,R=_;return n.data={type:o,data:a,canOpen:f,canClose:R},a[0]!=="*"&&(n.data.canOpen=f&&(!_||l),n.data.canClose=R&&(!d||h)),n},Gd=e=>{const t=Math.min(2,Math.min(e[0].data.length,e[e.length-1].data.length));return{type:t===2?"strong":"em",delims:t,data:e.slice(1,e.length-1)}},qd=e=>{let t=0;const n={"*":0,_:0};for(;t<e.length;){const r=e[t];if(r.type==="tag"&&r.canClose){let i=null;const o=r.data[0],a=n[o];for(let c=t-1;c>=a;c--){const l=e[c];if(l.type==="tag"&&l.canOpen&&l.data[0]===r.data[0]){if((r.canOpen||l.canClose)&&(l.data.length+r.data.length)%3===0&&(l.data.length%3!==0||r.data.length%3!==0)&&(l.data.length<2||r.data.length<2))continue;i=c;break}}if(i!==null){const c=e[i],l=Gd(e.slice(i,t+1));c.data=c.data.substring(0,c.data.length-l.delims),r.data=r.data.substring(0,r.data.length-l.delims);const u=i+(c.data.length===0?0:1),d=t+(r.data.length===0?1:0)-u;e.splice(u,d,l),t=u}}++t}},Is=e=>{var n;const t=[];for(let r=0;r<e.data.length;r++){const i=e.data[r];i.type==="tag"||i.type==="text"?((n=t[t.length-1])==null?void 0:n.type)==="text"?t[t.length-1].data+=i.data:t.push({type:"text",data:i.data}):(Array.isArray(i.data)&&Is(i),t.push(i))}e.data=t},Ls=e=>(e.type==="document"?e.data.forEach(Ls):e.type==="paragraph"&&(qd(e.data),Is(e)),e),Kd=vt(Xt(Xe(1,1/0,Dn(Wd,zd,Ld)),Dn(Hd,js)),e=>({type:"paragraph",data:e[0]})),Yd=vt(Xt(jd(Kd),js),e=>Ls({type:"document",data:e[0]})),Hs=Bd(Yd),Jd=["muted","normal","bright","purple","orange","green"],Z=({italic:e,weight:t,color:n,children:r})=>{const i=`mock-text-color-${n}`,o=H("mock-text",{"mock-text-italic":e,[i]:!!n,"mock-text-thin":t===400,"mock-text-medium":t===500,"mock-text-semibold":t===600,"mock-text-bold":t===700});return s("span",{className:o,children:r})},pi=e=>s(Z,{...e,weight:600}),Ze=e=>s(Z,{...e,weight:700}),Xd={text:{},strong:{weight:700,color:"bright"},emphasis:{italic:!0,color:"muted"}},Ct=(e,t)=>{if(e.type==="document")return s(U,{children:e.data.map(n=>Ct(n,t))});if(e.type==="paragraph")return s(U,{children:[e.data.map(n=>Ct(n,t)),s("br",{})]});if(e.type==="linebreak")return s(U,{children:s("br",{})});if(e.type==="text")return s(Z,{...t.text,children:e.data});if(e.type==="em")return s(Z,{...t.emphasis,children:e.data.map(n=>Ct(n,t))});if(e.type==="strong")return s(Z,{...t.strong,children:e.data.map(n=>Ct(n,t))});console.error("invalid node type")},Zd=({text:e,format:t=Xd})=>{if(!e)return null;const n=Ct(Hs(e),t);return s(U,{children:n})},Vs=e=>s(U,{children:e.split(`
`).reduce((t,n)=>t===null?n:s(U,{children:[t,s("br",{}),n]}))}),Fs=(e,t)=>{t(!0),setTimeout(()=>{e.current.contentEditable="true",e.current.focus(),window.getSelection().selectAllChildren(e.current)},0)},Us=(e,t,n)=>{t(!1),n(e.target.innerText.replaceAll(/\n+/g,`
`).trim()),e.target.innerText="",e.target.contentEditable="false",e.target.scrollTo({top:0,left:0}),window.getSelection().removeAllRanges()},te=A(({onChange:e,children:t})=>{const n=J(null),[r,i]=$(!1),[o,a]=$(null),c=p(()=>{a(n.current.innerText),Fs(n,i)},[n,i,a]),l=p(d=>{Us(d,i,e)},[i,e]),u=r?Vs(o):t,h=H("mock-editable-text","mock-text",{"mock-text-color-bright":r});return s("span",{ref:n,className:h,spellCheck:!1,onBlur:l,onMouseDown:r?null:c,children:u})}),vi=A(({text:e,format:t,onChange:n})=>{const r=J(null),[i,o]=$(!1),a=p(()=>{Fs(r,o)},[r,o]),c=p(h=>{Us(h,o,n)},[o,n]),l=i?Vs(e):s(Zd,{format:t,text:e}),u=H("mock-editable-markdown","mock-text",{"mock-text-color-bright":i});return s("div",{ref:r,className:u,spellCheck:!1,onBlur:c,onMouseDown:i?null:a,children:l})}),Ae=({label:e,onClick:t})=>s("div",{className:"mock-sidebar-button",onClick:t,children:[s(pi,{children:e}),s(B,{color:"bright-green",image:"plus"})]}),qn=({renderButtons:e,children:t})=>s(U,{children:[s("div",{className:"mock-sidebar-buttons",children:s("div",{children:e()})}),t]}),Qd=A(({model:e,color:t})=>{const n=y(()=>e.color=t,[t,e]),r=H("mock-style-picker-color",`mock-text-color-${t}`);return s("div",{className:r,onClick:n})}),e_=[400,500,600,700],t_=A(({model:e,weight:t})=>{const n=`mock-text-color-${e.color}`,r=H("mock-style-picker-weight",{[n]:!!e.color}),i=y(()=>e.weight=t,[t,e]);return s("div",{className:r,style:{fontWeight:t},onClick:i,children:"Aa"})}),n_=A(({model:e})=>s("div",{className:"mock-style-picker",children:[s("div",{children:Jd.map(t=>s(Qd,{color:t,model:e},t))}),s("div",{children:e_.map(t=>s(t_,{model:e,weight:t},t))})]}));class Y{constructor(t){v(this,"id");v(this,"icon");v(this,"signed",!1);v(this,"conditional",!1);v(this,"value",0);v(this,"units","");v(this,"stat","stat");v(this,"weight",null);v(this,"color",null);v(this,"spiritScaling",null);v(this,"meleeScaling",null);v(this,"boonScaling",null);this.id=crypto.randomUUID(),this.stat=(t==null?void 0:t.stat)??this.stat,this.value=(t==null?void 0:t.value)||this.value,this.units=(t==null?void 0:t.units)??this.units,this.color=(t==null?void 0:t.color)||this.color,this.weight=(t==null?void 0:t.weight)||this.weight,this.spiritScaling=(t==null?void 0:t.spiritScaling)||this.spiritScaling,this.meleeScaling=(t==null?void 0:t.meleeScaling)||this.meleeScaling,this.boonScaling=(t==null?void 0:t.boonScaling)||this.boonScaling,this.signed=!!(t!=null&&t.signed),this.conditional=(t==null?void 0:t.conditional)||this.conditional,this.icon=new di(t==null?void 0:t.icon),he(this)}}ye(Y,[["icon",di],["stat"],["value"],["units"],["signed"],["spiritScaling"],["conditional"],["weight"],["color"],["meleeScaling"],["boonScaling"]]);const r_=/^(([+-]?)\d*(?:.\d+)?)(.*)$/,zs=A(e=>{const t=(r,i)=>{if(!r&&i>=0)return null;const o=i>=0?"+":"-";return s(pi,{color:"muted",children:o})},n=r=>r?s(Ze,{color:"muted",children:r}):null;return s(U,{children:[t(e.signed,e.value),s(Ze,{color:"bright",children:Math.abs(e.value)}),n(e.units)]})}),Zt=A(({model:e})=>{const t=y(n=>{const r=n.match(r_),i=r&&parseFloat(r[1]);!r||isNaN(i)?console.error("value parse failed",r,n):(e.signed=r[2].length>0,e.value=parseFloat(r[1]),e.units=r[3])},[e]);return s(te,{onChange:t,children:s(zs,{signed:e.signed,units:e.units,value:e.value})})}),i_=(e,t,n)=>e?s("div",{className:"mock-spirit-scaling-box",children:s(Z,{color:"purple",children:["x ",s(te,{onChange:n,children:t.spiritScaling})]})}):null,o_=(e,t,n)=>e?s("div",{className:"mock-melee-scaling-box",children:s(Z,{color:"orange",children:["x ",s(te,{onChange:n,children:t.meleeScaling})]})}):null,a_=(e,t,n)=>e?s("div",{className:"mock-boon-scaling-box",children:s(Z,{children:["x ",s(te,{onChange:n,children:t.boonScaling})]})}):null,Eo=e=>e.spiritScaling!==null&&e.spiritScaling!==void 0?"spiritScaling":e.meleeScaling!==null&&e.meleeScaling!==void 0?"meleeScaling":e.boonScaling!==null&&e.boonScaling!==void 0?"boonScaling":null,Ws=A(({model:e,detailed:t})=>{const n=y(i=>{const o=parseFloat(i);isNaN(o)?console.error("failed to parse",i):e[Eo(e)]=o},[e]),r=Eo(e);return r==="spiritScaling"?s("div",{className:"mock-spirit-scaling",children:[s("span",{className:"mock-spirit-scaling-icon"}),i_(t,e,n)]}):r==="meleeScaling"?s("div",{className:"mock-melee-scaling",children:[s("span",{className:"mock-melee-scaling-icon"}),o_(t,e,n)]}):r==="boonScaling"?s("div",{className:"mock-boon-scaling",children:[s("span",{className:"mock-boon-scaling-icon"}),a_(t,e,n)]}):null}),s_=A(({model:e})=>{const t=y(r=>e.conditional=r,[e]);if(!e.conditional)return null;const n=e.conditional===!0?"Conditional":e.conditional;return s("div",{className:"mock-grid-cell-conditional",children:[s(te,{onChange:t,children:s(Z,{color:"muted",children:n})}),":"]})}),c_=A(({data:e,onEmpty:t})=>{const n=y(()=>e.addCell(),[e]),r=y(()=>e.addValue(),[e]),i=()=>s(U,{children:[s(Ae,{label:"Cell",onClick:n}),s(Ae,{label:"Value",onClick:r})]}),o=e.cells.map((c,l)=>s("div",{className:"mock-grid-cell",children:[s(s_,{model:c}),s("div",{className:"mock-grid-cell-position",children:[s(Ws,{detailed:!0,model:c}),s(l_,{data:e,model:c,onEmpty:t})]}),s("div",{className:"mock-grid-cell-contents",children:s(h_,{model:c})})]},l)),a=e.values.length===0?null:s("div",{className:"mock-grid-values-cell",children:e.values.map((c,l)=>s(u_,{index:l,model:e,onEmpty:t},l))});return s(qn,{renderButtons:i,children:s("div",{className:"mock-grid",children:[o,a]})})}),l_=A(({data:e,model:t,onEmpty:n})=>{const r=y(()=>{const c=e.cells.indexOf(t);c===-1?console.error("grid cell not found",t):(e.removeCell(c),n&&e.cells.length===0&&e.values.length===0&&n())},[e,t,n]),i=y(()=>{t.spiritScaling!==null&&t.spiritScaling!==void 0?(t.spiritScaling=null,t.meleeScaling=0):t.meleeScaling!==null&&t.meleeScaling!==void 0?(t.meleeScaling=null,t.boonScaling=0):t.boonScaling!==null&&t.boonScaling!==void 0?t.boonScaling=null:t.spiritScaling=0},[t]),o=y(()=>t.conditional=!t.conditional,[t]),a=p(()=>s(n_,{model:t}),[t]);return s("div",{className:"mock-grid-cell-hover-buttons",children:[s(B,{color:"red",image:"cancel",onMouseDown:r}),s(Gn,{click:!0,direction:"up",renderTooltip:a,children:s(B,{color:"white",image:"font"})}),s(B,{color:"white",image:"boon_scaling",onMouseDown:i}),s(B,{color:"white",image:"hourglass_half",onMouseDown:o})]})}),u_=A(({model:e,index:t,onEmpty:n})=>{const r=e.values[t],i=y(a=>r.stat=a,[r]),o=y(()=>{e.removeValue(t),e.cells.length===0&&e.values.length===0&&n()},[t,e,n]);return s("div",{className:"mock-grid-values-cell-item",children:s(Jt,{onMouseDown:o,children:[s("span",{className:"mock-grid-values-cell-value",children:[s(hi,{model:r.icon}),s(Zt,{model:r})]}),s(te,{onChange:i,children:s(Z,{children:r.stat})})]})})}),h_=A(({model:e})=>{const t=y(n=>e.stat=n,[e]);return s(U,{children:[s("div",{className:"mock-grid-cell-value",children:[s(hi,{resize:!0,model:e.icon}),s(Zt,{model:e})]}),s(te,{onChange:t,children:s(Z,{color:e.color||"bright",weight:e.weight||600,children:e.stat})})]})});class Qt{constructor(t){v(this,"cells",[]);v(this,"values",[]);var n,r;this.cells=((n=t==null?void 0:t.cells)==null?void 0:n.map(i=>new Y(i)))||this.cells,this.values=((r=t==null?void 0:t.values)==null?void 0:r.map(i=>new Y(i)))||this.values,he(this)}addCell(t){this.cells.push(new Y(t))}removeCell(t){this.cells.splice(t,1)}addValue(t){this.values.push(new Y(t))}removeValue(t){this.values.splice(t,1)}}ye(Qt,[["cells",[Y]],["values",[Y]]]);const d_=A(({details:e,section:t})=>{const n=y(()=>{e.removeSection(t)},[e,t]),r=y(o=>{o.length===0?n():t.markdownData=o},[t,n]),i=t.gridData?s(c_,{data:t.gridData,onEmpty:n}):s(vi,{text:t.markdownData,onChange:r});return s("div",{className:"mock-details-section",children:[s(_i,{}),i]})}),Gs=A(({model:e})=>{const t=y(()=>e.addMarkdownSection(),[e]),n=y(()=>e.addGridSection(),[e]),r=y(a=>e.description=a,[e]),i=y(a=>a(e.sections),[e]),o=p(()=>s(U,{children:[s(Ae,{label:"Markdown",onClick:t}),s(Ae,{label:"Grid",onClick:n})]}),[n,t]);return s(qn,{renderButtons:o,children:s("div",{className:"mock-details",children:[s("div",{className:"mock-details-description",children:s(vi,{text:e.description,onChange:r})}),s(gi,{onMove:i,children:e.sections.map(a=>s(d_,{details:e,section:a},a.id))})]})})}),qs={gridData:{cells:[{}],values:[{}]}},Ks="Insert **markdown** _here_.",Ys={markdownData:Ks};class Nt{constructor(t){v(this,"id");v(this,"markdownData",null);v(this,"gridData",null);this.id=crypto.randomUUID(),this.markdownData=(t==null?void 0:t.markdownData)||null,this.gridData=t!=null&&t.gridData?new Qt(t.gridData):null,!this.markdownData&&!this.gridData&&(this.markdownData=Ys.markdownData),he(this)}}ye(Nt,[["gridData",Qt],["markdownData"]]);class en{constructor(t){v(this,"description",Ks);v(this,"sections",[]);var n;this.description=(t==null?void 0:t.description)??this.description,this.sections=((n=t==null?void 0:t.sections)==null?void 0:n.map(r=>new Nt(r)))||this.sections,he(this)}addMarkdownSection(){this.sections.push(new Nt(Ys))}addGridSection(){this.sections.push(new Nt(qs))}removeSection(t){const n=this.sections.indexOf(t);n!==-1&&this.sections.splice(n,1)}}ye(en,[["description"],["sections",[Nt]]]);const cn=A(({model:e,value:t})=>{const n=y(()=>e.removeStat(t),[e,t]);return t?s(Jt,{overlap:!0,onMouseDown:n,children:s("div",{className:"mock-ability-stat",children:[s(hi,{model:t.icon}),s(Zt,{model:t})]})}):null}),__=e=>e.reduce((t,n)=>(["charges","chargeCooldown","cooldown"].includes(n.stat)?t[n.stat]=n:t.remainder.push(n),t),{remainder:[]}),f_=A(({model:e})=>{const t=y(d=>e.name=d,[e]),n=y(()=>e.addStat(),[e]),r=y(()=>{e.addStat({icon:{image:"stat/cooldown"},value:1,units:"s",signed:!1,stat:"cooldown"})},[e]),i=y(()=>{e.addStat({icon:{image:"stat/charge"},value:1,units:"",signed:!1,stat:"charges"}),e.addStat({icon:{image:"stat/charge_cooldown"},value:1,units:"s",signed:!1,stat:"chargeCooldown"})},[e]),{charges:o,chargeCooldown:a,cooldown:c,remainder:l}=__(e.stats),u=()=>s(U,{children:[s(Ae,{label:"Stat",onClick:n}),c?null:s(Ae,{label:"Cooldown",onClick:r}),o&&a?null:s(Ae,{label:"Charges",onClick:i})]}),h=()=>!o&&!a?null:s("div",{className:"mock-ability-stat-group",children:[s(cn,{model:e,value:o}),s(cn,{model:e,value:a})]});return s(qn,{renderButtons:u,children:s("div",{className:"mock-ability-header",children:[s("div",{className:"mock-ability-header-left",children:[s("div",{className:"mock-ability-header-title",children:s(te,{onChange:t,children:e.name})}),s("div",{className:"mock-ability-header-misc-stats",children:l.map((d,_)=>s(cn,{model:e,value:d},_))})]}),s("div",{className:"mock-ability-header-right",children:[h(),s(cn,{model:e,value:c})]})]})})}),g_=[1,2,5],m_=/^[+-]?\*?\*?[+-]?[0-9.]+\s*[A-z/%]*\*?\*?\n[A-z ]+$/,p_={text:{},strong:{weight:700},emphasis:{weight:500,color:"muted",italic:!0}},v_={text:{},strong:{weight:700,color:"bright"},emphasis:{weight:500,color:"muted",italic:!0}},y_=A(({active:e,model:t,tier:n})=>{const r=H("mock-ability-upgrade",{"mock-ability-upgrade-inactive":!e}),i=y(l=>t.upgrades[n]=l,[t,n]),o=!!t.upgrades[n].match(m_),a=o?v_:p_,c=H("mock-ability-upgrade-text",{"mock-ability-upgrade-value":o});return s("div",{className:r,children:[s("div",{className:"mock-ability-upgrade-cost",children:[s(B,{color:"purple",image:"stat/ability_point"}),s(Ze,{children:g_[n]})]}),s("div",{className:c,children:s(vi,{format:a,text:t.upgrades[n],onChange:i})})]})}),b_={attributes:!0},je=2,xo=e=>"M"+e.map(n=>`${n[0]} ${n[1]}`).join(" L")+" Z",w_=e=>"polygon("+e.map(n=>`${n[0]}px ${n[1]}px`).join(", ")+")",S_=A(()=>{const e=J(),[t,n]=$(0),[r,i]=$(0),o=p(()=>{e.current&&(n(e.current.clientHeight),i(e.current.clientWidth))},[e,n,i]);G(()=>{if(o(),e.current){const h=new ResizeObserver(o);return h.observe(e.current,b_),()=>h.disconnect()}},[e,o]);const a=`0 0 ${r} ${t}`,c=[[10+je,je+15],[30,t-je-19],[r-je-19,t-je-10],[r-je-10,je+10]],l=[[0,t*.9],[r*.75,t],[r,t*.2],[r*.15,0]],u=w_(c);return s("div",{ref:e,className:"mock-ability-card",children:[s("div",{className:"mock-ability-card-shadow",children:s("svg",{viewBox:a,children:s("path",{d:xo(l),fill:"#bf86ec"})})}),s("div",{className:"mock-ability-card-border",children:s("svg",{viewBox:a,children:s("path",{d:xo(c),stroke:"#6f5674",strokeWidth:je*2,fill:"transparent"})})}),s("div",{className:"mock-ability-card-background",style:{clipPath:u}}),s("div",{className:"mock-ability-card-noise",style:{clipPath:u}})]})}),Js=A(({model:e})=>s("div",{className:"mock-ability",children:[s(S_,{}),s(Ie,{className:"mock-ability-header-animated",children:s(f_,{model:e})}),s("div",{className:"mock-ability-body",children:[s(Ie,{children:s(Gs,{model:e.details})}),s(Ie,{className:"mock-ability-upgrades-animated",children:s("div",{className:"mock-ability-upgrades",children:e.upgrades.map((t,n)=>s(y_,{model:e,tier:n},n))})})]})]}));class Qe{constructor(t){v(this,"id");v(this,"category","ability");v(this,"name","");v(this,"stats",[]);v(this,"upgrades",["","",""]);v(this,"details",null);var n;this.id=(t==null?void 0:t.id)||crypto.randomUUID(),this.name=(t==null?void 0:t.name)||this.name,this.stats=((n=t==null?void 0:t.stats)==null?void 0:n.map(r=>new Y(r)))||this.stats,this.upgrades=Je((t==null?void 0:t.upgrades)||this.upgrades),this.details=new en(t==null?void 0:t.details),he(this)}addStat(t){this.stats.push(new Y(t))}removeStat(t){const n=this.stats.indexOf(t);n!==-1&&this.stats.splice(n,1)}}ye(Qe,{v1:[["category"],["name"],["stats",[Y]],["description"],["sections",[Qt]],["upgrades"]],v2:[["category"],["name"],["stats",[Y]],["details",en],["upgrades"]]});function kt(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function k_(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=kt(n);return(i,o)=>r.then(a=>o(a.transaction(t,i).objectStore(t)))}let ar;function Kn(){return ar||(ar=k_("keyval-store","keyval")),ar}function O_(e,t=Kn()){return t("readonly",n=>kt(n.get(e)))}function A_(e,t,n=Kn()){return n("readwrite",r=>(r.put(t,e),kt(r.transaction)))}function C_(e,t=Kn()){return t("readwrite",n=>(n.delete(e),kt(n.transaction)))}function E_(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},kt(e.transaction)}function x_(e=Kn()){return e("readonly",t=>{if(t.getAllKeys)return kt(t.getAllKeys());const n=[];return E_(t,r=>n.push(r.key)).then(()=>n)})}const tn=Vt(null),Xs=e=>new Promise(t=>{const n=new FileReader;n.onload=r=>t(r.target.result),n.readAsDataURL(e)});class D_{constructor(){v(this,"data");this.data={}}store(t){return t.key=crypto.randomUUID(),t.timestamp=Date.now(),this.data[t.key]=Promise.resolve(t),A_(t.key,t).then(()=>t.key)}retrieve(t){return this.data[t]?this.data[t]:O_(t).then(n=>{if(!n)throw new Error(`file data not found for key: ${t}`);return n})}remove(t){return C_(t).then(()=>delete this.data[t])}list(){return x_()}}class Do{constructor(t,n){v(this,"_type");v(this,"_cache");this._type=t,this._cache=n}store(t){return this._cache.store({type:this._type,file:t})}retrieve(t){return this._cache.retrieve(t).then(n=>{if(n.type!==this._type)throw new Error(`expected file of type ${this._type} but found ${n.type}`);return Xs(n.file)})}remove(t){return this._cache.remove(t)}list(){return this._cache.list().then(t=>Promise.all(t.map(n=>this._cache.retrieve(n))).then(n=>t.filter((r,i)=>n[i].type===this._type)))}}class $_{constructor(){this._cache=new D_,this.portrait=new Do("portrait",this._cache),this.icon=new Do("icon",this._cache)}}const Yn=({children:e,id:t})=>{const n=ne(tn),[r,i]=$(null);G(()=>{_n(t)?n._cache.retrieve(t).then(c=>Xs(c.file)).then(c=>i(c)).catch(c=>{i("error"),console.error("error loading image file",c)}):i(null)},[t,n,i]);const o=_n(t)?r:t,a=_n(t)&&!r?s(ia,{color:e.props.color}):Vr(e,{image:o});return s("span",{className:"mock-stored-image",children:a})},R_=({children:e,onDrop:t,type:n})=>{const[r,i]=$(!1),o=ne(tn),a=p(d=>{const _=d.dataTransfer.items[0];d.preventDefault(),_.kind==="file"&&o[n].store(_.getAsFile()).then(t).catch(f=>console.error("failed to store file",f)),i(!1)},[o,n,t,i]),c=p(d=>{d.preventDefault()},[]),l=p(()=>{i(!0)},[i]),u=p(()=>{i(!1)},[i]),h=H("mock-file-drop-zone-icon",{"mock-file-drop-zone-icon-hover":r});return s("div",{className:"mock-file-drop-zone",children:[s("div",{className:h,onDragEnter:l,onDragLeave:u,onDragOver:c,onDrop:a}),e]})},yi=({children:e,duration:t,image:n,iconColor:r,onComplete:i})=>{const[o,a]=$(null),c=p(()=>{a(d=>(clearTimeout(d),setTimeout(i,t)))},[t,i,a]),l=p(()=>{a(d=>(clearTimeout(d),null))},[a]),u=H("mock-hold-timer-icon",{"mock-hold-timer-icon-animating":!!o}),h={animationDuration:`${t}ms`};return s("div",{className:"mock-hold-timer",onMouseDown:c,onMouseLeave:l,onMouseUp:l,children:[s("div",{children:e}),s("div",{className:u,children:[s("div",{className:"mock-hold-timer-circle",style:h,children:s("svg",{viewBox:"0 0 36 36",children:s("circle",{cx:"18",cy:"18",fill:"none",r:"15.91",stroke:"white",transform:"rotate(-90, 18 18)"})})}),s(B,{color:r,image:n})]})]})},P_={portrait:["dynamo.webp"]},N_=({onUpload:e,type:t})=>{const n=ne(tn),r=p(o=>{o.stopPropagation()},[]),i=p(o=>{o.stopPropagation(),Promise.all(Array.from(o.target.files).map(a=>n[t].store(a))).then(a=>{e(a[0])}).catch(a=>console.error("failed to store selected files",a))},[n,t,e]);return s("div",{className:"mock-image-dialog-upload",children:[s("label",{htmlFor:"image-upload",children:"Select File"}),s("input",{multiple:!0,accept:"image/*",id:"image-upload",name:"image-upload",type:"file",onCancel:r,onChange:i})]})},M_=({id:e,children:t,onDelete:n})=>{const r=p(()=>n(e),[e,n]);return s("div",{className:"mock-image-modal-deleteable",children:[s(yi,{duration:1e3,iconColor:"red",image:"cancel",onComplete:r}),t]})},Zs=({type:e,component:t,onChange:n,onApply:r})=>{const i=t,[o,a]=$([]),c=ne(tn),l=p(d=>{n(d),c[e].list().then(_=>a(_))},[e,a,n,c]),u=p(d=>{c[e].remove(d).then(()=>c[e].list().then(_=>a(_)))},[e,a,c]);G(()=>{c[e].list().then(d=>a(d))},[e,a,c]);const h=P_[e]||[];return s(U,{children:[s(N_,{type:e,onUpload:l}),o.map(d=>s(M_,{id:d,onDelete:u,children:s(i,{id:d,onApply:r,onChange:n})},d)),h.map(d=>s(i,{id:d,onApply:r,onChange:n},d))]})},T_=({label:e,active:t,onChange:n})=>{const r=H("mock-image-modal-mode",{"mock-image-modal-mode-active":t}),i=p(()=>n(e),[e,n]);return s("div",{className:r,onClick:i,children:e})},Qs=({modes:e,active:t,onChange:n})=>s("div",{className:"mock-image-modal-header",children:s("div",{className:"mock-image-modal-modes",children:e.map(r=>s(T_,{active:t===r,label:r,onChange:n},r))})}),ec=({id:e,onChange:t,onApply:n})=>{const r=p(()=>t(e),[e,t]),i=p(()=>n(e),[e,n]);return s(ta,{onClick:r,onDoubleClick:i,children:s("span",{className:"mock-icon-dialog-image-button",children:s(Yn,{id:e,children:s(B,{color:"dark-grey"})})})})},j_=({groups:e,onChange:t,onApply:n})=>s(U,{children:e.map((r,i)=>s("div",{children:r.map(o=>s(ec,{id:o,onApply:n,onChange:t},o))},i))}),bi={ability:Object.values(sa),item:Object.values(Dt).map(e=>[1,2,3,4].map(t=>e[t].map(n=>n.icon))).flat(),other:Gr,legacy:[Bc]},B_=Object.keys(bi).concat(["custom"]),I_=e=>Object.entries(bi).filter(([,t])=>t.some(n=>n.includes(e))).map(([t])=>t)[0]||"custom",L_=({image:e,onChange:t,onClose:n})=>{const[r,i]=$(e),[o,a]=$(()=>I_(e)),c=p(_=>a(_),[a]),l=p(()=>{n()},[n]),u=p(()=>{t(r)},[r,t]),h=p(_=>{t(_)},[t]);return s("div",{className:"mock-image-modal",children:[s(Qs,{active:o,modes:B_,onChange:c}),s("div",{className:"mock-image-modal-body",children:[s("div",{className:"mock-left-scroll",children:s("div",{className:"mock-icon-dialog-images",children:o==="custom"?s(Zs,{component:ec,type:"icon",onApply:h,onChange:i}):s(j_,{groups:bi[o],onApply:h,onChange:i})},o)}),s("div",{className:"mock-image-dialog-preview",children:s("div",{className:"mock-image-dialog-preview-icon",children:s(Yn,{id:r,children:s(B,{color:"dark-grey"})},r)})})]}),s("div",{className:"mock-image-modal-footer",children:[s("div",{className:"mock-image-modal-cancel",onClick:l,children:"Cancel"}),s("div",{className:"mock-image-modal-apply",onClick:u,children:"Apply"})]})]})},H_=({image:e})=>{if(e==="error")return s(B,{color:"orange",image:"error"});const t={backgroundImage:`url("${e}")`};return s("div",{className:"mock-hero-portrait",style:t})},wi=({id:e})=>s(Yn,{id:e,children:s(H_,{})}),V_=({id:e,onChange:t,onApply:n})=>{const r=p(()=>t(e),[e,t]),i=p(()=>n(e),[e,n]);return s(ta,{onClick:r,onDoubleClick:i,children:s("div",{className:"mock-portrait-button",children:s(wi,{id:e})})})},$o="Custom Portrait",F_=({image:e,onChange:t,onClose:n})=>{const[r,i]=$(e),o=p(()=>{n()},[n]),a=p(()=>{t(r)},[r,t]),c=p(l=>{t(l)},[t]);return s("div",{className:"mock-image-modal",children:[s(Qs,{active:$o,modes:[$o]}),s("div",{className:"mock-image-modal-body",children:[s("div",{className:"mock-left-scroll",children:s("div",{className:"mock-portrait-dialog-images",children:s(Zs,{component:V_,type:"portrait",onApply:c,onChange:i})})}),s("div",{className:"mock-image-dialog-preview",children:s(wi,{id:r})},r)]}),s("div",{className:"mock-image-modal-footer",children:[s("div",{className:"mock-image-modal-cancel",onClick:o,children:"Cancel"}),s("div",{className:"mock-image-modal-apply",onClick:a,children:"Apply"})]})]})},U_=({image:e,onClose:t,onChange:n,type:r})=>{const i=J(),o=p(c=>{c.stopPropagation(),i.current&&!Pu(i.current,c)&&t()},[i,t]);return G(()=>{const{current:c}=i;if(c)return c.showModal(),()=>c.close()},[i]),s("dialog",{ref:i,className:"mock-image-dialog",onCancel:t,onClick:o,children:r==="icon"?s(L_,{image:e,onChange:n,onClose:t}):s(F_,{image:e,onChange:n,onClose:t})})},tc=({children:e,image:t,onChange:n,type:r})=>{const[i,o]=$(!1),a=p(()=>o(!0),[o]),c=p(()=>o(!1),[o]),l=p(u=>{o(!1),n(u)},[o,n]);return s("div",{className:"mock-image-modal-trigger",onClick:a,children:[s("div",{className:"mock-image-modal-overlay"}),i&&s(U_,{image:t,type:r,onChange:l,onClose:c}),s(R_,{type:r,onDrop:n,children:e})]})};class Si{constructor(t){v(this,"id","");v(this,"image","");this.id=(t==null?void 0:t.id)||this.id,this.image=(t==null?void 0:t.image)||this.image,he(this)}}ye(Si,[["id"],["image"]]);class ki{constructor(t){v(this,"label","");v(this,"color","");v(this,"stats",[]);var n;this.label=(t==null?void 0:t.label)||this.label,this.color=(t==null?void 0:t.color)||this.color,this.stats=((n=t==null?void 0:t.stats)==null?void 0:n.map(r=>new Y(r)))||this.stats,he(this)}}ye(ki,[["label"],["color"],["stats",[Y]]]);class Oi{constructor(t){v(this,"id");v(this,"category","hero");v(this,"name","");v(this,"tagline","");v(this,"description","");v(this,"portrait","");v(this,"statGroups",[]);v(this,"abilities",[]);var n,r;this.id=(t==null?void 0:t.id)||crypto.randomUUID(),this.name=(t==null?void 0:t.name)||this.name,this.tagline=(t==null?void 0:t.tagline)||this.tagline,this.description=(t==null?void 0:t.description)||this.description,this.portrait=(t==null?void 0:t.portrait)||this.portrait,this.statGroups=((n=t==null?void 0:t.statGroups)==null?void 0:n.map(i=>new ki(i)))||this.statGroups,this.abilities=((r=t==null?void 0:t.abilities)==null?void 0:r.map(i=>new Si(i)))||this.abilities,he(this)}addStat(t){this.stats.push(new Y(t))}removeStat(t){const n=this.stats.indexOf(t);n!==-1&&this.stats.splice(n,1)}}ye(Oi,[["category"],["name"],["tagline"],["description"],["portrait"],["statGroups",[ki]],["abilities",[Si]]]);const z_={active:!1,cooldown:6,details:{sections:[qs]}};class Rn{constructor(t){v(this,"id");v(this,"active",!1);v(this,"cooldown",0);v(this,"details",null);this.id=crypto.randomUUID(),this.active=!!(t!=null&&t.active),this.cooldown=(t==null?void 0:t.cooldown)||this.cooldown,this.details=new en(t==null?void 0:t.details),he(this)}}ye(Rn,{v1:[["description"],["sections",[Qt]],["active"],["cooldown"]],v2:[["details",en],["active"],["cooldown"]]});class Ai{constructor(t){v(this,"id");v(this,"category","weapon");v(this,"name","");v(this,"tier",1);v(this,"components",[]);v(this,"stats",[]);v(this,"effects",[]);var n,r;this.id=t&&t.id||crypto.randomUUID(),this.category=(t==null?void 0:t.category)||this.category,this.name=(t==null?void 0:t.name)||this.name,this.tier=(t==null?void 0:t.tier)||this.tier,this.components=Je((t==null?void 0:t.components)||this.components),this.stats=((n=t==null?void 0:t.stats)==null?void 0:n.map(i=>new Y(i)))||this.stats,this.effects=((r=t==null?void 0:t.effects)==null?void 0:r.map(i=>new Rn(i)))||this.effects,he(this)}get cost(){return Tc[this.tier]+this.components.reduce((t,n)=>{var r;return t+((r=mn[n])==null?void 0:r.cost)},0)}get componentInfo(){return this.components.map(t=>mn[t])}addComponent(t){this.components.push(t||"Extra Health")}removeComponent(t){this.components.splice(t,1)}addStat(t){this.stats.push(new Y({signed:!0,...t}))}removeStat(t){const n=this.stats.indexOf(t);n!==-1&&this.stats.splice(n,1)}addEffect(t){this.effects.push(new Rn({...Je(z_),...t}))}removeEffect(t){const n=this.effects.indexOf(t);n!==-1&&this.effects.splice(n,1)}}ye(Ai,[["category"],["name"],["tier"],["components"],["stats",[Y]],["effects",[Rn]]]);const W_=e=>e.map(t=>Mu(t)?{markdownData:t}:{gridData:t}),Ro=e=>{const{description:t}=e,n=W_(e.sections);e.details={description:t,sections:n},delete e.description,delete e.sections},Po={v1:e=>(e.category==="ability"?Ro(e):e.effects&&e.effects.forEach(Ro),e)},nc=(e,t)=>{if(t===pt)return e;if(!Po[t])throw new Error(`unknown version: ${t}`);return Po[t](Je(e))},G_=e=>{if(e==="ability")return Qe;if(e==="hero")return Oi;if(oa.includes(e))return Ai;throw new Error(`unrecognized model category: ${e}`)},q_=(e,t)=>{const n=G_(e[0]);return nc(n.deserialize(e,t),t)},Tr="version",Et="history",No=[Tr,Et],at=Vt(null);class K_{constructor(t){this._storage=(t==null?void 0:t.storage)||window.localStorage}_writeVersion(){this._storage.setItem(Tr,pt)}migrate(){const t=this._storage.getItem(Tr);if(t&&t!==pt)if(Nr.includes(t)){const n=this._storage.length;for(let r=0;r<n;r++){const i=this._storage.key(r);if(!No.includes(i)){const o=JSON.parse(this._storage.getItem(i));this._storage.setItem(i,JSON.stringify(nc(o,t)))}}}else console.error("unsupported stored data version in localStorage",t);this._writeVersion()}history(){const t=this._storage.getItem(Et),n=t&&JSON.parse(t)||[];if(n.length>0)return n;const r=this._storage.length;for(let i=0;i<r;i++){const o=this._storage.key(i);if(!No.includes(o)){const a=this.load(o);a&&a.id&&a.category&&a.name&&n.unshift({id:a.id,category:a.category,name:a.name,timestamp:Date.now()})}}return this._storage.setItem(Et,JSON.stringify(n)),n}save(t){const n=this.history(),r=n.findIndex(i=>i.id===t.id);r>=0&&n.splice(r,1),n.unshift({id:t.id,category:t.category,name:t.name,timestamp:Date.now()}),this._storage.setItem(Et,JSON.stringify(n)),this._storage.setItem(t.id,JSON.stringify(t))}load(t){const n=this._storage.getItem(t);return n?JSON.parse(n):null}remove(t){const n=this.history().filter(r=>r.id!==t);this._storage.setItem(Et,JSON.stringify(n)),this._storage.removeItem(t)}clear(){const t=[],n=this._storage.length;for(let r=0;r<n;r++){const i=this._storage.key(r);t.push(i)}t.forEach(r=>this._storage.removeItem(r)),this._writeVersion()}}const Y_={category:"weapon",name:"Heroic Aura",tier:3,components:[],stats:[{value:20,units:"%",signed:!0,stat:"Bullet Lifesteal"},{value:150,signed:!0,stat:"Bonus Health"},{value:1,units:" m/s",signed:!0,stat:"Move Speed"}],effects:[{active:!1,details:{description:"Provides **Fire Rate** to nearby player minions.",sections:[{gridData:{cells:[{icon:{image:"stat/fire_rate",color:"orange"},value:40,units:"%",stat:"Minions Fire Rate",signed:!0,conditional:!0}],values:[{value:20,units:"m",stat:"Radius"}]}}]}},{active:!0,cooldown:32,details:{description:"Provides bonus **Movement Speed** and **Fire Rate** to you and nearby allies.",sections:[{gridData:{cells:[{icon:{image:"stat/move_speed",color:"grey"},value:2,units:"m/s",stat:"Movement Speed",signed:!0,conditional:!0},{icon:{image:"stat/fire_rate",color:"orange"},value:25,units:"%",stat:"Fire Rate",signed:!0,conditional:!0}],values:[{value:30,units:"m",stat:"Active Radius"},{value:6,units:"s",stat:"Duration"}]}}]}}]},J_=["weapon","Heroic Aura",3,[],[[[],"Bullet Lifesteal",20,"%",1],[[],"Bonus Health",150,"",1],[[],"Move Speed",1," m/s",1]],[[["Provides **Fire Rate** to nearby player minions.",[[[[[["stat/fire_rate","orange"],"Minions Fire Rate",40,"%",1,0,1]],[[[],"Radius",20,"m"]]]]]]],[["Provides bonus **Movement Speed** and **Fire Rate** to you and nearby allies.",[[[[[["stat/move_speed"],"Movement Speed",2,"m/s",1,0,1],[["stat/fire_rate","orange"],"Fire Rate",25,"%",1,0,1]],[[[],"Active Radius",30,"m"],[[],"Duration",6,"s"]]]]]],1,32]]],X_={category:"weapon",name:"Hollow Point Ward",tier:1,stats:[{value:95,stat:"Spirit Shield Health",signed:!0},{value:4,stat:"Spirit Power",signed:!0}],effects:[{active:!1,details:{description:"When you are **above 65% health**, deal additional **Weapon Damage**.",sections:[{gridData:{cells:[{icon:{image:"stat/weapon_damage",color:"orange"},value:20,units:"%",stat:"Weapon Damage",color:"orange",signed:!0,conditional:!0}]}}]}}]},Z_=["weapon","Hollow Point Ward",1,[],[[[],"Spirit Shield Health",95,"",1],[[],"Spirit Power",4,"",1]],[[["When you are **above 65% health**, deal additional **Weapon Damage**.",[[[[[["stat/weapon_damage","orange"],"Weapon Damage",20,"%",1,0,1,0,"orange"]],[]]]]]]]],Q_={category:"spirit",name:"Slowing Hex",tier:2,components:["Enduring Spirit"],stats:[{value:10,units:"%",stat:"Spirit Lifesteal",signed:!0},{value:5,stat:"Spirit Power",signed:!0},{value:75,stat:"Bonus Health",signed:!0}],effects:[{active:!0,cooldown:26,details:{description:`Deals **Spirit Damage**, **Slows** targets movement and dashes.  Also **Silences their movement-based items and abilities.**
_Does not affect target's stamina usage._`,sections:[{gridData:{cells:[{icon:{image:"stat/spirit_damage",color:"purple",large:!0},value:80,stat:"Damage",color:"purple"},{icon:{image:"stat/move_slow"},value:20,units:"%",stat:"Movement Slow",conditional:!0},{icon:{image:"stat/move_slow"},value:-30,units:"%",stat:"Dash Distance",signed:!0,conditional:!0}],values:[{value:29,units:"m",stat:"Cast Range"},{value:3,units:"s",stat:"Duration"}]}}]}}]},ef=["vitality","Return Fire",2,[],[[[],"Bonus Health",125,"",1],[[],"Spirit Power",9,"",1]],[[["Automatically **fire a bullet** towards any attacker who damages you with their abilities or weapon.",[[[[[["stat/weapon_damage","orange",1],"Bullet Damage Returned",60,"%",0,0,0,0,"orange"],[["stat/spirit_damage","purple",1],"Spirit Damage Returned",30,"%",0,0,0,0,"purple"],[["stat/bullet_shield","orange"],"Bullet Resist",25,"%",1,0,1]],[[[],"Duration",7,"s"]]]]]],1,25]]],tf={category:"vitality",name:"Return Fire",tier:2,stats:[{value:125,stat:"Bonus Health",signed:!0},{value:9,stat:"Spirit Power",signed:!0}],effects:[{active:!0,cooldown:25,details:{description:"Automatically **fire a bullet** towards any attacker who damages you with their abilities or weapon.",sections:[{gridData:{cells:[{icon:{image:"stat/weapon_damage",color:"orange",large:!0},value:60,units:"%",stat:"Bullet Damage Returned",color:"orange"},{icon:{image:"stat/spirit_damage",color:"purple",large:!0},value:30,units:"%",stat:"Spirit Damage Returned",color:"purple"},{icon:{image:"stat/bullet_shield",color:"orange"},value:25,units:"%",stat:"Bullet Resist",signed:!0,conditional:!0}],values:[{value:7,units:"s",stat:"Duration"}]}}]}}]},nf=["spirit","Slowing Hex",2,["Enduring Spirit"],[[[],"Spirit Lifesteal",10,"%",1],[[],"Spirit Power",5,"",1],[[],"Bonus Health",75,"",1]],[[[`Deals **Spirit Damage**, **Slows** targets movement and dashes.  Also **Silences their movement-based items and abilities.**
_Does not affect target's stamina usage._`,[[[[[["stat/spirit_damage","purple",1],"Damage",80,"",0,0,0,0,"purple"],[["stat/move_slow"],"Movement Slow",20,"%",0,0,1],[["stat/move_slow"],"Dash Distance",-30,"%",1,0,1]],[[[],"Cast Range",29,"m"],[[],"Duration",3,"s"]]]]]],1,26]]],rf={category:"weapon",name:"Shadow Weave",tier:4,stats:[{signed:!0,value:15,stat:"Health Regen"},{signed:!0,value:300,stat:"Spirit Shield Health"},{signed:!0,value:30,units:"%",stat:"Ammo"}],effects:[{active:!0,cooldown:48,details:{description:"Become **Stealthed**. Whenever you take damage while Stealthed you get briefly revealed.",sections:[{gridData:{cells:[{icon:{image:"stat/invisible"},conditional:!0,value:25,units:"s",stat:"Invisibility"}],values:[{value:26,units:"m",stat:"Spot Radius"}]}},{markdownData:"Attacking or using an ability will end your stealth and start an **ambush**, temporarily granting your bonus **Fire Rate** and **Spirit Power**."},{gridData:{cells:[{icon:{image:"stat/weapon_damage",color:"orange"},signed:!0,conditional:!0,value:30,units:"%",stat:"Ambush Fire Rate",color:"orange"},{icon:{image:"stat/spirit_damage",color:"purple"},signed:!0,conditional:!0,value:55,units:"",stat:"Ambush Spirit Power",color:"purple"}],values:[{value:8,units:"s",stat:"Ambush Duration"}]}}]}}]},of=["weapon","Shadow Weave",4,[],[[[],"Health Regen",15,"",1],[[],"Spirit Shield Health",300,"",1],[[],"Ammo",30,"%",1]],[[["Become **Stealthed**. Whenever you take damage while Stealthed you get briefly revealed.",[[[[[["stat/invisible"],"Invisibility",25,"s",0,0,1]],[[[],"Spot Radius",26,"m"]]]],[0,"Attacking or using an ability will end your stealth and start an **ambush**, temporarily granting your bonus **Fire Rate** and **Spirit Power**."],[[[[["stat/weapon_damage","orange"],"Ambush Fire Rate",30,"%",1,0,1,0,"orange"],[["stat/spirit_damage","purple"],"Ambush Spirit Power",55,"",1,0,1,0,"purple"]],[[[],"Ambush Duration",8,"s"]]]]]],1,48]]],af={category:"ability",name:"Tornado",stats:[{icon:{image:"stat/cooldown"},value:32,units:"s",stat:"cooldown"},{icon:{image:"stat/duration"},value:.75,units:"s"}],details:{description:"Transform yourself into a tornado that travels forward, **damaging enemies** and **lifting them up in the air**.  After emerging from the tornado you gain **bullet evasion**.",sections:[{gridData:{cells:[{icon:{image:"stat/spirit_damage",color:"purple"},value:70,stat:"Damage",spiritScaling:.7},{value:1.5,units:"s",stat:"Lift Duration",icon:{image:"stat/duration"}},{value:30,units:"%",stat:"Bullet Evasion Chance"}],values:[{value:3.5,units:"s",stat:"Bullet Evasion Duration"},{value:3.5,units:"m",stat:"Radius",icon:{image:"stat/aoe"}}]}}]},upgrades:[`**+0.5s**
Lift Duration`,`**-14s**
Cooldown`,`**+20%**
Bullet Evasion Chance`]},sf=["ability","Tornado",[[["stat/cooldown"],"cooldown",32,"s"],[["stat/duration"],0,.75,"s"]],["Transform yourself into a tornado that travels forward, **damaging enemies** and **lifting them up in the air**.  After emerging from the tornado you gain **bullet evasion**.",[[[[[["stat/spirit_damage","purple"],"Damage",70,"",0,.7],[["stat/duration"],"Lift Duration",1.5,"s"],[[],"Bullet Evasion Chance",30,"%"]],[[[],"Bullet Evasion Duration",3.5,"s"],[["stat/aoe"],"Radius",3.5,"m"]]]]]],[`**+0.5s**
Lift Duration`,`**-14s**
Cooldown`,`**+20%**
Bullet Evasion Chance`]],cf={category:"hero",name:"Dynamo",portrait:"dynamo.webp",tagline:"Locks down the enemy team",description:"Dynamo keeps himself and his allies healthy while waiting for his moment. Few things can warp a team fight more than a well coordinated use of Singularity.",abilities:[{id:"KineticPulse",image:"hero/dynamo/kinetic_pulse"},{id:"QuantumEntanglement",image:"hero/dynamo/quantum_entanglement"},{id:"RejuvenatingAurora",image:"hero/dynamo/rejuvenating_aurora"},{id:"Singularity",image:"hero/dynamo/singularity"}],statGroups:[{label:"Weapon",color:"orange",stats:[{icon:{image:"stat/weapon_damage",color:"orange"},value:60,units:"",stat:"DPS"},{icon:{image:"stat/bullet",color:"orange"},value:15,units:"",stat:"Bullet Damage"},{icon:{image:"stat/ammo"},value:18,units:"",stat:"Ammo"},{icon:{image:"stat/fire_rate"},value:4,units:"",stat:"Bullets per sec"},{icon:{image:"stat/melee",color:"orange"},value:63,units:"",stat:"Light Melee"},{icon:{image:"stat/melee",color:"orange"},value:116,units:"",stat:"Heavy Melee"}]},{label:"Vitality",color:"green",stats:[{icon:{image:"stat/health"},value:650,units:"",stat:"Max Health"},{icon:{image:"stat/healing"},value:2,units:"",stat:"Health Regen"},{icon:{image:"stat/bullet_armor"},value:0,units:"%",stat:"Bullet Resist"},{icon:{image:"stat/spirit_armor"},value:0,units:"%",stat:"Spirit Resist"},{icon:{image:"stat/move_speed"},value:6.5,units:" m/s",stat:"Move Speed"},{icon:{image:"stat/move_speed"},signed:!0,value:0,units:" m/s",stat:"Sprint Speed"},{icon:{image:"stat/stamina"},value:3,units:"",stat:"Stamina"}]}]},lf=["hero","Dynamo","Locks down the enemy team","Dynamo keeps himself and his allies healthy while waiting for his moment. Few things can warp a team fight more than a well coordinated use of Singularity.","dynamo.webp",[["Weapon","orange",[[["stat/weapon_damage","orange"],"DPS",60,""],[["stat/bullet","orange"],"Bullet Damage",15,""],[["stat/ammo"],"Ammo",18,""],[["stat/fire_rate"],"Bullets per sec",4,""],[["stat/melee","orange"],"Light Melee",63,""],[["stat/melee","orange"],"Heavy Melee",116,""]]],["Vitality","green",[[["stat/health"],"Max Health",650,""],[["stat/healing"],"Health Regen",2,""],[["stat/bullet_armor"],"Bullet Resist",0,"%"],[["stat/spirit_armor"],"Spirit Resist",0,"%"],[["stat/move_speed"],"Move Speed",6.5," m/s"],[["stat/move_speed"],"Sprint Speed",0," m/s",1],[["stat/stamina"],"Stamina",3,""]]]],[["KineticPulse","hero/dynamo/kinetic_pulse"],["QuantumEntanglement","hero/dynamo/quantum_entanglement"],["RejuvenatingAurora","hero/dynamo/rejuvenating_aurora"],["Singularity","hero/dynamo/singularity"]]],uf={category:"ability",name:"Kinetic Pulse",stats:[{icon:{image:"stat/cooldown"},value:25,units:"s",stat:"cooldown"},{icon:{image:"stat/charge"},value:1,units:"",stat:"charges"},{icon:{image:"stat/charge_cooldown"},value:5,units:"s",stat:"chargeCooldown"}],details:{description:"Release an energy pulse that knocks enemies up into the air.",sections:[{gridData:{cells:[{icon:{image:"stat/spirit_damage",color:"purple"},value:100,stat:"Damage",spiritScaling:1.4},{icon:{image:"stat/aoe"},value:15,units:"m",stat:"Stomp Range",spiritScaling:.275}],values:[{icon:{image:"stat/aoe"},value:5,units:"m",stat:"Ability Width"}]}}]},upgrades:["Hit enemies are **fire rate and movement slowed** by **35%** for **4s**.","Dynamo deals **30% more Weapon Damage** to hit enemies for **8s**",`**+125**
Damage`]},hf=["ability","Kinetic Pulse",[[["stat/cooldown"],"cooldown",25,"s"],[["stat/charge"],"charges",1,""],[["stat/charge_cooldown"],"chargeCooldown",5,"s"]],["Release an energy pulse that knocks enemies up into the air.",[[[[[["stat/spirit_damage","purple"],"Damage",100,"",0,1.4],[["stat/aoe"],"Stomp Range",15,"m",0,.275]],[[["stat/aoe"],"Ability Width",5,"m"]]]]]],["Hit enemies are **fire rate and movement slowed** by **35%** for **4s**.","Dynamo deals **30% more Weapon Damage** to hit enemies for **8s**",`**+125**
Damage`]],df={category:"ability",name:"Quantum Entanglement",stats:[{icon:{image:"stat/cooldown"},value:11,units:"s",stat:"cooldown"},{icon:{image:"stat/range"},value:9,units:"m"}],details:{description:"Dynamo briefly **disappears into the void** and then reappears a short distance away.  On reappearing, your weapon is **reloaded** and has a **fire rate bonus** for the next clip (Max 8s).  Can be Alt-Cast to also bring nearby allies and give them half fire rate bonus.",sections:[{gridData:{cells:[{icon:{image:"stat/duration"},value:1.4,units:"s",stat:"Void Time"},{icon:{image:"stat/aoe"},value:9,units:"m",stat:"Ally Distance"},{icon:{image:"stat/fire_rate"},value:25,units:"%",stat:"Fire Rate Bonus"}]}}]},upgrades:[`**+4m**
Cast Range`,`**+25%**
Fire Rate Bonus`,"On reappearing, **+120%** base ammo"]},_f=["ability","Quantum Entanglement",[[["stat/cooldown"],"cooldown",11,"s"],[["stat/range"],0,9,"m"]],["Dynamo briefly **disappears into the void** and then reappears a short distance away.  On reappearing, your weapon is **reloaded** and has a **fire rate bonus** for the next clip (Max 8s).  Can be Alt-Cast to also bring nearby allies and give them half fire rate bonus.",[[[[[["stat/duration"],"Void Time",1.4,"s"],[["stat/aoe"],"Ally Distance",9,"m"],[["stat/fire_rate"],"Fire Rate Bonus",25,"%"]],[]]]]],[`**+4m**
Cast Range`,`**+25%**
Fire Rate Bonus`,"On reappearing, **+120%** base ammo"]],ff={category:"ability",name:"Rejuvenating Aurora",stats:[{icon:{image:"stat/cooldown"},value:45,units:"s",stat:"cooldown"}],details:{description:"While channelling, **restore health over time** to you and any allies nearby.",sections:[{gridData:{cells:[{icon:{image:"stat/healing"},value:32,units:"/s",stat:"Health Restored",spiritScaling:.45},{icon:{image:"stat/charge"},value:5,units:"s",stat:"Channel Duration"}],values:[{icon:{image:"stat/aoe"},value:8,units:"m",stat:"Friendly Heal Radius"}]}}]},upgrades:["Gain **+4m/s movespeed bonus** for 8s if Aurora is fully channeled.  Gain instantly with 5AP Upgrade.",`**-15s**
Cooldown`,"**Full move and ability use** and additionally heals **+4% of Max Health** per second"]},gf=["ability","Rejuvenating Aurora",[[["stat/cooldown"],"cooldown",45,"s"]],["While channelling, **restore health over time** to you and any allies nearby.",[[[[[["stat/healing"],"Health Restored",32,"/s",0,.45],[["stat/charge"],"Channel Duration",5,"s"]],[[["stat/aoe"],"Friendly Heal Radius",8,"m"]]]]]],["Gain **+4m/s movespeed bonus** for 8s if Aurora is fully channeled.  Gain instantly with 5AP Upgrade.",`**-15s**
Cooldown`,"**Full move and ability use** and additionally heals **+4% of Max Health** per second"]],mf={category:"ability",name:"Singularity",stats:[{icon:{image:"stat/cooldown"},value:180,units:"s",stat:"cooldown"}],details:{description:"Create a singularity in your hands that **pulls in nearby enemies and damages them**. Once it's finished, enemies get knocked into the air.",sections:[{gridData:{cells:[{icon:{image:"stat/charge"},value:2.75,units:"s",stat:"Channel Duration"},{icon:{image:"stat/spirit_damage",color:"purple"},value:60,stat:"DPS",spiritScaling:.21}],values:[{icon:{image:"stat/aoe"},value:8,units:"m",stat:"Singularity Radius"}]}}]},upgrades:[`**+2m**
Singularity Radius`,`**+0.75s**
Channel Duration`,"Singularity takes **3.8%** of the enemies' max health each second."]},pf=["ability","Singularity",[[["stat/cooldown"],"cooldown",180,"s"]],["Create a singularity in your hands that **pulls in nearby enemies and damages them**. Once it's finished, enemies get knocked into the air.",[[[[[["stat/charge"],"Channel Duration",2.75,"s"],[["stat/spirit_damage","purple"],"DPS",60,"",0,.21]],[[["stat/aoe"],"Singularity Radius",8,"m"]]]]]],[`**+2m**
Singularity Radius`,`**+0.75s**
Channel Duration`,"Singularity takes **3.8%** of the enemies' max health each second."]],vf={category:"ability",name:"Scaling",stats:[],details:{description:"words",sections:[{gridData:{cells:[{icon:{image:"stat/ammo"},value:0,units:"s",stat:"Stuff",spiritScaling:.5},{icon:{image:"stat/ammo"},value:1,units:"s",stat:"Stuff",meleeScaling:1.5},{icon:{image:"stat/ammo"},value:2,units:"s",stat:"Stuff",boonScaling:2.5}]}}]},upgrades:["one","two","three"]},yf=["ability","Scaling",[],["words",[[[[[["stat/ammo"],"Stuff",0,"s",0,.5],[["stat/ammo"],"Stuff",1,"s",0,0,0,0,0,1.5],[["stat/ammo"],"Stuff",2,"s",0,0,0,0,0,0,2.5]],[]]]]],["one","two","three"]],fn={HeroicAura:{hydrated:Y_,serialized:J_},HollowPointWard:{hydrated:X_,serialized:Z_},ReturnFire:{hydrated:tf,serialized:ef},SlowingHex:{hydrated:Q_,serialized:nf},ShadowWeave:{hydrated:rf,serialized:of},Tornado:{hydrated:af,serialized:sf},Dynamo:{hydrated:cf,serialized:lf},KineticPulse:{hydrated:uf,serialized:hf},QuantumEntanglement:{hydrated:df,serialized:_f},RejuvenatingAurora:{hydrated:ff,serialized:gf},Singularity:{hydrated:mf,serialized:pf},Scaling:{hydrated:vf,serialized:yf}},Pn=Object.fromEntries(Object.entries(fn).map(([e,t])=>[e,t.hydrated])),rc=[{label:"Item",data:fn.HollowPointWard.hydrated},{label:"Ability",data:fn.Tornado.hydrated},{label:"Hero",data:fn.Dynamo.hydrated}],ic=({id:e,number:t})=>s("div",{className:"mock-hero-ability-icon-container",children:[s("div",{className:"mock-hero-ability-icon",children:s(Yn,{id:e,children:s(B,{color:"dark-grey"})})}),s("div",{className:"mock-hero-ability-number",children:t})]}),bf=A(({model:e,number:t})=>{const{image:n}=e,r=y(i=>e.image=i);return s("div",{className:"mock-hero-ability-button",children:s(tc,{image:n,type:"icon",onChange:r,children:s(ic,{id:n,number:t})})})}),wf=({onChange:e})=>{const t=ne(at),n=p(()=>{const r=new Qe(Pn.Tornado);t.save(r),e(r.id)},[e,t]);return s("div",{onClick:n,children:[s("span",{children:"Ability"}),s("span",{children:"New"})]})},Sf=({id:e,name:t,timestamp:n,onChange:r})=>{const i=p(()=>r(e),[e,r]),o=ts();return s("div",{onClick:i,children:[s("span",{children:t}),s("span",{children:es(n,o)})]})},kf=({onChange:e,onClose:t})=>{const n=J();zn(n,t);const i=ne(at).history().filter(o=>o.category==="ability");return s("div",{ref:n,className:"mock-hero-ability-picker-dropdown",children:[s(wf,{onChange:e}),i.map(({id:o,name:a,timestamp:c})=>s(Sf,{id:o,name:a,timestamp:c,onChange:e},o))]})},Of=A(({foreignModel:e})=>{const[t,n]=$(!1),r=p(()=>n(!0),[n]),i=p(()=>n(!1),[n]),o=y(a=>{e.id=a,n(!1)},[e,n]);return s("div",{className:"mock-hero-ability-picker",children:[s("div",{className:"mock-hero-ability-picker-trigger",onMouseDown:r,children:s(B,{color:"white",image:"swap"})}),t&&s(kf,{onChange:o,onClose:i})]})}),Af=["mock-sidebar-buttons","mock-tooltip"],Cf=e=>!Af.some(t=>e.classList&&e.classList.contains(t)),Ef=()=>s("svg",{viewBox:"0 0 415 230",children:s("path",{stroke:"#6d5572",fill:"#27192c","stroke-width":"6",d:"M0 80 L150 80 A95 95 0 0 0 229.3 44.3 A100 100 0 0 1 400 115 A100 100 0 0 1 229.3 185.7 A95 95 0 0 0 150 150 L0 150"})}),xf=({id:e,number:t,offset:n,onClick:r})=>s("div",{className:"mock-hero-ability-gutter",onClick:r,children:s("div",{children:s("div",{children:[s(Ef,{}),s("div",{className:"mock-hero-ability-gutter-icon",children:s(ic,{id:e,number:t})})]})})}),Mo=A(({foreignModel:e,gutterOffset:t,number:n,onChangeModel:r,onHeight:i})=>{const o=ne(at),a=J(),[c,l]=$(null),[u,h]=$(null),[d,_]=$(null);G(()=>{const w=Pn[e.id]||o.load(e.id);w?h(new Qe(w)):_(new Error(`no ability found with id: ${e.id}`))},[e.id,h,_,o]),G(()=>{setTimeout(()=>{if(u&&a.current){const w=a.current.getBoundingClientRect(),S=1200,E=Math.floor(w.height*S/w.width);Dh(a.current,{filter:Cf,canvasWidth:S,canvasHeight:E,pixelRatio:1}).then(I=>l(I)).catch(I=>console.error("failed to generate ability image",I))}},100)},[a,u,l]);const f=y(()=>{if(!_n(e.id)){const w=Pn[e.id];if(!w)throw new Error(`no example data for ability id: ${e.id}`);const S=new Qe(w);window.localStorage.setItem(S.id,JSON.stringify(S)),e.id=S.id}r(e.id)},[e,r]),R=()=>s(Ui,{className:"mock-hero-ability-loading",onClick:f,onHeight:i,children:s("div",{children:d?s(B,{color:"orange",image:"error"}):s(ia,{})})}),j=()=>s(Ui,{className:"mock-hero-ability-display-rendered",onClick:f,onHeight:i,children:s("img",{src:c,width:"100%"})});return s("div",{className:"mock-hero-ability-display",children:[s("div",{inert:!0,className:"mock-hero-ability-display-hidden",children:s("div",{ref:a,children:u&&s(Js,{model:u})})}),s(Of,{foreignModel:e}),s(xf,{id:e.image,number:n,offset:t,onClick:f}),c?j():R()]})}),Df=({index:e,left:t,right:n,onChangeModel:r})=>{const[i,o]=$(null),[a,c]=$(null),l=Math.min(i,a),u=p(d=>{o(d)},[o]),h=p(d=>{c(d)},[c]);return s("div",{className:"mock-hero-ability-row",children:[s(Mo,{foreignModel:t,gutterOffset:l,number:e*2+1,onChangeModel:r,onHeight:u},t.id),s(Mo,{foreignModel:n,gutterOffset:l,number:e*2+2,onChangeModel:r,onHeight:h},n.id)]})},$f=({model:e,onChangeModel:t})=>{const n=ju(e.abilities,2);return s("div",{className:"mock-hero-abilities",children:n.map((r,i)=>s(Df,{index:i,left:r[0],right:r[1],onChangeModel:t},i))})},Rf=A(({model:e})=>{const t=y(r=>e.portrait=r),n=e.portrait;return s("div",{className:"mock-hero-portrait-frame",children:s(tc,{image:n,type:"portrait",onChange:t,children:s(wi,{id:n})})})}),Pf=A(({model:e})=>{const t=y(()=>{e.spiritScaling!==null&&e.spiritScaling!==void 0?(e.spiritScaling=null,e.boonScaling=0):e.boonScaling!==null&&e.boonScaling!==void 0?e.boonScaling=null:e.spiritScaling=0},[e]);return s("div",{className:"mock-hero-stat",children:[s("div",{className:"mock-hero-stat-position",children:[s(Ws,{detailed:!0,model:e}),s("div",{className:"mock-hero-stat-scaling-button",children:s(B,{color:"white",image:"boon_scaling",onMouseDown:t})})]}),s("div",{className:"mock-hero-stat-contents",children:[s("div",{children:[s(B,{color:e.icon.color,image:e.icon.image}),s(Zt,{model:e})]}),s(Z,{children:e.stat})]})]})}),Nf=A(({model:e})=>s("div",{className:"mock-hero-stats-grid",children:[s("div",{className:"mock-hero-stats-grid-label",children:s(Z,{color:e.color,children:e.label})}),s("div",{className:"mock-hero-stats-grid-cells",children:e.stats.map(t=>s(Pf,{index:t.id,model:t},t.id))})]})),Mf=A(({model:e,onChangeModel:t})=>{const n=y(o=>{e.name=o.split(" ").map(a=>a.toLowerCase()).map(a=>`${a[0].toUpperCase()}${a.slice(1)}`).join(" ")},[e]),r=y(o=>e.tagline=o,[e]),i=y(o=>e.description=o,[e]);return s("div",{className:"mock-hero",children:[s("div",{className:"mock-hero-top",children:[s("div",{className:"mock-hero-synopsis",children:[s("div",{className:"mock-hero-name",children:s(te,{onChange:n,children:e.name})}),s("div",{className:"mock-hero-tagline",children:s(te,{onChange:r,children:e.tagline})}),s("div",{className:"mock-hero-ability-icons",children:e.abilities.map((o,a)=>s(bf,{model:o,number:a+1},a))}),s("div",{className:"mock-hero-description",children:s("div",{children:s(te,{onChange:i,children:e.description})})})]}),s(Rf,{model:e})]}),s("div",{className:"mock-hero-stats",children:e.statGroups.map(o=>s(Nf,{model:o},o.label))}),s($f,{model:e,onChangeModel:t})]})}),Tf=({item:e,onChange:t})=>{const n=p(()=>t(e),[e,t]),r=H(`mock-item-picker-icon-${e.category}`),i=`item-${e.category}`;return s("div",{className:r,onClick:n,children:s(B,{color:i,image:e.icon})})},sr=[1,2,3,4],jf=({onChange:e})=>{const t=n=>s("div",{className:"mock-item-picker-tier",children:n.map(r=>s(Tf,{item:r,onChange:e},r.name))});return s("div",{className:"mock-item-picker",children:[s("div",{className:"mock-item-picker-weapon-group",children:sr.map(n=>t(Dt.weapon[n]))}),s("div",{className:"mock-item-picker-vitality-group",children:sr.map(n=>t(Dt.vitality[n]))}),s("div",{className:"mock-item-picker-spirit-group",children:sr.map(n=>t(Dt.spirit[n]))})]})},Bf=A(({model:e,index:t})=>{const n=y(()=>e.removeComponent(t),[t,e]),r=y(l=>e.components[t]=l.name,[t,e]),i=e.componentInfo[t],o=H("mock-item-component-badge-icon",`mock-item-component-badge-${i.category}`),a=p(()=>s(jf,{onChange:r}),[r]),c=`item-${i.category}`;return s("div",{className:"mock-item-component",children:s(Jt,{onMouseDown:n,children:s("div",{className:"mock-item-component-badge",children:[s(Gn,{click:!0,direction:"down",renderTooltip:a,children:s("div",{className:o,children:s(B,{color:c,image:i.icon})})}),s("div",{className:"mock-item-component-badge-name",children:s(Ze,{children:i.name})})]})})})}),If=A(({model:e})=>e.components.length===0?null:s("div",{className:"mock-item-components",children:[s("div",{children:s(Ze,{children:"COMPONENTS:"})}),e.components.map((t,n)=>s(Bf,{index:n,model:e},n))]})),Lf=A(({item:e,model:t})=>{const n=y(l=>{const u=parseFloat(l);isNaN(u)?console.error("failed to parse",l):t.cooldown=u},[t]),r=y(()=>t.active=!t.active,[t]),i=y(()=>e.removeEffect(t),[e,t]),o=t.active?s(Ze,{color:"bright",children:"Active"}):s(pi,{italic:!0,children:"Passive"}),a=H("mock-item-effect-header",{"mock-item-effect-header-active":t.active}),c=H("mock-item-effect-cooldown",{"mock-item-effect-no-cooldown":!t.cooldown});return s("div",{className:"mock-item-effect",children:[s("div",{className:a,children:[s(Jt,{onMouseDown:i,children:[s(_i,{}),s("span",{className:"mock-item-effect-type",onClick:r,children:o})]}),s("div",{className:c,children:[s(B,{color:"white",image:"stat/cooldown"}),s(te,{onChange:n,children:s(Z,{color:"bright",children:t.cooldown||0})}),s(Ze,{children:"s"})]})]}),s(Gs,{model:t.details})]})}),oc={spirit:{tier:[0,4,8,12,16],stat:"Spirit Power",image:"spirit",color:"purple"},weapon:{units:"%",tier:[0,6,10,14,18],stat:"Weapon Damage",image:"weapon",color:"orange"},vitality:{units:"%",tier:[0,11,14,17,20],stat:"Base Health",image:"vitality",color:"green"}},cr=Object.keys(oc),Hf={},Vf=new Intl.NumberFormat("en-US",Hf),Ff=A(({model:e})=>{const t=y(u=>e.name=u,[e]),n=y(()=>e.tier=e.tier%4+1,[e]),r=y(()=>{const u=cr.indexOf(e.category)+1;e.category=cr[u%cr.length]},[e]),i=y(()=>e.addComponent(),[e]),o=y(()=>e.addEffect(),[e]),a=y(()=>e.addStat({signed:!0}),[e]),c=p(()=>s(U,{children:[s(Ae,{label:"Component",onClick:i}),s(Ae,{label:"Effect",onClick:o}),s(Ae,{label:"Stat",onClick:a})]}),[i,o,a]),l=oc[e.category];if(!l)throw new Error(`invalid category: ${e.category}`);return s(qn,{renderButtons:c,children:s("div",{className:"mock-item-header",children:[s("div",{children:[s("div",{className:"item-name",children:s(te,{onChange:t,children:s(Z,{color:"bright",children:e.name})})}),s("div",{className:"item-cost",children:[s(B,{color:"cyan",image:"soul"}),s("span",{children:Vf.format(e.cost)})]})]}),s("div",{className:"item-bonus",children:[s("div",{className:"item-bonus-value",onClick:n,children:[s(zs,{signed:!0,units:l.units,value:l.tier[e.tier]}),s(B,{color:l.color,image:l.image})]}),s("div",{className:"item-bonus-stat",onClick:r,children:l.stat})]})]})})}),Uf=A(({itemModel:e,statModel:t})=>{const n=y(i=>t.stat=i,[t]),r=y(()=>e.removeStat(t),[e,t]);return s("div",{className:"mock-item-stat",children:s(Jt,{onMouseDown:r,children:[s(_i,{}),s(Zt,{model:t}),s(te,{onChange:n,children:t.stat})]})})}),zf=A(({model:e})=>{const t=y(n=>n(e.stats),[e]);return e.stats.length===0?null:s("div",{className:"mock-item-stats",children:s(gi,{onMove:t,children:e.stats.map(n=>s(Uf,{itemModel:e,statModel:n},n.id))})})}),Wf=A(({model:e})=>{const t=H("mock-item",`mock-item-${e.category}`),n=y(r=>r(e.effects),[e]);return s("div",{className:t,children:[s(Ie,{className:"mock-item-header-animated",children:s(Ff,{model:e})}),s(Ie,{className:"mock-item-components-animated",children:s(If,{model:e})}),s(Ie,{className:"mock-item-stats-animated",children:s(zf,{model:e})}),s(gi,{animated:!0,onMove:n,children:e.effects.map(r=>s(Lf,{item:e,model:r},r.id))})]})}),Ci=e=>e.cells.concat(e.values||[]),Ei=e=>e[0].toUpperCase()+e.slice(1),To={"stat/cooldown":"Cooldown","stat/charge":"Charges","stat/charge_cooldown":"Charge Cooldown","stat/duration":"Duration","stat/range":"Range","stat/aoe":"Area of Effect"},xi=e=>{if(!To[e.icon.image])return null;const t=Je(e);return t.stat=To[e.icon.image],t.stat==="Charges"&&t.value===1&&(t.stat="Charge"),t},Gf={weapon:e=>[e.slice(0,4),e.slice(4)],vitality:e=>[e.slice(0,2),e.slice(2,4),e.slice(4)]},Di=e=>e.map(t=>Gf[t.label.toLowerCase()](t.stats)),Fe=(e,t)=>e?`[COLOR=${t}]${e}[/COLOR]`:"",q=e=>e?`[B]${e}[/B]`:"",lr=e=>e?`[I]${e}[/I]`:"",ur=e=>e?`[INDENT]${e}[/INDENT]`:"",hr=(e,t)=>t?`[SIZE=${e}]${t}[/SIZE]`:"",ac=({orange:e,purple:t,green:n,blue:r,cyan:i,grey:o,red:a,sanitize:c})=>{const l={ability:r,weapon:e,vitality:n,spirit:t},u=(g,P)=>l[P]?l[P](g):g,h=(g,P)=>{if(g.type==="document"||g.type==="paragraph")return g.data.map(x=>h(x)).join("");if(g.type==="linebreak")return`
`;if(g.type==="text")return c(g.data);if(g.type==="em")return lr(g.data.map(x=>h(x)));if(g.type==="strong")return q(g.data.map(x=>h(x)));console.error("invalid node type")},d=g=>h(Hs(g)),_=g=>{const P=g.signed&&g.value>=0?"+":"",x=g.spiritScaling?` (${t(`+${q(g.spiritScaling)} x ${q("Spirit")}`)})`:g.meleeScaling?` (${e(`+${q(g.meleeScaling)} x ${q("Melee")}`)})`:g.boonScaling?` (${i(`+${q(g.boonScaling)} x ${q("Boon")}`)})`:"",Q=g.conditional?o(lr(" (Conditional)")):"",Ot=`${o(P)}${g.value}${o(c(g.units))}`;return`${q(Ot)} ${c(g.stat)}${x}${Q}`},f=g=>g.length===0?"":`
[LIST]
${g.map(P=>`[*] ${_(P)}`).join(`
`)}
[/LIST]
`.trim(),R=g=>{const P=g.sections.map(x=>x.markdownData?`
${d(x.markdownData)}`:`
${f(Ci(x.gridData))}`).join("");return`${d(g.description)}${P}`},j=g=>{const P=g.cooldown!==0?` (${q(g.cooldown)}${q(o("s"))} Cooldown)`:"",x=ur(R(g.details));return`
${q(g.active?"Active":"Passive")}${P}:
${x}
`.trim()},w=g=>{const P=g.map(x=>mn[x]?`${u(x,mn[x].category)}`:x).map(q).join(", ");return P?`${q("Components")}: ${P}
`:""},S=g=>{const P=f(g.stats),x=w(g.components),Q=g.effects.map(Ot=>`
${ur(j(Ot))}`).join("");return`
${hr(5,q(u(c(g.name),g.category)))}
${q(`${u(Ei(g.category),g.category)} Tier ${g.tier}`)}
${x}${q(i(`${g.cost} Souls`))}
${P}${Q}
`.trim()},E=g=>{const P=g.map(xi).filter(x=>x).map(_).join(" | ");return P?`${P}
`:""},I=g=>g.replaceAll(/[\r\n\t]+/g," "),V=g=>g.map((P,x)=>`${q(`Tier ${x+1}`)}: ${d(I(P))}`).join(`
`),N=g=>{const P=E(g.stats),x=R(g.details),Q=V(g.upgrades);return`
${hr(5,q(r(c(g.name))))}
${P}${x}
${Q}
`.trim()},z=g=>{const P=g.split(`
`);return`${P[0]}
${ur(P.slice(1).join(`
`))}`};return{formatItem:S,formatAbility:N,formatHero:g=>{const P=Di(g.statGroups).map(Q=>Q.map(Ot=>Ot.map(_).join(" | ")).join(`
`)).join(`
[HR][/HR]
`),x=g.abilities.map(Q=>z(N(Q))).join(`

`);return`
${hr(6,q(a(c(g.name))))}
${lr(c(g.tagline))}

${c(g.description)}

[HR][/HR]
${P}
[HR][/HR]

${x}
`.trim()}}},qf=new Proxy({},{get:()=>e=>e}),Kf={sanitize:e=>e?`[PLAIN]${e}[/PLAIN]`:"",orange:e=>Fe(e,"#ec981a"),purple:e=>Fe(e,"#ce91ff"),green:e=>Fe(e,"#7cbb1e"),blue:e=>Fe(e,"#3399f3"),cyan:e=>Fe(e,"#9affd6"),grey:e=>Fe(e,"#aaaaaa"),red:e=>Fe(e,"#dd3939")},Yf=ac(Kf),Jf=ac(qf),Xf=e=>e.split(`
`).map(t=>`> ${t}`).join(`
`),$i=e=>{const t=e.signed&&e.value>=0?"+":"",n=e.spiritScaling?` (+${e.spiritScaling} x Spirit)`:e.meleeScaling?` (+${e.meleeScaling} x Melee)`:e.boonScaling?` (+${e.boonScaling} x Boon)`:"",r=e.conditional?" _(Conditional)_":"";return`${t}${e.value}${e.units} ${e.stat}${n}${r}`},sc=e=>e.length===0?"":e.map(t=>`- ${$i(t)}`).join(`
`),jo=e=>e.replaceAll(/[\n]/g,`  
`),cc=e=>{const t=e.sections.map(n=>n.markdownData?`

${jo(n.markdownData)}`:`

${sc(Ci(n.gridData))}`).join("");return`${jo(e.description)}${t}`},Zf=e=>{const t=e.cooldown!==0?` (${e.cooldown}s Cooldown)`:"",n=cc(e.details);return Xf(`
${e.active?"**Active**":"**Passive**"}${t}:  

${n}
`.trim())},Qf=e=>{const t=e.join(", ");return t?`Components: ${t}  
`:""},eg=e=>{const t=sc(e.stats),n=Qf(e.components),r=e.effects.map(i=>`

${Zf(i)}`).join("");return`
##### ${e.name}
${Ei(e.category)} Tier ${e.tier}  
${n}${e.cost} Souls

${t}${r}
`.trim()},tg=e=>{const t=e.map(xi).filter(n=>n).map($i).join(" | ");return t?`${t}  
`:""},ng=e=>e.replaceAll(/[\r\n\t]+/g," "),rg=e=>e.map((t,n)=>`Tier ${n+1}: ${ng(t)}`).join(`  
`),lc=e=>{const t=tg(e.stats),n=cc(e.details),r=rg(e.upgrades);return`
##### ${e.name}
${t}
${n}

${r}
`.trim()},ig=e=>{const t=Di(e.statGroups).map(r=>r.map(i=>i.map($i).join(" | ")).join(`  
`)).join(`

---

`),n=e.abilities.map(lc).join(`

---

`);return`
### ${e.name}
_${e.tagline}_

${e.description}

---

${t}

---

${n}
`.trim()},og={formatItem:eg,formatAbility:lc,formatHero:ig},ag=e=>e.split(`
`).map(t=>`  ${t}`.trimEnd()).join(`
`),jr=e=>e.replaceAll(/[*_]/g,""),Ri=e=>{const t=e.signed&&e.value>=0?"+":"",n=e.spiritScaling?` (+${e.spiritScaling} x Spirit)`:e.meleeScaling?` (+${e.meleeScaling} x Melee)`:e.boonScaling?` (+${e.boonScaling} x Boon)`:"",r=e.conditional?" (Conditional)":"";return`${t}${e.value}${e.units} ${e.stat}${n}${r}`},uc=e=>e.length===0?"":e.map(t=>`* ${Ri(t)}`).join(`
`),hc=e=>{const t=e.sections.map(n=>n.markdownData?`

${jr(n.markdownData)}`:`

${uc(Ci(n.gridData))}`).join("");return`${jr(e.description)}${t}`},sg=e=>{const t=e.cooldown!==0?` (${e.cooldown}s Cooldown)`:"",n=hc(e.details);return`
${e.active?"Active":"Passive"}${t}:
${n}
`.trim()},cg=e=>{const t=e.join(", ");return t?`Components: ${t}
`:""},lg=e=>{const t=uc(e.stats),n=cg(e.components),r=e.effects.map(i=>`

${sg(i)}`).join("");return`
${e.name}
${Ei(e.category)} Tier ${e.tier}
${n}${e.cost} Souls

${t}${r}
`.trim()},ug=e=>{const t=e.map(xi).filter(n=>n).map(Ri).join(" | ");return t?`${t}
`:""},hg=e=>e.replaceAll(/[\r\n\t]+/g," "),dg=e=>e.map((t,n)=>`Tier ${n+1}: ${hg(jr(t))}`).join(`
`),dc=e=>{const t=ug(e.stats),n=hc(e.details),r=dg(e.upgrades);return`
${e.name}
${t}
${n}

${r}
`.trim()},_g=e=>{const t=Di(e.statGroups).map(i=>i.map(o=>o.map(Ri).join(" | ")).join(`
`)).join(`

`),n=["Ability (1)","Ability (2)","Ability (3)","Ultimate"],r=e.abilities.map((i,o)=>`${n[o]}: ${ag(dc(i)).trim()}`).join(`

`);return`
${e.name}
${e.tagline}

${e.description}

${t}

${r}
`.trim()},fg={formatItem:lg,formatAbility:dc,formatHero:_g},_c=[["BBcode (simple)",Jf],["BBcode (color)",Yf],["Markdown",og],["Plaintext",fg]],gg=_c[0][0],Br=Object.fromEntries(_c),mg=(e,t)=>{const n=Je(e);return n.abilities=n.abilities.map(r=>Je(new Qe(Pn[r.id]||t.load(r.id)))),n},pg=(e,t,n)=>e.category==="ability"?t.formatAbility(e):e.category==="hero"?t.formatHero(mg(e,n)):t.formatItem(e),vg=(e,t,n)=>{if(!Br[t])throw new Error(`unknown export format: ${t}`);const r=new Blob([pg(e,Br[t],n)],{type:"text/plain"});navigator.clipboard.write([new ClipboardItem({"text/plain":r})])},yg=({format:e,selected:t,onChange:n})=>{const r=H("mock-editor-copy-text-entry",{"mock-editor-copy-text-entry-selected":t}),i=p(()=>n(e),[e,n]);return s("div",{className:r,onClick:i,children:e})},bg=({format:e,onChange:t,onClose:n})=>{const r=J(null);zn(r,n);const i=Object.keys(Br);return s("div",{ref:r,className:"mock-editor-copy-text-dropdown",children:i.map(o=>s(yg,{format:o,selected:o===e,onChange:t},o))})},wg=({model:e})=>{const t=ne(at),[n,r]=$(gg),[i,o]=$(!1),a=p(()=>o(!0),[o]),c=p(()=>o(!1),[o]),l=p(()=>vg(e,n,t),[e,n,t]),u=p(h=>{r(h),o(!1)},[r,o]);return s("div",{children:[i&&s(bg,{format:n,onChange:u,onClose:c}),s("div",{className:"mock-editor-copy-text-button",children:[s("div",{onClick:l,children:s("span",{children:"Copy Text"})}),s(B,{color:"white",image:"dropdown",onMouseDown:i?null:a})]})]})},Sg=({category:e,name:t,onMouseDown:n})=>{const r=H("mock-editor-history-current",`mock-editor-history-${e}`);return s("div",{className:r,onMouseDown:n,children:[s("span",{children:t||"-"}),s("span",{}),s("span",{})]})},kg=({state:e,data:t,onClose:n})=>{const r=ne(at),i=ts(),o=p(()=>{e.loadRecord(t.id),n()},[e,t,n]),a=p(()=>{r.remove(t.id),n()},[t,r,n]),c=H("mock-editor-history-entry",`mock-editor-history-${t.category}`),l=es(t.timestamp,i)||0;return s("div",{className:c,onClick:o,children:[s("span",{children:s("span",{children:t.name||"-"})}),s("span",{children:l}),s("span",{children:s(yi,{duration:1e3,iconColor:"white",image:"trash",onComplete:a})})]})},Og=({state:e,onClose:t})=>{const n=e.activeModel,r=H("mock-editor-history-template"),i=y(()=>{n.id=crypto.randomUUID(),t()},[n,t]);return s("div",{className:r,onClick:i,children:[s("span",{children:s("span",{children:"Copy Current"})}),s("span",{children:"New"}),s("span",{})]})},Ag=({data:e,label:t,state:n,onClose:r})=>{const i=H("mock-editor-history-template",`mock-editor-history-${e.category}`),o=p(()=>{n.loadRaw(e),r()},[r,n,e]);return s("div",{className:i,onClick:o,children:[s("span",{children:s("span",{children:t})}),s("span",{children:"New"}),s("span",{})]})},Cg=({state:e,onClose:t})=>{const n=p(()=>{e.clearAll(),t()},[e,t]);return s("div",{className:"mock-editor-history-clear",children:s(yi,{duration:1e3,iconColor:"white",image:"trash",onComplete:n,children:s("span",{children:"Clear Data"})})})},Eg=({state:e,onClose:t})=>{const n=ne(at),r=J(null),[i,o]=$([]);return G(()=>{const a=n.history();a.splice(0,1),o(a)},[o,n]),zn(r,t),s("div",{ref:r,className:"mock-editor-history-dropdown",children:s("div",{children:[i.map((a,c)=>s(kg,{data:a,state:e,onClose:t},c)),s(Og,{state:e,onClose:t}),rc.map(a=>s(Ag,{data:a.data,label:a.label,state:e,onClose:t},a.label)),s(Cg,{state:e,onClose:t})]})})},xg=A(({state:e})=>{const[t,n]=$(!1),{category:r,name:i}=e.activeModel||{},o=p(()=>n(c=>!c),[n]),a=p(()=>n(!1),[n]);return s("div",{className:"mock-editor-history",children:[s(B,{color:"white",image:"dropdown",onMouseDown:o}),s("div",{className:"mock-editor-history-position",children:t&&s(Eg,{state:e,onClose:a})}),s(Sg,{category:r,name:i,onMouseDown:o})]})}),Dg=["mock-sidebar-buttons","mock-tooltip","mock-hero-ability-display-hidden"],$g=e=>!Dg.some(t=>e.classList&&e.classList.contains(t)),Rg=e=>`${e.replace(/[^A-z0-9]+/,"-")}-${Math.floor(Date.now()/1e3)}`,Pg=e=>{const t=s("div",{className:"mock-editor-button",onClick:e,children:"Copy"});return Nu?s(Gn,{warning:!0,direction:"down",renderTooltip:()=>s("div",{className:"mock-editor-warning",children:["Copying image data to the clipboard is buggy on Firefox and may slightly alter colors.",s("b",{children:" Take a screenshot "}),"or",s("b",{children:" save as an image "}),"to avoid this problem."]}),children:t}):t},Ng={ability:1204,weapon:924,vitality:924,spirit:924,hero:2004},Bo=(e,t)=>{const n=e.getBoundingClientRect(),r=Ng[t.category]||924,i=Math.ceil(n.height*r/n.width);e.classList.add("mock-to-image");const o=$h(e,{filter:$g,canvasWidth:r,canvasHeight:i,pixelRatio:1}).finally(()=>e.classList.remove("mock-to-image"));return o.catch(a=>console.error("failed to generate image",a)),o},fc=A(({state:e})=>{const t=J(null),{category:n,name:r}=e.activeModel||{},i=p(()=>{const h=Bo(t.current,e.activeModel);navigator.clipboard.write([new ClipboardItem({"image/png":h})])},[t,e]),o=p(()=>Bo(t.current,e.activeModel).then(h=>Bu.saveAs(h,`${Rg(e.activeModel.name)}.png`)),[t,e]),a=p(()=>{const h=[pt,e.activeModel.serialize()],d=window.btoa(JSON.stringify(h)),_=new URL(window.location);_.hash=d;const f=new Blob([_.toString()],{type:"text/plain"});navigator.clipboard.write([new ClipboardItem({"text/plain":f})])},[e]),c=y(h=>{e.loadRecord(h)},[e]);G(()=>{r&&(document.title=`${r} - Deadmock`)},[r]);const l=()=>n==="ability"?s(Js,{model:e.activeModel}):n==="hero"?s(Mf,{model:e.activeModel,onChangeModel:c}):oa.includes(n)?s(Wf,{model:e.activeModel}):null,u=s("div",{className:"mock-editor-button",onClick:a,children:"Copy Link"});return s("div",{className:"mock-editor",children:[s("div",{className:"mock-editor-buttons",children:[Pg(i),s("div",{className:"mock-editor-button",onClick:o,children:"Save"}),n==="hero"?null:u,s(wg,{model:e.activeModel}),s(xg,{state:e})]}),s("div",{ref:t,className:"mock-editor-content",children:l()})]})});fc.propTypes={};class Mg{constructor(t,n){v(this,"activeModel",null);v(this,"_modelStorage",null);this._modelStorage=t,this._modelStorage.migrate(),this._initializeModel(n),he(this),Ha(()=>this._flush(),{delay:100}),window.addEventListener("popstate",()=>{var o;const r=(o=history.state)==null?void 0:o.id,i=r&&this._modelStorage.load(r);this._initializeModel(i)})}_initializeModel(t){var n,r,i;if(t)this.loadRaw(t,{noHistory:!0});else{const o=this._modelStorage.history();for(let a=0;a<o.length;a++){const c=(r=(n=this._modelStorage.history())==null?void 0:n[a])==null?void 0:r.id;if(c&&(this.loadRecord(c,{noHistory:!0}),this.activeModel))break}this.activeModel||this.loadRaw(rc[0].data,{noHistory:!0})}history.replaceState({id:this.activeModel.id,depth:((i=history.state)==null?void 0:i.depth)||0},"")}loadRaw(t,n){if(t.category==="ability"?this._setActive(new Qe(t)):t.category==="hero"?this._setActive(new Oi(t)):this._setActive(new Ai(t)),!(n!=null&&n.noHistory)){const r=history.state.depth+1,{id:i,name:o}=this.activeModel;history.pushState({id:i,depth:r},`Deadmock - ${o}`),window.scrollTo({top:0})}}loadRecord(t,n){const r=this._modelStorage.load(t);r?this.loadRaw(r,n):console.error("failed to load record from localStorage",t)}clearAll(){var n;this._modelStorage.clear(),this.activeModel=null,(((n=history.state)==null?void 0:n.depth)||0)===0?this._initializeModel(null):history.go(-history.state.depth)}_setActive(t){this._flush(),Ql(()=>{this.activeModel=t})}_flush(){this.activeModel&&this._modelStorage.save(this.activeModel)}}const Io=[...yd],Tg=10,gc=()=>{if(Io.length>0){const e=Io.pop(),t=new Image;t.addEventListener("load",()=>gc()),t.src=`/deadmock/icon/${e}`}};for(let e=0;e<Tg;e++)gc();const jg=new Xo({baseUrl:"/deadmock/"}),mc=()=>{if(window.location.hash!==""&&window.location.hash!=="#")try{const[e,t]=JSON.parse(window.atob(window.location.hash.replace("#",""))),n=q_(t,e);return window.location.hash="",n}catch(e){console.error("failed to load model from fragment:",e)}return null},Bg=new $_,pc=new K_,vc=new Mg(pc,mc()),Ig=()=>{const e=mc();e&&vc.loadRaw(e)};window.addEventListener("hashchange",Ig);const Lg=window.innerWidth-document.body.clientWidth;document.body.style.setProperty("--scrollbar-width",`${Lg}px`);dt(s(Zo.Provider,{value:jg,children:s(tn.Provider,{value:Bg,children:s(at.Provider,{value:pc,children:s(fc,{state:vc})})})}),document.getElementById("app"));
