var yc=Object.defineProperty;var bc=(e,t,n)=>t in e?yc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var v=(e,t,n)=>bc(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var Ht,O,Lo,Ue,Pr,Ho,hi,Ii,fi,mi,Vo,Mt={},Fo=[],wc=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Nn=Array.isArray;function xe(e,t){for(var n in t)e[n]=t[n];return e}function Uo(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Ce(e,t,n){var i,r,o,a={};for(o in t)o=="key"?i=t[o]:o=="ref"?r=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?Ht.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)a[o]===void 0&&(a[o]=e.defaultProps[o]);return Dt(e,a,i,r,null)}function Dt(e,t,n,i,r){var o={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++Lo,__i:-1,__u:0};return r==null&&O.vnode!=null&&O.vnode(o),o}function zo(){return{current:null}}function U(e){return e.children}function he(e,t){this.props=e,this.context=t}function dt(e,t){if(t==null)return e.__?dt(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?dt(e):null}function Wo(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Wo(e)}}function _i(e){(!e.__d&&(e.__d=!0)&&Ue.push(e)&&!_n.__r++||Pr!==O.debounceRendering)&&((Pr=O.debounceRendering)||Ho)(_n)}function _n(){var e,t,n,i,r,o,a,c;for(Ue.sort(hi);e=Ue.shift();)e.__d&&(t=Ue.length,i=void 0,o=(r=(n=e).__v).__e,a=[],c=[],n.__P&&((i=xe({},r)).__v=r.__v+1,O.vnode&&O.vnode(i),Li(n.__P,i,r,n.__n,n.__P.namespaceURI,32&r.__u?[o]:null,a,o??dt(r),!!(32&r.__u),c),i.__v=r.__v,i.__.__k[i.__i]=i,Ko(a,i,c),i.__e!=o&&Wo(i)),Ue.length>t&&Ue.sort(hi));_n.__r=0}function Go(e,t,n,i,r,o,a,c,l,u,d){var h,f,m,R,j,w=i&&i.__k||Fo,S=t.length;for(n.__d=l,Sc(n,t,w),l=n.__d,h=0;h<S;h++)(m=n.__k[h])!=null&&(f=m.__i===-1?Mt:w[m.__i]||Mt,m.__i=h,Li(e,m,f,r,o,a,c,l,u,d),R=m.__e,m.ref&&f.ref!=m.ref&&(f.ref&&Hi(f.ref,null,m),d.push(m.ref,m.__c||R,m)),j==null&&R!=null&&(j=R),65536&m.__u||f.__k===m.__k?l=qo(m,l,e):typeof m.type=="function"&&m.__d!==void 0?l=m.__d:R&&(l=R.nextSibling),m.__d=void 0,m.__u&=-196609);n.__d=l,n.__e=j}function Sc(e,t,n){var i,r,o,a,c,l=t.length,u=n.length,d=u,h=0;for(e.__k=[],i=0;i<l;i++)(r=t[i])!=null&&typeof r!="boolean"&&typeof r!="function"?(a=i+h,(r=e.__k[i]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?Dt(null,r,null,null,null):Nn(r)?Dt(U,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?Dt(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=e,r.__b=e.__b+1,o=null,(c=r.__i=kc(r,n,a,d))!==-1&&(d--,(o=n[c])&&(o.__u|=131072)),o==null||o.__v===null?(c==-1&&h--,typeof r.type!="function"&&(r.__u|=65536)):c!==a&&(c==a-1?h--:c==a+1?h++:(c>a?h--:h++,r.__u|=65536))):r=e.__k[i]=null;if(d)for(i=0;i<u;i++)(o=n[i])!=null&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=dt(o)),Yo(o,o))}function qo(e,t,n){var i,r;if(typeof e.type=="function"){for(i=e.__k,r=0;i&&r<i.length;r++)i[r]&&(i[r].__=e,t=qo(i[r],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=dt(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function fe(e,t){return t=t||[],e==null||typeof e=="boolean"||(Nn(e)?e.some(function(n){fe(n,t)}):t.push(e)),t}function kc(e,t,n,i){var r=e.key,o=e.type,a=n-1,c=n+1,l=t[n];if(l===null||l&&r==l.key&&o===l.type&&!(131072&l.__u))return n;if(i>(l!=null&&!(131072&l.__u)?1:0))for(;a>=0||c<t.length;){if(a>=0){if((l=t[a])&&!(131072&l.__u)&&r==l.key&&o===l.type)return a;a--}if(c<t.length){if((l=t[c])&&!(131072&l.__u)&&r==l.key&&o===l.type)return c;c++}}return-1}function Nr(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||wc.test(t)?n:n+"px"}function nn(e,t,n,i,r){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||Nr(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||Nr(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?i?n.u=i.u:(n.u=Ii,e.addEventListener(t,o?mi:fi,o)):e.removeEventListener(t,o?mi:fi,o);else{if(r=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function Mr(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=Ii++;else if(t.t<n.u)return;return n(O.event?O.event(t):t)}}}function Li(e,t,n,i,r,o,a,c,l,u){var d,h,f,m,R,j,w,S,E,I,V,N,z,X,_,P,D=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),o=[c=t.__e=n.__e]),(d=O.__b)&&d(t);e:if(typeof D=="function")try{if(S=t.props,E="prototype"in D&&D.prototype.render,I=(d=D.contextType)&&i[d.__c],V=d?I?I.props.value:d.__:i,n.__c?w=(h=t.__c=n.__c).__=h.__E:(E?t.__c=h=new D(S,V):(t.__c=h=new he(S,V),h.constructor=D,h.render=Ac),I&&I.sub(h),h.props=S,h.state||(h.state={}),h.context=V,h.__n=i,f=h.__d=!0,h.__h=[],h._sb=[]),E&&h.__s==null&&(h.__s=h.state),E&&D.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=xe({},h.__s)),xe(h.__s,D.getDerivedStateFromProps(S,h.__s))),m=h.props,R=h.state,h.__v=t,f)E&&D.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),E&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(E&&D.getDerivedStateFromProps==null&&S!==m&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(S,V),!h.__e&&(h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(S,h.__s,V)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(h.props=S,h.state=h.__s,h.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(Q){Q&&(Q.__=t)}),N=0;N<h._sb.length;N++)h.__h.push(h._sb[N]);h._sb=[],h.__h.length&&a.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(S,h.__s,V),E&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(m,R,j)})}if(h.context=V,h.props=S,h.__P=e,h.__e=!1,z=O.__r,X=0,E){for(h.state=h.__s,h.__d=!1,z&&z(t),d=h.render(h.props,h.state,h.context),_=0;_<h._sb.length;_++)h.__h.push(h._sb[_]);h._sb=[]}else do h.__d=!1,z&&z(t),d=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++X<25);h.state=h.__s,h.getChildContext!=null&&(i=xe(xe({},i),h.getChildContext())),E&&!f&&h.getSnapshotBeforeUpdate!=null&&(j=h.getSnapshotBeforeUpdate(m,R)),Go(e,Nn(P=d!=null&&d.type===U&&d.key==null?d.props.children:d)?P:[P],t,n,i,r,o,a,c,l,u),h.base=t.__e,t.__u&=-161,h.__h.length&&a.push(h),w&&(h.__E=h.__=null)}catch(Q){if(t.__v=null,l||o!=null){for(t.__u|=l?160:128;c&&c.nodeType===8&&c.nextSibling;)c=c.nextSibling;o[o.indexOf(c)]=null,t.__e=c}else t.__e=n.__e,t.__k=n.__k;O.__e(Q,t,n)}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Oc(n.__e,t,n,i,r,o,a,l,u);(d=O.diffed)&&d(t)}function Ko(e,t,n){t.__d=void 0;for(var i=0;i<n.length;i++)Hi(n[i],n[++i],n[++i]);O.__c&&O.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(o){o.call(r)})}catch(o){O.__e(o,r.__v)}})}function Oc(e,t,n,i,r,o,a,c,l){var u,d,h,f,m,R,j,w=n.props,S=t.props,E=t.type;if(E==="svg"?r="http://www.w3.org/2000/svg":E==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),o!=null){for(u=0;u<o.length;u++)if((m=o[u])&&"setAttribute"in m==!!E&&(E?m.localName===E:m.nodeType===3)){e=m,o[u]=null;break}}if(e==null){if(E===null)return document.createTextNode(S);e=document.createElementNS(r,E,S.is&&S),c&&(O.__m&&O.__m(t,o),c=!1),o=null}if(E===null)w===S||c&&e.data===S||(e.data=S);else{if(o=o&&Ht.call(e.childNodes),w=n.props||Mt,!c&&o!=null)for(w={},u=0;u<e.attributes.length;u++)w[(m=e.attributes[u]).name]=m.value;for(u in w)if(m=w[u],u!="children"){if(u=="dangerouslySetInnerHTML")h=m;else if(!(u in S)){if(u=="value"&&"defaultValue"in S||u=="checked"&&"defaultChecked"in S)continue;nn(e,u,null,m,r)}}for(u in S)m=S[u],u=="children"?f=m:u=="dangerouslySetInnerHTML"?d=m:u=="value"?R=m:u=="checked"?j=m:c&&typeof m!="function"||w[u]===m||nn(e,u,m,w[u],r);if(d)c||h&&(d.__html===h.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(h&&(e.innerHTML=""),Go(e,Nn(f)?f:[f],t,n,i,E==="foreignObject"?"http://www.w3.org/1999/xhtml":r,o,a,o?o[0]:n.__k&&dt(n,0),c,l),o!=null)for(u=o.length;u--;)Uo(o[u]);c||(u="value",E==="progress"&&R==null?e.removeAttribute("value"):R!==void 0&&(R!==e[u]||E==="progress"&&!R||E==="option"&&R!==w[u])&&nn(e,u,R,w[u],r),u="checked",j!==void 0&&j!==e[u]&&nn(e,u,j,w[u],r))}return e}function Hi(e,t,n){try{if(typeof e=="function"){var i=typeof e.__u=="function";i&&e.__u(),i&&t==null||(e.__u=e(t))}else e.current=t}catch(r){O.__e(r,n)}}function Yo(e,t,n){var i,r;if(O.unmount&&O.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||Hi(i,null,t)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){O.__e(o,t)}i.base=i.__P=null}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&Yo(i[r],t,n||typeof e.type!="function");n||Uo(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function Ac(e,t,n){return this.constructor(e,n)}function ht(e,t,n){var i,r,o,a;O.__&&O.__(e,t),r=(i=typeof n=="function")?null:n&&n.__k||t.__k,o=[],a=[],Li(t,e=(!i&&n||t).__k=Ce(U,null,[e]),r||Mt,Mt,t.namespaceURI,!i&&n?[n]:r?null:t.firstChild?Ht.call(t.childNodes):null,o,!i&&n?n:r?r.__e:t.firstChild,i,a),Ko(o,e,a)}function Jo(e,t){ht(e,t,Jo)}function Vi(e,t,n){var i,r,o,a,c=xe({},e.props);for(o in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)o=="key"?i=t[o]:o=="ref"?r=t[o]:c[o]=t[o]===void 0&&a!==void 0?a[o]:t[o];return arguments.length>2&&(c.children=arguments.length>3?Ht.call(arguments,2):n),Dt(e.type,c,i||e.key,r||e.ref,null)}function Vt(e,t){var n={__c:t="__cC"+Vo++,__:e,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,o;return this.getChildContext||(r=new Set,(o={})[t]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&r.forEach(function(c){c.__e=!0,_i(c)})},this.sub=function(a){r.add(a);var c=a.componentWillUnmount;a.componentWillUnmount=function(){r&&r.delete(a),c&&c.call(a)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}Ht=Fo.slice,O={__e:function(e,t,n,i){for(var r,o,a;t=t.__;)if((r=t.__c)&&!r.__)try{if((o=r.constructor)&&o.getDerivedStateFromError!=null&&(r.setState(o.getDerivedStateFromError(e)),a=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,i||{}),a=r.__d),a)return r.__E=r}catch(c){e=c}throw e}},Lo=0,he.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=xe({},this.state),typeof e=="function"&&(e=e(xe({},n),this.props)),e&&xe(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),_i(this))},he.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),_i(this))},he.prototype.render=U,Ue=[],Ho=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,hi=function(e,t){return e.__v.__b-t.__v.__b},_n.__r=0,Ii=0,fi=Mr(!1),mi=Mr(!0),Vo=0;var Cc=0;function s(e,t,n,i,r,o){t||(t={});var a,c,l=t;"ref"in t&&(a=t.ref,delete t.ref);var u={type:e,props:l,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Cc,__i:-1,__u:0,__source:r,__self:o};if(typeof e=="function"&&(a=e.defaultProps))for(c in a)l[c]===void 0&&(l[c]=a[c]);return O.vnode&&O.vnode(u),u}class Xo{constructor(t){this.baseUrl=(t==null?void 0:t.baseUrl)||"/"}}const Zo=Vt(new Xo);var Ne,L,Jn,Tr,ft=0,Qo=[],W=O,jr=W.__b,Br=W.__r,Ir=W.diffed,Lr=W.__c,Hr=W.unmount,Vr=W.__;function et(e,t){W.__h&&W.__h(L,e,ft||t),ft=0;var n=L.__H||(L.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function $(e){return ft=1,Mn(ea,e)}function Mn(e,t,n){var i=et(Ne++,2);if(i.t=e,!i.__c&&(i.__=[n?n(t):ea(void 0,t),function(c){var l=i.__N?i.__N[0]:i.__[0],u=i.t(l,c);l!==u&&(i.__N=[u,i.__[1]],i.__c.setState({}))}],i.__c=L,!L.u)){var r=function(c,l,u){if(!i.__c.__H)return!0;var d=i.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!o||o.call(this,c,l,u);var h=!1;return d.forEach(function(f){if(f.__N){var m=f.__[0];f.__=f.__N,f.__N=void 0,m!==f.__[0]&&(h=!0)}}),!(!h&&i.__c.props===c)&&(!o||o.call(this,c,l,u))};L.u=!0;var o=L.shouldComponentUpdate,a=L.componentWillUpdate;L.componentWillUpdate=function(c,l,u){if(this.__e){var d=o;o=void 0,r(c,l,u),o=d}a&&a.call(this,c,l,u)},L.shouldComponentUpdate=r}return i.__N||i.__}function G(e,t){var n=et(Ne++,3);!W.__s&&Wi(n.__H,t)&&(n.__=e,n.i=t,L.__H.__h.push(n))}function yt(e,t){var n=et(Ne++,4);!W.__s&&Wi(n.__H,t)&&(n.__=e,n.i=t,L.__h.push(n))}function J(e){return ft=5,Ft(function(){return{current:e}},[])}function Fi(e,t,n){ft=6,yt(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function Ft(e,t){var n=et(Ne++,7);return Wi(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function p(e,t){return ft=8,Ft(function(){return e},t)}function ne(e){var t=L.context[e.__c],n=et(Ne++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(L)),t.props.value):e.__}function Ui(e,t){W.useDebugValue&&W.useDebugValue(t?t(e):e)}function Ec(e){var t=et(Ne++,10),n=$();return t.__=e,L.componentDidCatch||(L.componentDidCatch=function(i,r){t.__&&t.__(i,r),n[1](i)}),[n[0],function(){n[1](void 0)}]}function zi(){var e=et(Ne++,11);if(!e.__){for(var t=L.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Dc(){for(var e;e=Qo.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ln),e.__H.__h.forEach(gi),e.__H.__h=[]}catch(t){e.__H.__h=[],W.__e(t,e.__v)}}W.__b=function(e){L=null,jr&&jr(e)},W.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Vr&&Vr(e,t)},W.__r=function(e){Br&&Br(e),Ne=0;var t=(L=e.__c).__H;t&&(Jn===L?(t.__h=[],L.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(t.__h.forEach(ln),t.__h.forEach(gi),t.__h=[],Ne=0)),Jn=L},W.diffed=function(e){Ir&&Ir(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Qo.push(t)!==1&&Tr===W.requestAnimationFrame||((Tr=W.requestAnimationFrame)||xc)(Dc)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Jn=L=null},W.__c=function(e,t){t.some(function(n){try{n.__h.forEach(ln),n.__h=n.__h.filter(function(i){return!i.__||gi(i)})}catch(i){t.some(function(r){r.__h&&(r.__h=[])}),t=[],W.__e(i,n.__v)}}),Lr&&Lr(e,t)},W.unmount=function(e){Hr&&Hr(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{ln(i)}catch(r){t=r}}),n.__H=void 0,t&&W.__e(t,n.__v))};var Fr=typeof requestAnimationFrame=="function";function xc(e){var t,n=function(){clearTimeout(i),Fr&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);Fr&&(t=requestAnimationFrame(n))}function ln(e){var t=L,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),L=t}function gi(e){var t=L;e.__c=e.__(),L=t}function Wi(e,t){return!e||e.length!==t.length||t.some(function(n,i){return n!==e[i]})}function ea(e,t){return typeof t=="function"?t(e):t}const $c=500,ta=({children:e,onClick:t,onDoubleClick:n})=>{const i=J(),[r,o]=$(null),a=p(c=>{r&&r+$c>c.timeStamp?n():t(),o(c.timeStamp)},[r,o,t,n]);return G(()=>{if(r){const c=l=>{i.current&&!i.current.contains(l.target)&&o(null)};return window.addEventListener("mousedown",c),()=>window.removeEventListener("mousedown",c)}},[i,r,o]),Vi(e,{ref:i,onMouseDown:a})},Rc={attributes:!0,childList:!0,subtree:!0,characterData:!0},na=(e,t)=>{Array.from(e.children).forEach(n=>{n.nodeName==="IMG"&&!n.complete?n.onload=t:na(n,t)})},Ur=({onHeight:e,onWidth:t,children:n,...i})=>{const[,r]=$({}),o=J(),a=p(()=>{if(o.current){const{width:c,height:l}=o.current.getBoundingClientRect(),u={width:c,height:l};na(o.current,a),r(d=>(u.height!==d.height&&e&&e(u.height),u.width!==d.width&&t&&t(u.width),u))}},[o,r,e,t]);return G(()=>{if(o.current){a();const c=new MutationObserver(a);return c.observe(o.current,Rc),()=>c.disconnect()}},[o,a]),ns(a),s("div",{ref:o,...i,children:n})};var At=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Nc(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}),n}var ia={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var c=arguments[a];c&&(o=r(o,i(c)))}return o}function i(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var c in o)t.call(o,c)&&o[c]&&(a=r(a,c));return a}function r(o,a){return a?o?o+" "+a:o+a:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(ia);var Mc=ia.exports;const H=Pc(Mc),ra=({color:e})=>{const t=`mock-spinner-${e}`,n=H("mock-spinner",{[t]:!!e});return s("div",{className:n,children:[s("div",{}),s("div",{}),s("div",{}),s("div",{})]})},k="weapon",x="vitality",C="spirit",oa=[k,x,C],Tc=[0,500,1250,3e3,6e3],aa=[{name:"Basic Magazine",tier:1,cost:500,category:k,active:!1,icon:"item/basic_magazine"},{name:"Close Quarters",tier:1,cost:500,category:k,active:!1,icon:"item/close_quarters"},{name:"Headshot Booster",tier:1,cost:500,category:k,active:!1,icon:"item/headshot_booster"},{name:"High-Velocity Mag",tier:1,cost:500,category:k,active:!1,icon:"item/high_velocity_mag"},{name:"Hollow Point Ward",tier:1,cost:500,category:k,active:!1,icon:"item/hollow_point_ward"},{name:"Monster Rounds",tier:1,cost:500,category:k,active:!1,icon:"item/monster_rounds"},{name:"Rapid Rounds",tier:1,cost:500,category:k,active:!1,icon:"item/rapid_rounds"},{name:"Restorative Shot",tier:1,cost:500,category:k,active:!1,icon:"item/restorative_shot"},{name:"Active Reload",tier:2,cost:1250,category:k,active:!1,icon:"item/active_reload"},{name:"Berserker",tier:2,cost:1250,category:k,active:!1,icon:"item/berserker"},{name:"Fleetfoot",tier:2,cost:1250,category:k,active:!0,icon:"item/fleetfoot"},{name:"Kinetic Dash",tier:2,cost:1250,category:k,active:!1,icon:"item/kinetic_dash"},{name:"Long Range",tier:2,cost:1250,category:k,active:!1,icon:"item/long_range"},{name:"Melee Charge",tier:2,cost:1250,category:k,active:!1,icon:"item/melee_charge"},{name:"Mystic Shot",tier:2,cost:1250,category:k,active:!1,icon:"item/mystic_shot"},{name:"Slowing Bullets",tier:2,cost:1250,category:k,active:!1,icon:"item/slowing_bullets"},{name:"Soul Shredder Bullets",tier:2,cost:1250,category:k,active:!1,icon:"item/soul_shredder_bullets"},{name:"Swift Striker",tier:2,cost:1250,category:k,active:!1,icon:"item/swift_striker"},{name:"Alchemical Fire",tier:3,cost:3e3,category:k,active:!0,icon:"item/alchemical_fire"},{name:"Burst Fire",tier:3,cost:3e3,category:k,active:!1,icon:"item/burst_fire"},{name:"Escalating Resilience",tier:3,cost:3e3,category:k,active:!1,icon:"item/escalating_resilience"},{name:"Headhunter",tier:3,cost:3500,category:k,active:!1,icon:"item/headhunter"},{name:"Heroic Aura",tier:3,cost:3e3,category:k,active:!0,icon:"item/heroic_aura"},{name:"Hunter's Aura",tier:3,cost:3e3,category:k,active:!1,icon:"item/hunters_aura"},{name:"Intensifying Magazine",tier:3,cost:3e3,category:k,active:!1,icon:"item/intensifying_magazine"},{name:"Point Blank",tier:3,cost:3500,category:k,active:!1,icon:"item/point_blank"},{name:"Pristine Emblem",tier:3,cost:3500,category:k,active:!1,icon:"item/pristine_emblem"},{name:"Sharpshooter",tier:3,cost:4250,category:k,active:!1,icon:"item/sharpshooter"},{name:"Spellslinger Headshots",tier:3,cost:4250,category:k,active:!1,icon:"item/spellslinger_headshots"},{name:"Tesla Bullets",tier:3,cost:3e3,category:k,active:!1,icon:"item/tesla_bullets"},{name:"Titanic Magazine",tier:3,cost:3500,category:k,active:!1,icon:"item/titanic_magazine"},{name:"Toxic Bullets",tier:3,cost:3e3,category:k,active:!1,icon:"item/toxic_bullets"},{name:"Warp Stone",tier:3,cost:3e3,category:k,active:!0,icon:"item/warp_stone"},{name:"Crippling Headshot",tier:4,cost:6e3,category:k,active:!1,icon:"item/crippling_headshot"},{name:"Frenzy",tier:4,cost:6e3,category:k,active:!1,icon:"item/frenzy"},{name:"Glass Cannon",tier:4,cost:6e3,category:k,active:!1,icon:"item/glass_cannon"},{name:"Lucky Shot",tier:4,cost:6e3,category:k,active:!1,icon:"item/lucky_shot"},{name:"Ricochet",tier:4,cost:6e3,category:k,active:!1,icon:"item/ricochet"},{name:"Shadow Weave",tier:4,cost:6e3,category:k,active:!0,icon:"item/shadow_weave"},{name:"Silencer",tier:4,cost:7450,category:k,active:!1,icon:"item/silencer"},{name:"Spiritual Overflow",tier:4,cost:6e3,category:k,active:!1,icon:"item/spiritual_overflow"},{name:"Vampiric Burst",tier:4,cost:6e3,category:k,active:!0,icon:"item/vampiric_burst"},{name:"Enduring Spirit",tier:1,cost:500,category:x,active:!1,icon:"item/enduring_spirit"},{name:"Extra Health",tier:1,cost:500,category:x,active:!1,icon:"item/extra_health"},{name:"Extra Regen",tier:1,cost:500,category:x,active:!1,icon:"item/extra_regen"},{name:"Extra Stamina",tier:1,cost:500,category:x,active:!1,icon:"item/extra_stamina"},{name:"Healing Rite",tier:1,cost:500,category:x,active:!0,icon:"item/healing_rite"},{name:"Melee Lifesteal",tier:1,cost:500,category:x,active:!1,icon:"item/melee_lifesteal"},{name:"Sprint Boots",tier:1,cost:500,category:x,active:!1,icon:"item/sprint_boots"},{name:"Bullet Armor",tier:2,cost:1250,category:x,active:!1,icon:"item/bullet_armor"},{name:"Bullet Lifesteal",tier:2,cost:1250,category:x,active:!1,icon:"item/bullet_lifesteal"},{name:"Combat Barrier",tier:2,cost:1250,category:x,active:!1,icon:"item/combat_barrier"},{name:"Debuff Reducer",tier:2,cost:1250,category:x,active:!1,icon:"item/debuff_reducer"},{name:"Divine Barrier",tier:2,cost:1250,category:x,active:!0,icon:"item/divine_barrier"},{name:"Enchanter's Barrier",tier:2,cost:1250,category:x,active:!1,icon:"item/enchanters_barrier"},{name:"Enduring Speed",tier:2,cost:1750,category:x,active:!1,icon:"item/enduring_speed"},{name:"Healbane",tier:2,cost:1250,category:x,active:!1,icon:"item/healbane"},{name:"Healing Booster",tier:2,cost:1250,category:x,active:!1,icon:"item/healing_booster"},{name:"Healing Nova",tier:2,cost:1750,category:x,active:!0,icon:"item/healing_nova"},{name:"Reactive Barrier",tier:2,cost:1250,category:x,active:!1,icon:"item/reactive_barrier"},{name:"Restorative Locket",tier:2,cost:1250,category:x,active:!0,icon:"item/restorative_locket"},{name:"Return Fire",tier:2,cost:1250,category:x,active:!0,icon:"item/return_fire"},{name:"Spirit Armor",tier:2,cost:1250,category:x,active:!1,icon:"item/spirit_armor"},{name:"Spirit Lifesteal",tier:2,cost:1250,category:x,active:!1,icon:"item/spirit_lifesteal"},{name:"Debuff Remover",tier:3,cost:4250,category:x,active:!0,icon:"item/debuff_remover"},{name:"Fortitude",tier:3,cost:3500,category:x,active:!1,icon:"item/fortitude"},{name:"Improved Bullet Armor",tier:3,cost:4250,category:x,active:!1,icon:"item/improved_bullet_armor"},{name:"Improved Spirit Armor",tier:3,cost:4250,category:x,active:!1,icon:"item/improved_spirit_armor"},{name:"Lifestrike",tier:3,cost:3500,category:x,active:!1,icon:"item/lifestrike"},{name:"Majestic Leap",tier:3,cost:3e3,category:x,active:!0,icon:"item/majestic_leap"},{name:"Metal Skin",tier:3,cost:3e3,category:x,active:!0,icon:"item/metal_skin"},{name:"Rescue Beam",tier:3,cost:3e3,category:x,active:!0,icon:"item/rescue_beam"},{name:"Superior Stamina",tier:3,cost:3500,category:x,active:!1,icon:"item/superior_stamina"},{name:"Colossus",tier:4,cost:6e3,category:x,active:!0,icon:"item/colossus"},{name:"Inhibitor",tier:4,cost:6e3,category:x,active:!1,icon:"item/inhibitor"},{name:"Leech",tier:4,cost:6e3,category:x,active:!1,icon:"item/leech"},{name:"Phantom Strike",tier:4,cost:6e3,category:x,active:!0,icon:"item/phantom_strike"},{name:"Siphon Bullets",tier:4,cost:6e3,category:x,active:!1,icon:"item/siphon_bullets"},{name:"Unstoppable",tier:4,cost:6e3,category:x,active:!0,icon:"item/unstoppable"},{name:"Veil Walker",tier:4,cost:6e3,category:x,active:!1,icon:"item/veil_walker"},{name:"Ammo Scavenger",tier:1,cost:500,category:C,active:!1,icon:"item/ammo_scavenger"},{name:"Extra Charge",tier:1,cost:500,category:C,active:!1,icon:"item/extra_charge"},{name:"Extra Spirit",tier:1,cost:500,category:C,active:!1,icon:"item/extra_spirit"},{name:"Infuser",tier:1,cost:500,category:C,active:!0,icon:"item/infuser"},{name:"Mystic Burst",tier:1,cost:500,category:C,active:!1,icon:"item/mystic_burst"},{name:"Mystic Reach",tier:1,cost:500,category:C,active:!1,icon:"item/mystic_reach"},{name:"Spirit Strike",tier:1,cost:500,category:C,active:!1,icon:"item/spirit_strike"},{name:"Bullet Resist Shredder",tier:2,cost:1250,category:C,active:!1,icon:"item/bullet_resist_shredder"},{name:"Cold Front",tier:2,cost:1250,category:C,active:!0,icon:"item/cold_front"},{name:"Decay",tier:2,cost:1250,category:C,active:!0,icon:"item/decay"},{name:"Duration Extender",tier:2,cost:1250,category:C,active:!1,icon:"item/duration_extender"},{name:"Improved Cooldown",tier:2,cost:1250,category:C,active:!1,icon:"item/improved_cooldown"},{name:"Mystic Vulnerability",tier:2,cost:1250,category:C,active:!1,icon:"item/mystic_vulnerability"},{name:"Quicksilver Reload",tier:2,cost:1250,category:C,active:!1,icon:"item/quicksilver_reload"},{name:"Slowing Hex",tier:2,cost:1750,category:C,active:!0,icon:"item/slowing_hex"},{name:"Suppressor",tier:2,cost:1250,category:C,active:!1,icon:"item/suppressor"},{name:"Withering Whip",tier:2,cost:1250,category:C,active:!0,icon:"item/withering_whip"},{name:"Arcane Surge",tier:3,cost:4250,category:C,active:!1,icon:"item/arcane_surge"},{name:"Ethereal Shift",tier:3,cost:3e3,category:C,active:!0,icon:"item/ethereal_shift"},{name:"Improved Burst",tier:3,cost:3500,category:C,active:!1,icon:"item/improved_burst"},{name:"Improved Reach",tier:3,cost:3500,category:C,active:!1,icon:"item/improved_reach"},{name:"Improved Spirit",tier:3,cost:3500,category:C,active:!1,icon:"item/improved_spirit"},{name:"Knockdown",tier:3,cost:3e3,category:C,active:!0,icon:"item/knockdown"},{name:"Mystic Slow",tier:3,cost:4250,category:C,active:!1,icon:"item/mystic_slow"},{name:"Rapid Recharge",tier:3,cost:3500,category:C,active:!1,icon:"item/rapid_recharge"},{name:"Silence Glyph",tier:3,cost:3e3,category:C,active:!0,icon:"item/silence_glyph"},{name:"Spirit Snatch",tier:3,cost:3500,category:C,active:!1,icon:"item/spirit_snatch"},{name:"Superior Cooldown",tier:3,cost:4250,category:C,active:!1,icon:"item/superior_cooldown"},{name:"Superior Duration",tier:3,cost:4250,category:C,active:!1,icon:"item/superior_duration"},{name:"Surge of Power",tier:3,cost:3e3,category:C,active:!1,icon:"item/surge_of_power"},{name:"Torment Pulse",tier:3,cost:3e3,category:C,active:!1,icon:"item/torment_pulse"},{name:"Boundless Spirit",tier:4,cost:9700,category:C,active:!1,icon:"item/boundless_spirit"},{name:"Curse",tier:4,cost:6e3,category:C,active:!0,icon:"item/curse"},{name:"Diviner's Kevlar",tier:4,cost:6e3,category:C,active:!1,icon:"item/diviners_kevlar"},{name:"Echo Shard",tier:4,cost:6e3,category:C,active:!0,icon:"item/echo_shard"},{name:"Escalating Exposure",tier:4,cost:7450,category:C,active:!1,icon:"item/escalating_exposure"},{name:"Magic Carpet",tier:4,cost:6e3,category:C,active:!0,icon:"item/magic_carpet"},{name:"Mystic Reverb",tier:4,cost:6e3,category:C,active:!1,icon:"item/mystic_reverb"},{name:"Refresher",tier:4,cost:6e3,category:C,active:!0,icon:"item/refresher"}],gn=Object.fromEntries(aa.map(e=>[e.name,e])),jc=Object.groupBy(aa,e=>e.category),xt=Object.fromEntries(Object.entries(jc).map(([e,t])=>[e,Object.groupBy(t,n=>n.tier)]));Object.values(xt).forEach(e=>Object.values(e).forEach(t=>t.sort((n,i)=>n.active<i.active?-1:n.active>i.active?1:n.name<i.name?-1:n.name>i.name?1:0)));const Gi=[["stat/cooldown","stat/charge","stat/charge_cooldown","stat/duration","stat/range","stat/aoe"],["stat/weapon_damage","stat/spirit_damage","stat/melee","stat/bullet","stat/fire_rate","stat/ammo","stat/reload"],["stat/bullet_armor","stat/bullet_resist_reduction","stat/spirit_armor","stat/spirit_resist_reduction","stat/bullet_shield","stat/spirit_shield"],["stat/move_speed","stat/stamina","stat/move_slow","stat/stun","stat/invisible"],["stat/health","stat/healing","stat/damage_amplification"],["stat/placeholder","stat/ability_point","stat/silence"]];Gi.flat();const sa={abrams:["hero/abrams/siphon_life","hero/abrams/shoulder_charge","hero/abrams/infernal_resilience","hero/abrams/seismic_impact"],bebop:["hero/bebop/exploding_uppercut","hero/bebop/sticky_bomb","hero/bebop/hook","hero/bebop/hyper_beam"],dynamo:["hero/dynamo/kinetic_pulse","hero/dynamo/quantum_entanglement","hero/dynamo/rejuvenating_aurora","hero/dynamo/singularity"],grey_talon:["hero/grey_talon/charged_shot","hero/grey_talon/rain_of_arrows","hero/grey_talon/spirit_snare","hero/grey_talon/guided_owl"],haze:["hero/haze/sleep_dagger","hero/haze/smoke_bomb","hero/haze/fixation","hero/haze/bullet_dance"],infernus:["hero/infernus/catalyst","hero/infernus/flame_dash","hero/infernus/afterburn","hero/infernus/concussive_combustion"],ivy:["hero/ivy/kudzu_bomb","hero/ivy/watchers_covenant","hero/ivy/stone_form","hero/ivy/air_drop"],kelvin:["hero/kelvin/frost_grenade","hero/kelvin/ice_path","hero/kelvin/arctic_beam","hero/kelvin/frozen_shelter"],lady_geist:["hero/lady_geist/essence_bomb","hero/lady_geist/life_drain","hero/lady_geist/malice","hero/lady_geist/soul_exchange"],lash:["hero/lash/ground_strike","hero/lash/grapple","hero/lash/flog","hero/lash/death_slam"],mcginnis:["hero/mcginnis/mini_turret","hero/mcginnis/medicinal_specter","hero/mcginnis/spectral_wall","hero/mcginnis/heavy_barrage"],mirage:["hero/mirage/fire_scarabs","hero/mirage/tornado","hero/mirage/djinns_mark","hero/mirage/traveler"],mo_and_krill:["hero/mo_and_krill/scorn","hero/mo_and_krill/burrow","hero/mo_and_krill/sand_blast","hero/mo_and_krill/combo"],paradox:["hero/paradox/pulse_grenade","hero/paradox/time_wall","hero/paradox/kinetic_carbine","hero/paradox/paradoxical_swap"],pocket:["hero/pocket/barrage","hero/pocket/flying_cloak","hero/pocket/enchanters_satchel","hero/pocket/affliction"],seven:["hero/seven/lightning_ball","hero/seven/static_charge","hero/seven/power_surge","hero/seven/storm_cloud"],shiv:["hero/shiv/serrated_knives","hero/shiv/slice_and_dice","hero/shiv/bloodletting","hero/shiv/killing_blow"],vindicta:["hero/vindicta/stake","hero/vindicta/flight","hero/vindicta/crow_familiar","hero/vindicta/assassinate"],viscous:["hero/viscous/splatter","hero/viscous/the_cube","hero/viscous/puddle_punch","hero/viscous/goo_ball"],warden:["hero/warden/alchemical_flask","hero/warden/willpower","hero/warden/binding_word","hero/warden/last_stand"],wraith:["hero/wraith/card_trick","hero/wraith/project_mind","hero/wraith/full_auto","hero/wraith/telekinesis"],yamato:["hero/yamato/power_slash","hero/yamato/flying_strike","hero/yamato/crimson_slash","hero/yamato/shadow_transformation"]};new Set(Object.values(sa).flatMap(e=>e));function M(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var Bc={};function Tn(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:Bc}var ca=Object.assign,pn=Object.getOwnPropertyDescriptor,Se=Object.defineProperty,jn=Object.prototype,pi=[];Object.freeze(pi);var la={};Object.freeze(la);var Ic=typeof Proxy<"u",Lc=Object.toString();function ua(){Ic||M("Proxy not available")}function da(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var ct=function(){};function ge(e){return typeof e=="function"}function Ge(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function Bn(e){return e!==null&&typeof e=="object"}function Me(e){if(!Bn(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===Lc}function ha(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function Ut(e,t,n){Se(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function fa(e,t,n){Se(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function tt(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(i){return Bn(i)&&i[n]===!0}}function bt(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function Hc(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),i=Object.getPrototypeOf(n);return i===null}function Ee(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var ma=typeof Object.getOwnPropertySymbols<"u";function Vc(e){var t=Object.keys(e);if(!ma)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(i){return jn.propertyIsEnumerable.call(e,i)})):t}var mt=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:ma?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function _a(e){return e===null?null:typeof e=="object"?""+e:e}function $e(e,t){return jn.hasOwnProperty.call(e,t)}var Fc=Object.getOwnPropertyDescriptors||function(t){var n={};return mt(t).forEach(function(i){n[i]=pn(t,i)}),n};function re(e,t){return!!(e&t)}function oe(e,t,n){return n?e|=t:e&=~t,e}function zr(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function Uc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Wc(i.key),i)}}function wt(e,t,n){return t&&Uc(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lt(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Gc(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qe.apply(null,arguments)}function ga(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,vi(e,t)}function vi(e,t){return vi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vi(e,t)}function zc(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Wc(e){var t=zc(e,"string");return typeof t=="symbol"?t:t+""}function Gc(e,t){if(e){if(typeof e=="string")return zr(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zr(e,t):void 0}}var we=Symbol("mobx-stored-annotations");function ke(e){function t(n,i){if(Wt(i))return e.decorate_20223_(n,i);zt(n,i,e)}return Object.assign(t,e)}function zt(e,t,n){$e(e,we)||Ut(e,we,qe({},e[we])),tl(n)||(e[we][t]=n)}function qc(e){return $e(e,we)||Ut(e,we,qe({},e[we])),e[we]}function Wt(e){return typeof e=="object"&&typeof e.kind=="string"}var b=Symbol("mobx administration"),Le=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=T.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},t.reportObserved=function(){return Na(this)},t.reportChanged=function(){le(),Ma(this),ue()},t.toString=function(){return this.name_},wt(e,[{key:"isBeingObserved",get:function(){return re(this.flags_,e.isBeingObservedMask_)},set:function(i){this.flags_=oe(this.flags_,e.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return re(this.flags_,e.isPendingUnobservationMask_)},set:function(i){this.flags_=oe(this.flags_,e.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return re(this.flags_,e.diffValueMask_)?1:0},set:function(i){this.flags_=oe(this.flags_,e.diffValueMask_,i===1)}}])}();Le.isBeingObservedMask_=1;Le.isPendingUnobservationMask_=2;Le.diffValueMask_=4;var qi=tt("Atom",Le);function pa(e,t,n){t===void 0&&(t=ct),n===void 0&&(n=ct);var i=new Le(e);return t!==ct&&iu(i,t),n!==ct&&Va(i,n),i}function Kc(e,t){return e===t}function Yc(e,t){return er(e,t)}function Jc(e,t){return er(e,t,1)}function Xc(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var vn={identity:Kc,structural:Yc,default:Xc,shallow:Jc};function Ke(e,t,n){return Ga(e)?e:Array.isArray(e)?K.array(e,{name:n}):Me(e)?K.object(e,void 0,{name:n}):bt(e)?K.map(e,{name:n}):Ee(e)?K.set(e,{name:n}):typeof e=="function"&&!jt(e)&&!Bt(e)?ha(e)?_t(e):Tt(n,e):e}function Zc(e,t,n){if(e==null||Un(e)||Fn(e)||it(e)||be(e))return e;if(Array.isArray(e))return K.array(e,{name:n,deep:!1});if(Me(e))return K.object(e,void 0,{name:n,deep:!1});if(bt(e))return K.map(e,{name:n,deep:!1});if(Ee(e))return K.set(e,{name:n,deep:!1})}function In(e){return e}function Qc(e,t){return er(e,t)?t:e}var el="override";function tl(e){return e.annotationType_===el}function Gt(e,t){return{annotationType_:e,options_:t,make_:nl,extend_:il,decorate_20223_:rl}}function nl(e,t,n,i){var r;if((r=this.options_)!=null&&r.bound)return this.extend_(e,t,n,!1)===null?0:1;if(i===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(jt(n.value))return 1;var o=va(e,this,t,n,!1);return Se(i,t,o),2}function il(e,t,n,i){var r=va(e,this,t,n);return e.defineProperty_(t,r,i)}function rl(e,t){var n=t.kind,i=t.name,r=t.addInitializer,o=this,a=function(u){var d,h,f,m;return Ye((d=(h=o.options_)==null?void 0:h.name)!=null?d:i.toString(),u,(f=(m=o.options_)==null?void 0:m.autoAction)!=null?f:!1)};if(n=="field")return function(l){var u,d=l;return jt(d)||(d=a(d)),(u=o.options_)!=null&&u.bound&&(d=d.bind(this),d.isMobxAction=!0),d};if(n=="method"){var c;return jt(e)||(e=a(e)),(c=this.options_)!=null&&c.bound&&r(function(){var l=this,u=l[i].bind(l);u.isMobxAction=!0,l[i]=u}),e}M("Cannot apply '"+o.annotationType_+"' to '"+String(i)+"' (kind: "+n+"):"+(`
'`+o.annotationType_+"' can only be used on properties with a function value."))}function ol(e,t,n,i){t.annotationType_,i.value}function va(e,t,n,i,r){var o,a,c,l,u,d,h;r===void 0&&(r=g.safeDescriptors),ol(e,t,n,i);var f=i.value;if((o=t.options_)!=null&&o.bound){var m;f=f.bind((m=e.proxy_)!=null?m:e.target_)}return{value:Ye((a=(c=t.options_)==null?void 0:c.name)!=null?a:n.toString(),f,(l=(u=t.options_)==null?void 0:u.autoAction)!=null?l:!1,(d=t.options_)!=null&&d.bound?(h=e.proxy_)!=null?h:e.target_:void 0),configurable:r?e.isPlainObject_:!0,enumerable:!1,writable:!r}}function ya(e,t){return{annotationType_:e,options_:t,make_:al,extend_:sl,decorate_20223_:cl}}function al(e,t,n,i){var r;if(i===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((r=this.options_)!=null&&r.bound&&(!$e(e.target_,t)||!Bt(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(Bt(n.value))return 1;var o=ba(e,this,t,n,!1,!1);return Se(i,t,o),2}function sl(e,t,n,i){var r,o=ba(e,this,t,n,(r=this.options_)==null?void 0:r.bound);return e.defineProperty_(t,o,i)}function cl(e,t){var n,i=t.name,r=t.addInitializer;return Bt(e)||(e=_t(e)),(n=this.options_)!=null&&n.bound&&r(function(){var o=this,a=o[i].bind(o);a.isMobXFlow=!0,o[i]=a}),e}function ll(e,t,n,i){t.annotationType_,i.value}function ba(e,t,n,i,r,o){o===void 0&&(o=g.safeDescriptors),ll(e,t,n,i);var a=i.value;if(Bt(a)||(a=_t(a)),r){var c;a=a.bind((c=e.proxy_)!=null?c:e.target_),a.isMobXFlow=!0}return{value:a,configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function Ki(e,t){return{annotationType_:e,options_:t,make_:ul,extend_:dl,decorate_20223_:hl}}function ul(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function dl(e,t,n,i){return fl(e,this,t,n),e.defineComputedProperty_(t,qe({},this.options_,{get:n.get,set:n.set}),i)}function hl(e,t){var n=this,i=t.name,r=t.addInitializer;return r(function(){var o=rt(this)[b],a=qe({},n.options_,{get:e,context:this});a.name||(a.name="ObservableObject."+i.toString()),o.values_.set(i,new pe(a))}),function(){return this[b].getObservablePropValue_(i)}}function fl(e,t,n,i){t.annotationType_,i.get}function Ln(e,t){return{annotationType_:e,options_:t,make_:ml,extend_:_l,decorate_20223_:gl}}function ml(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function _l(e,t,n,i){var r,o;return pl(e,this),e.defineObservableProperty_(t,n.value,(r=(o=this.options_)==null?void 0:o.enhancer)!=null?r:Ke,i)}function gl(e,t){var n=this,i=t.kind,r=t.name,o=new WeakSet;function a(c,l){var u,d,h=rt(c)[b],f=new We(l,(u=(d=n.options_)==null?void 0:d.enhancer)!=null?u:Ke,"ObservableObject."+r.toString(),!1);h.values_.set(r,f),o.add(c)}if(i=="accessor")return{get:function(){return o.has(this)||a(this,e.get.call(this)),this[b].getObservablePropValue_(r)},set:function(l){return o.has(this)||a(this,l),this[b].setObservablePropValue_(r,l)},init:function(l){return o.has(this)||a(this,l),l}}}function pl(e,t,n,i){t.annotationType_}var vl="true",yl=wa();function wa(e){return{annotationType_:vl,options_:e,make_:bl,extend_:wl,decorate_20223_:Sl}}function bl(e,t,n,i){var r,o;if(n.get)return Hn.make_(e,t,n,i);if(n.set){var a=Ye(t.toString(),n.set);return i===e.target_?e.defineProperty_(t,{configurable:g.safeDescriptors?e.isPlainObject_:!0,set:a})===null?0:2:(Se(i,t,{configurable:!0,set:a}),2)}if(i!==e.target_&&typeof n.value=="function"){var c;if(ha(n.value)){var l,u=(l=this.options_)!=null&&l.autoBind?_t.bound:_t;return u.make_(e,t,n,i)}var d=(c=this.options_)!=null&&c.autoBind?Tt.bound:Tt;return d.make_(e,t,n,i)}var h=((r=this.options_)==null?void 0:r.deep)===!1?K.ref:K;if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var f;n.value=n.value.bind((f=e.proxy_)!=null?f:e.target_)}return h.make_(e,t,n,i)}function wl(e,t,n,i){var r,o;if(n.get)return Hn.extend_(e,t,n,i);if(n.set)return e.defineProperty_(t,{configurable:g.safeDescriptors?e.isPlainObject_:!0,set:Ye(t.toString(),n.set)},i);if(typeof n.value=="function"&&(r=this.options_)!=null&&r.autoBind){var a;n.value=n.value.bind((a=e.proxy_)!=null?a:e.target_)}var c=((o=this.options_)==null?void 0:o.deep)===!1?K.ref:K;return c.extend_(e,t,n,i)}function Sl(e,t){M("'"+this.annotationType_+"' cannot be used as a decorator")}var kl="observable",Ol="observable.ref",Al="observable.shallow",Cl="observable.struct",Sa={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(Sa);function rn(e){return e||Sa}var yi=Ln(kl),El=Ln(Ol,{enhancer:In}),Dl=Ln(Al,{enhancer:Zc}),xl=Ln(Cl,{enhancer:Qc}),ka=ke(yi);function on(e){return e.deep===!0?Ke:e.deep===!1?In:Rl(e.defaultDecorator)}function $l(e){var t;return e?(t=e.defaultDecorator)!=null?t:wa(e):void 0}function Rl(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:Ke}function Oa(e,t,n){if(Wt(t))return yi.decorate_20223_(e,t);if(Ge(t)){zt(e,t,yi);return}return Ga(e)?e:Me(e)?K.object(e,t,n):Array.isArray(e)?K.array(e,t):bt(e)?K.map(e,t):Ee(e)?K.set(e,t):typeof e=="object"&&e!==null?e:K.box(e,t)}ca(Oa,ka);var Pl={box:function(t,n){var i=rn(n);return new We(t,on(i),i.name,!0,i.equals)},array:function(t,n){var i=rn(n);return(g.useProxies===!1||i.proxy===!1?Eu:pu)(t,on(i),i.name)},map:function(t,n){var i=rn(n);return new Ka(t,on(i),i.name)},set:function(t,n){var i=rn(n);return new Ya(t,on(i),i.name)},object:function(t,n,i){return He(function(){return Ua(g.useProxies===!1||(i==null?void 0:i.proxy)===!1?rt({},i):fu({},i),t,n)})},ref:ke(El),shallow:ke(Dl),deep:ka,struct:ke(xl)},K=ca(Oa,Pl),Aa="computed",Nl="computed.struct",bi=Ki(Aa),Ml=Ki(Nl,{equals:vn.structural}),Hn=function(t,n){if(Wt(n))return bi.decorate_20223_(t,n);if(Ge(n))return zt(t,n,bi);if(Me(t))return ke(Ki(Aa,t));var i=Me(n)?n:{};return i.get=t,i.name||(i.name=t.name||""),new pe(i)};Object.assign(Hn,bi);Hn.struct=ke(Ml);var Wr,Gr,yn=0,Tl=1,jl=(Wr=(Gr=pn(function(){},"name"))==null?void 0:Gr.configurable)!=null?Wr:!1,qr={value:"action",configurable:!0,writable:!1,enumerable:!1};function Ye(e,t,n,i){n===void 0&&(n=!1);function r(){return Ca(e,n,t,i||this,arguments)}return r.isMobxAction=!0,r.toString=function(){return t.toString()},jl&&(qr.value=e,Se(r,"name",qr)),r}function Ca(e,t,n,i,r){var o=Bl(e,t);try{return n.apply(i,r)}catch(a){throw o.error_=a,a}finally{Il(o)}}function Bl(e,t,n,i){var r=!1,o=0,a=g.trackingDerivation,c=!t||!a;le();var l=g.allowStateChanges;c&&(nt(),l=Yi(!0));var u=Xi(!0),d={runAsAction_:c,prevDerivation_:a,prevAllowStateChanges_:l,prevAllowStateReads_:u,notifySpy_:r,startTime_:o,actionId_:Tl++,parentActionId_:yn};return yn=d.actionId_,d}function Il(e){yn!==e.actionId_&&M(30),yn=e.parentActionId_,e.error_!==void 0&&(g.suppressReactionErrors=!0),Ji(e.prevAllowStateChanges_),$t(e.prevAllowStateReads_),ue(),e.runAsAction_&&Re(e.prevDerivation_),g.suppressReactionErrors=!1}function Yi(e){var t=g.allowStateChanges;return g.allowStateChanges=e,t}function Ji(e){g.allowStateChanges=e}var We=function(e){function t(i,r,o,a,c){var l;return o===void 0&&(o="ObservableValue"),c===void 0&&(c=vn.default),l=e.call(this,o)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=r,l.name_=o,l.equals=c,l.value_=r(i,void 0,o),l}ga(t,e);var n=t.prototype;return n.dehanceValue=function(r){return this.dehancer!==void 0?this.dehancer(r):r},n.set=function(r){this.value_,r=this.prepareNewValue_(r),r!==g.UNCHANGED&&this.setNewValue_(r)},n.prepareNewValue_=function(r){if(se(this)){var o=ce(this,{object:this,type:Oe,newValue:r});if(!o)return g.UNCHANGED;r=o.newValue}return r=this.enhancer(r,this.value_,this.name_),this.equals(this.value_,r)?g.UNCHANGED:r},n.setNewValue_=function(r){var o=this.value_;this.value_=r,this.reportChanged(),me(this)&&_e(this,{type:Oe,object:this,newValue:r,oldValue:o})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(r){return qt(this,r)},n.observe_=function(r,o){return o&&r({observableKind:"value",debugObjectName:this.name_,object:this,type:Oe,newValue:this.value_,oldValue:void 0}),Kt(this,r)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return _a(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(Le),pe=function(){function e(n){this.dependenciesState_=T.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=T.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new wn(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=bn.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||M(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Ye("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?vn.structural:vn.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){Ul(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},t.get=function(){if(this.isComputing&&M(32,this.name_,this.derivation),g.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)wi(this)&&(this.warnAboutUntrackedRead_(),le(),this.value_=this.computeValue_(!1),ue());else if(Na(this),wi(this)){var i=g.trackingContext;this.keepAlive_&&!i&&(g.trackingContext=this),this.trackAndCompute()&&Fl(this),g.trackingContext=i}var r=this.value_;if(un(r))throw r.cause;return r},t.set=function(i){if(this.setter_){this.isRunningSetter&&M(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,i)}finally{this.isRunningSetter=!1}}else M(34,this.name_)},t.trackAndCompute=function(){var i=this.value_,r=this.dependenciesState_===T.NOT_TRACKING_,o=this.computeValue_(!0),a=r||un(i)||un(o)||!this.equals_(i,o);return a&&(this.value_=o),a},t.computeValue_=function(i){this.isComputing=!0;var r=Yi(!1),o;if(i)o=Ea(this,this.derivation,this.scope_);else if(g.disableErrorBoundaries===!0)o=this.derivation.call(this.scope_);else try{o=this.derivation.call(this.scope_)}catch(a){o=new wn(a)}return Ji(r),this.isComputing=!1,o},t.suspend_=function(){this.keepAlive_||(Si(this),this.value_=void 0)},t.observe_=function(i,r){var o=this,a=!0,c=void 0;return Ha(function(){var l=o.get();if(!a||r){var u=nt();i({observableKind:"computed",debugObjectName:o.name_,type:Oe,object:o,newValue:l,oldValue:c}),Re(u)}a=!1,c=l})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return _a(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},wt(e,[{key:"isComputing",get:function(){return re(this.flags_,e.isComputingMask_)},set:function(i){this.flags_=oe(this.flags_,e.isComputingMask_,i)}},{key:"isRunningSetter",get:function(){return re(this.flags_,e.isRunningSetterMask_)},set:function(i){this.flags_=oe(this.flags_,e.isRunningSetterMask_,i)}},{key:"isBeingObserved",get:function(){return re(this.flags_,e.isBeingObservedMask_)},set:function(i){this.flags_=oe(this.flags_,e.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return re(this.flags_,e.isPendingUnobservationMask_)},set:function(i){this.flags_=oe(this.flags_,e.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return re(this.flags_,e.diffValueMask_)?1:0},set:function(i){this.flags_=oe(this.flags_,e.diffValueMask_,i===1)}}])}();pe.isComputingMask_=1;pe.isRunningSetterMask_=2;pe.isBeingObservedMask_=4;pe.isPendingUnobservationMask_=8;pe.diffValueMask_=16;var Vn=tt("ComputedValue",pe),T;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(T||(T={}));var bn;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(bn||(bn={}));var wn=function(t){this.cause=void 0,this.cause=t};function un(e){return e instanceof wn}function wi(e){switch(e.dependenciesState_){case T.UP_TO_DATE_:return!1;case T.NOT_TRACKING_:case T.STALE_:return!0;case T.POSSIBLY_STALE_:{for(var t=Xi(!0),n=nt(),i=e.observing_,r=i.length,o=0;o<r;o++){var a=i[o];if(Vn(a)){if(g.disableErrorBoundaries)a.get();else try{a.get()}catch{return Re(n),$t(t),!0}if(e.dependenciesState_===T.STALE_)return Re(n),$t(t),!0}}return xa(e),Re(n),$t(t),!1}}}function Ea(e,t,n){var i=Xi(!0);xa(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++g.runId;var r=g.trackingDerivation;g.trackingDerivation=e,g.inBatch++;var o;if(g.disableErrorBoundaries===!0)o=t.call(n);else try{o=t.call(n)}catch(a){o=new wn(a)}return g.inBatch--,g.trackingDerivation=r,Ll(e),$t(i),o}function Ll(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,i=T.UP_TO_DATE_,r=0,o=e.unboundDepsCount_,a=0;a<o;a++){var c=n[a];c.diffValue===0&&(c.diffValue=1,r!==a&&(n[r]=c),r++),c.dependenciesState_>i&&(i=c.dependenciesState_)}for(n.length=r,e.newObserving_=null,o=t.length;o--;){var l=t[o];l.diffValue===0&&Ra(l,e),l.diffValue=0}for(;r--;){var u=n[r];u.diffValue===1&&(u.diffValue=0,Vl(u,e))}i!==T.UP_TO_DATE_&&(e.dependenciesState_=i,e.onBecomeStale_())}function Si(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Ra(t[n],e);e.dependenciesState_=T.NOT_TRACKING_}function Da(e){var t=nt();try{return e()}finally{Re(t)}}function nt(){var e=g.trackingDerivation;return g.trackingDerivation=null,e}function Re(e){g.trackingDerivation=e}function Xi(e){var t=g.allowStateReads;return g.allowStateReads=e,t}function $t(e){g.allowStateReads=e}function xa(e){if(e.dependenciesState_!==T.UP_TO_DATE_){e.dependenciesState_=T.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=T.UP_TO_DATE_}}var dn=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},hn=!0,$a=!1,g=function(){var e=Tn();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(hn=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new dn().version&&(hn=!1),hn?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new dn):(setTimeout(function(){$a||M(35)},1),new dn)}();function Hl(){if((g.pendingReactions.length||g.inBatch||g.isRunningReactions)&&M(36),$a=!0,hn){var e=Tn();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),g=new dn}}function Vl(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Ra(e,t){e.observers_.delete(t),e.observers_.size===0&&Pa(e)}function Pa(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,g.pendingUnobservations.push(e))}function le(){g.inBatch++}function ue(){if(--g.inBatch===0){Ta();for(var e=g.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof pe&&n.suspend_())}g.pendingUnobservations=[]}}function Na(e){var t=g.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&g.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&g.inBatch>0&&Pa(e),!1)}function Ma(e){e.lowestObserverState_!==T.STALE_&&(e.lowestObserverState_=T.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===T.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=T.STALE_}))}function Fl(e){e.lowestObserverState_!==T.STALE_&&(e.lowestObserverState_=T.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===T.POSSIBLY_STALE_?t.dependenciesState_=T.STALE_:t.dependenciesState_===T.UP_TO_DATE_&&(e.lowestObserverState_=T.UP_TO_DATE_)}))}function Ul(e){e.lowestObserverState_===T.UP_TO_DATE_&&(e.lowestObserverState_=T.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===T.UP_TO_DATE_&&(t.dependenciesState_=T.POSSIBLY_STALE_,t.onBecomeStale_())}))}var Te=function(){function e(n,i,r,o){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=T.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=bn.NONE,this.name_=n,this.onInvalidate_=i,this.errorHandler_=r,this.requiresObservable_=o}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,g.pendingReactions.push(this),Ta())},t.runReaction_=function(){if(!this.isDisposed){le(),this.isScheduled=!1;var i=g.trackingContext;if(g.trackingContext=this,wi(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(r){this.reportExceptionInDerivation_(r)}}g.trackingContext=i,ue()}},t.track=function(i){if(!this.isDisposed){le(),this.isRunning=!0;var r=g.trackingContext;g.trackingContext=this;var o=Ea(this,i,void 0);g.trackingContext=r,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Si(this),un(o)&&this.reportExceptionInDerivation_(o.cause),ue()}},t.reportExceptionInDerivation_=function(i){var r=this;if(this.errorHandler_){this.errorHandler_(i,this);return}if(g.disableErrorBoundaries)throw i;var o="[mobx] uncaught error in '"+this+"'";g.suppressReactionErrors||console.error(o,i),g.globalReactionErrorHandlers.forEach(function(a){return a(i,r)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(le(),Si(this),ue()))},t.getDisposer_=function(i){var r=this,o=function a(){r.dispose(),i==null||i.removeEventListener==null||i.removeEventListener("abort",a)};return i==null||i.addEventListener==null||i.addEventListener("abort",o),o[b]=this,o},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(i){},wt(e,[{key:"isDisposed",get:function(){return re(this.flags_,e.isDisposedMask_)},set:function(i){this.flags_=oe(this.flags_,e.isDisposedMask_,i)}},{key:"isScheduled",get:function(){return re(this.flags_,e.isScheduledMask_)},set:function(i){this.flags_=oe(this.flags_,e.isScheduledMask_,i)}},{key:"isTrackPending",get:function(){return re(this.flags_,e.isTrackPendingMask_)},set:function(i){this.flags_=oe(this.flags_,e.isTrackPendingMask_,i)}},{key:"isRunning",get:function(){return re(this.flags_,e.isRunningMask_)},set:function(i){this.flags_=oe(this.flags_,e.isRunningMask_,i)}},{key:"diffValue",get:function(){return re(this.flags_,e.diffValueMask_)?1:0},set:function(i){this.flags_=oe(this.flags_,e.diffValueMask_,i===1)}}])}();Te.isDisposedMask_=1;Te.isScheduledMask_=2;Te.isTrackPendingMask_=4;Te.isRunningMask_=8;Te.diffValueMask_=16;var zl=100,ki=function(t){return t()};function Ta(){g.inBatch>0||g.isRunningReactions||ki(Wl)}function Wl(){g.isRunningReactions=!0;for(var e=g.pendingReactions,t=0;e.length>0;){++t===zl&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),i=0,r=n.length;i<r;i++)n[i].runReaction_()}g.isRunningReactions=!1}var Sn=tt("Reaction",Te);function Gl(e){var t=ki;ki=function(i){return e(function(){return t(i)})}}function Rt(){return!1}function ql(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var ja="action",Kl="action.bound",Ba="autoAction",Yl="autoAction.bound",Ia="<unnamed action>",Oi=Gt(ja),Jl=Gt(Kl,{bound:!0}),Ai=Gt(Ba,{autoAction:!0}),Xl=Gt(Yl,{autoAction:!0,bound:!0});function La(e){var t=function(i,r){if(ge(i))return Ye(i.name||Ia,i,e);if(ge(r))return Ye(i,r,e);if(Wt(r))return(e?Ai:Oi).decorate_20223_(i,r);if(Ge(r))return zt(i,r,e?Ai:Oi);if(Ge(i))return ke(Gt(e?Ba:ja,{name:i,autoAction:e}))};return t}var ze=La(!1);Object.assign(ze,Oi);var Tt=La(!0);Object.assign(Tt,Ai);ze.bound=ke(Jl);Tt.bound=ke(Xl);function Zl(e){return Ca(e.name||Ia,!1,e,this,void 0)}function jt(e){return ge(e)&&e.isMobxAction===!0}function Ha(e,t){var n,i,r,o;t===void 0&&(t=la);var a=(n=(i=t)==null?void 0:i.name)!=null?n:"Autorun",c=!t.scheduler&&!t.delay,l;if(c)l=new Te(a,function(){this.track(h)},t.onError,t.requiresObservable);else{var u=eu(t),d=!1;l=new Te(a,function(){d||(d=!0,u(function(){d=!1,l.isDisposed||l.track(h)}))},t.onError,t.requiresObservable)}function h(){e(l)}return(r=t)!=null&&(r=r.signal)!=null&&r.aborted||l.schedule_(),l.getDisposer_((o=t)==null?void 0:o.signal)}var Ql=function(t){return t()};function eu(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Ql}var tu="onBO",nu="onBUO";function iu(e,t,n){return Fa(tu,e,t,n)}function Va(e,t,n){return Fa(nu,e,t,n)}function Fa(e,t,n,i){var r=An(t),o=ge(i)?i:n,a=e+"L";return r[a]?r[a].add(o):r[a]=new Set([o]),function(){var c=r[a];c&&(c.delete(o),c.size===0&&delete r[a])}}var ru="never",an="always",ou="observed";function au(e){e.isolateGlobalState===!0&&Hl();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(g.useProxies=t===an?!0:t===ru?!1:typeof Proxy<"u"),t==="ifavailable"&&(g.verifyProxies=!0),n!==void 0){var i=n===an?an:n===ou;g.enforceActions=i,g.allowStateChanges=!(i===!0||i===an)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(r){r in e&&(g[r]=!!e[r])}),g.allowStateReads=!g.observableRequiresReaction,e.reactionScheduler&&Gl(e.reactionScheduler)}function Ua(e,t,n,i){var r=Fc(t);return He(function(){var o=rt(e,i)[b];mt(r).forEach(function(a){o.extend_(a,r[a],n&&a in n?n[a]:!0)})}),e}function su(e,t){return za(An(e,t))}function za(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=cu(e.observing_).map(za)),t}function cu(e){return Array.from(new Set(e))}var lu=0;function Wa(){this.message="FLOW_CANCELLED"}Wa.prototype=Object.create(Error.prototype);var Xn=ya("flow"),uu=ya("flow.bound",{bound:!0}),_t=Object.assign(function(t,n){if(Wt(n))return Xn.decorate_20223_(t,n);if(Ge(n))return zt(t,n,Xn);var i=t,r=i.name||"<unnamed flow>",o=function(){var c=this,l=arguments,u=++lu,d=ze(r+" - runid: "+u+" - init",i).apply(c,l),h,f=void 0,m=new Promise(function(R,j){var w=0;h=j;function S(V){f=void 0;var N;try{N=ze(r+" - runid: "+u+" - yield "+w++,d.next).call(d,V)}catch(z){return j(z)}I(N)}function E(V){f=void 0;var N;try{N=ze(r+" - runid: "+u+" - yield "+w++,d.throw).call(d,V)}catch(z){return j(z)}I(N)}function I(V){if(ge(V==null?void 0:V.then)){V.then(I,j);return}return V.done?R(V.value):(f=Promise.resolve(V.value),f.then(S,E))}S(void 0)});return m.cancel=ze(r+" - runid: "+u+" - cancel",function(){try{f&&Kr(f);var R=d.return(void 0),j=Promise.resolve(R.value);j.then(ct,ct),Kr(j),h(new Wa)}catch(w){h(w)}}),m};return o.isMobXFlow=!0,o},Xn);_t.bound=ke(uu);function Kr(e){ge(e.cancel)&&e.cancel()}function Bt(e){return(e==null?void 0:e.isMobXFlow)===!0}function du(e,t){return e?Un(e)||!!e[b]||qi(e)||Sn(e)||Vn(e):!1}function Ga(e){return du(e)}function De(e,t){t===void 0&&(t=void 0),le();try{return e.apply(t)}finally{ue()}}function st(e){return e[b]}var hu={has:function(t,n){return st(t).has_(n)},get:function(t,n){return st(t).get_(n)},set:function(t,n,i){var r;return Ge(n)?(r=st(t).set_(n,i,!0))!=null?r:!0:!1},deleteProperty:function(t,n){var i;return Ge(n)?(i=st(t).delete_(n,!0))!=null?i:!0:!1},defineProperty:function(t,n,i){var r;return(r=st(t).defineProperty_(n,i))!=null?r:!0},ownKeys:function(t){return st(t).ownKeys_()},preventExtensions:function(t){M(13)}};function fu(e,t){var n,i;return ua(),e=rt(e,t),(i=(n=e[b]).proxy_)!=null?i:n.proxy_=new Proxy(e,hu)}function se(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function qt(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),da(function(){var i=n.indexOf(t);i!==-1&&n.splice(i,1)})}function ce(e,t){var n=nt();try{for(var i=[].concat(e.interceptors_||[]),r=0,o=i.length;r<o&&(t=i[r](t),t&&!t.type&&M(14),!!t);r++);return t}finally{Re(n)}}function me(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function Kt(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),da(function(){var i=n.indexOf(t);i!==-1&&n.splice(i,1)})}function _e(e,t){var n=nt(),i=e.changeListeners_;if(i){i=i.slice();for(var r=0,o=i.length;r<o;r++)i[r](t);Re(n)}}function mu(e,t,n){return He(function(){var i,r=rt(e,n)[b];(i=t)!=null||(t=qc(e)),mt(t).forEach(function(o){return r.make_(o,t[o])})}),e}var Zn=Symbol("mobx-keys");function de(e,t,n){return Me(e)?Ua(e,e,t,n):(He(function(){var i=rt(e,n)[b];if(!e[Zn]){var r=Object.getPrototypeOf(e),o=new Set([].concat(mt(e),mt(r)));o.delete("constructor"),o.delete(b),Ut(r,Zn,o)}e[Zn].forEach(function(a){return i.make_(a,t&&a in t?t[a]:!0)})}),e)}var Yr="splice",Oe="update",_u=1e4,gu={get:function(t,n){var i=t[b];return n===b?i:n==="length"?i.getArrayLength_():typeof n=="string"&&!isNaN(n)?i.get_(parseInt(n)):$e(kn,n)?kn[n]:t[n]},set:function(t,n,i){var r=t[b];return n==="length"&&r.setArrayLength_(i),typeof n=="symbol"||isNaN(n)?t[n]=i:r.set_(parseInt(n),i),!0},preventExtensions:function(){M(15)}},Zi=function(){function e(n,i,r,o){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=r,this.legacyMode_=o,this.atom_=new Le(n),this.enhancer_=function(a,c){return i(a,c,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},t.dehanceValues_=function(i){return this.dehancer!==void 0&&i.length>0?i.map(this.dehancer):i},t.intercept_=function(i){return qt(this,i)},t.observe_=function(i,r){return r===void 0&&(r=!1),r&&i({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Kt(this,i)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(i){(typeof i!="number"||isNaN(i)||i<0)&&M("Out of range: "+i);var r=this.values_.length;if(i!==r)if(i>r){for(var o=new Array(i-r),a=0;a<i-r;a++)o[a]=void 0;this.spliceWithArray_(r,0,o)}else this.spliceWithArray_(i,r-i)},t.updateArrayLength_=function(i,r){i!==this.lastKnownLength_&&M(16),this.lastKnownLength_+=r,this.legacyMode_&&r>0&&Qa(i+r+1)},t.spliceWithArray_=function(i,r,o){var a=this;this.atom_;var c=this.values_.length;if(i===void 0?i=0:i>c?i=c:i<0&&(i=Math.max(0,c+i)),arguments.length===1?r=c-i:r==null?r=0:r=Math.max(0,Math.min(r,c-i)),o===void 0&&(o=pi),se(this)){var l=ce(this,{object:this.proxy_,type:Yr,index:i,removedCount:r,added:o});if(!l)return pi;r=l.removedCount,o=l.added}if(o=o.length===0?o:o.map(function(h){return a.enhancer_(h,void 0)}),this.legacyMode_){var u=o.length-r;this.updateArrayLength_(c,u)}var d=this.spliceItemsIntoValues_(i,r,o);return(r!==0||o.length!==0)&&this.notifyArraySplice_(i,o,d),this.dehanceValues_(d)},t.spliceItemsIntoValues_=function(i,r,o){if(o.length<_u){var a;return(a=this.values_).splice.apply(a,[i,r].concat(o))}else{var c=this.values_.slice(i,i+r),l=this.values_.slice(i+r);this.values_.length+=o.length-r;for(var u=0;u<o.length;u++)this.values_[i+u]=o[u];for(var d=0;d<l.length;d++)this.values_[i+o.length+d]=l[d];return c}},t.notifyArrayChildUpdate_=function(i,r,o){var a=!this.owned_&&Rt(),c=me(this),l=c||a?{observableKind:"array",object:this.proxy_,type:Oe,debugObjectName:this.atom_.name_,index:i,newValue:r,oldValue:o}:null;this.atom_.reportChanged(),c&&_e(this,l)},t.notifyArraySplice_=function(i,r,o){var a=!this.owned_&&Rt(),c=me(this),l=c||a?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Yr,index:i,removed:o,added:r,removedCount:o.length,addedCount:r.length}:null;this.atom_.reportChanged(),c&&_e(this,l)},t.get_=function(i){if(this.legacyMode_&&i>=this.values_.length){console.warn("[mobx] Out of bounds read: "+i);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[i])},t.set_=function(i,r){var o=this.values_;if(this.legacyMode_&&i>o.length&&M(17,i,o.length),i<o.length){this.atom_;var a=o[i];if(se(this)){var c=ce(this,{type:Oe,object:this.proxy_,index:i,newValue:r});if(!c)return;r=c.newValue}r=this.enhancer_(r,a);var l=r!==a;l&&(o[i]=r,this.notifyArrayChildUpdate_(i,r,a))}else{for(var u=new Array(i+1-o.length),d=0;d<u.length-1;d++)u[d]=void 0;u[u.length-1]=r,this.spliceWithArray_(o.length,0,u)}},e}();function pu(e,t,n,i){return n===void 0&&(n="ObservableArray"),i===void 0&&(i=!1),ua(),He(function(){var r=new Zi(n,t,i,!1);fa(r.values_,b,r);var o=new Proxy(r.values_,gu);return r.proxy_=o,e&&e.length&&r.spliceWithArray_(0,0,e),o})}var kn={clear:function(){return this.splice(0)},replace:function(t){var n=this[b];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];var a=this[b];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(t);case 2:return a.spliceWithArray_(t,n)}return a.spliceWithArray_(t,n,r)},spliceWithArray:function(t,n,i){return this[b].spliceWithArray_(t,n,i)},push:function(){for(var t=this[b],n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.spliceWithArray_(t.values_.length,0,i),t.values_.length},pop:function(){return this.splice(Math.max(this[b].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[b],n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.spliceWithArray_(0,0,i),t.values_.length},reverse:function(){return g.trackingDerivation&&M(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){g.trackingDerivation&&M(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[b],i=n.dehanceValues_(n.values_).indexOf(t);return i>-1?(this.splice(i,1),!0):!1}};F("at",ae);F("concat",ae);F("flat",ae);F("includes",ae);F("indexOf",ae);F("join",ae);F("lastIndexOf",ae);F("slice",ae);F("toString",ae);F("toLocaleString",ae);F("toSorted",ae);F("toSpliced",ae);F("with",ae);F("every",ve);F("filter",ve);F("find",ve);F("findIndex",ve);F("findLast",ve);F("findLastIndex",ve);F("flatMap",ve);F("forEach",ve);F("map",ve);F("some",ve);F("toReversed",ve);F("reduce",qa);F("reduceRight",qa);function F(e,t){typeof Array.prototype[e]=="function"&&(kn[e]=t(e))}function ae(e){return function(){var t=this[b];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function ve(e){return function(t,n){var i=this,r=this[b];r.atom_.reportObserved();var o=r.dehanceValues_(r.values_);return o[e](function(a,c){return t.call(n,a,c,i)})}}function qa(e){return function(){var t=this,n=this[b];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_),r=arguments[0];return arguments[0]=function(o,a,c){return r(o,a,c,t)},i[e].apply(i,arguments)}}var vu=tt("ObservableArrayAdministration",Zi);function Fn(e){return Bn(e)&&vu(e[b])}var yu={},Be="add",On="delete",Ka=function(){function e(n,i,r){var o=this;i===void 0&&(i=Ke),r===void 0&&(r="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[b]=yu,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=i,this.name_=r,ge(Map)||M(18),He(function(){o.keysAtom_=pa("ObservableMap.keys()"),o.data_=new Map,o.hasMap_=new Map,n&&o.merge(n)})}var t=e.prototype;return t.has_=function(i){return this.data_.has(i)},t.has=function(i){var r=this;if(!g.trackingDerivation)return this.has_(i);var o=this.hasMap_.get(i);if(!o){var a=o=new We(this.has_(i),In,"ObservableMap.key?",!1);this.hasMap_.set(i,a),Va(a,function(){return r.hasMap_.delete(i)})}return o.get()},t.set=function(i,r){var o=this.has_(i);if(se(this)){var a=ce(this,{type:o?Oe:Be,object:this,newValue:r,name:i});if(!a)return this;r=a.newValue}return o?this.updateValue_(i,r):this.addValue_(i,r),this},t.delete=function(i){var r=this;if(this.keysAtom_,se(this)){var o=ce(this,{type:On,object:this,name:i});if(!o)return!1}if(this.has_(i)){var a=Rt(),c=me(this),l=c||a?{observableKind:"map",debugObjectName:this.name_,type:On,object:this,oldValue:this.data_.get(i).value_,name:i}:null;return De(function(){var u;r.keysAtom_.reportChanged(),(u=r.hasMap_.get(i))==null||u.setNewValue_(!1);var d=r.data_.get(i);d.setNewValue_(void 0),r.data_.delete(i)}),c&&_e(this,l),!0}return!1},t.updateValue_=function(i,r){var o=this.data_.get(i);if(r=o.prepareNewValue_(r),r!==g.UNCHANGED){var a=Rt(),c=me(this),l=c||a?{observableKind:"map",debugObjectName:this.name_,type:Oe,object:this,oldValue:o.value_,name:i,newValue:r}:null;o.setNewValue_(r),c&&_e(this,l)}},t.addValue_=function(i,r){var o=this;this.keysAtom_,De(function(){var u,d=new We(r,o.enhancer_,"ObservableMap.key",!1);o.data_.set(i,d),r=d.value_,(u=o.hasMap_.get(i))==null||u.setNewValue_(!0),o.keysAtom_.reportChanged()});var a=Rt(),c=me(this),l=c||a?{observableKind:"map",debugObjectName:this.name_,type:Be,object:this,name:i,newValue:r}:null;c&&_e(this,l)},t.get=function(i){return this.has(i)?this.dehanceValue_(this.data_.get(i).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var i=this,r=this.keys();return Jr({next:function(){var a=r.next(),c=a.done,l=a.value;return{done:c,value:c?void 0:i.get(l)}}})},t.entries=function(){var i=this,r=this.keys();return Jr({next:function(){var a=r.next(),c=a.done,l=a.value;return{done:c,value:c?void 0:[l,i.get(l)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(i,r){for(var o=lt(this),a;!(a=o()).done;){var c=a.value,l=c[0],u=c[1];i.call(r,u,l,this)}},t.merge=function(i){var r=this;return it(i)&&(i=new Map(i)),De(function(){Me(i)?Vc(i).forEach(function(o){return r.set(o,i[o])}):Array.isArray(i)?i.forEach(function(o){var a=o[0],c=o[1];return r.set(a,c)}):bt(i)?(Hc(i)||M(19,i),i.forEach(function(o,a){return r.set(a,o)})):i!=null&&M(20,i)}),this},t.clear=function(){var i=this;De(function(){Da(function(){for(var r=lt(i.keys()),o;!(o=r()).done;){var a=o.value;i.delete(a)}})})},t.replace=function(i){var r=this;return De(function(){for(var o=bu(i),a=new Map,c=!1,l=lt(r.data_.keys()),u;!(u=l()).done;){var d=u.value;if(!o.has(d)){var h=r.delete(d);if(h)c=!0;else{var f=r.data_.get(d);a.set(d,f)}}}for(var m=lt(o.entries()),R;!(R=m()).done;){var j=R.value,w=j[0],S=j[1],E=r.data_.has(w);if(r.set(w,S),r.data_.has(w)){var I=r.data_.get(w);a.set(w,I),E||(c=!0)}}if(!c)if(r.data_.size!==a.size)r.keysAtom_.reportChanged();else for(var V=r.data_.keys(),N=a.keys(),z=V.next(),X=N.next();!z.done;){if(z.value!==X.value){r.keysAtom_.reportChanged();break}z=V.next(),X=N.next()}r.data_=a}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(i,r){return Kt(this,i)},t.intercept_=function(i){return qt(this,i)},wt(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),it=tt("ObservableMap",Ka);function Jr(e){return e[Symbol.toStringTag]="MapIterator",tr(e)}function bu(e){if(bt(e)||it(e))return e;if(Array.isArray(e))return new Map(e);if(Me(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return M(21,e)}var wu={},Ya=function(){function e(n,i,r){var o=this;i===void 0&&(i=Ke),r===void 0&&(r="ObservableSet"),this.name_=void 0,this[b]=wu,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=r,ge(Set)||M(22),this.enhancer_=function(a,c){return i(a,c,r)},He(function(){o.atom_=pa(o.name_),n&&o.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},t.clear=function(){var i=this;De(function(){Da(function(){for(var r=lt(i.data_.values()),o;!(o=r()).done;){var a=o.value;i.delete(a)}})})},t.forEach=function(i,r){for(var o=lt(this),a;!(a=o()).done;){var c=a.value;i.call(r,c,c,this)}},t.add=function(i){var r=this;if(this.atom_,se(this)){var o=ce(this,{type:Be,object:this,newValue:i});if(!o)return this}if(!this.has(i)){De(function(){r.data_.add(r.enhancer_(i,void 0)),r.atom_.reportChanged()});var a=!1,c=me(this),l=c||a?{observableKind:"set",debugObjectName:this.name_,type:Be,object:this,newValue:i}:null;c&&_e(this,l)}return this},t.delete=function(i){var r=this;if(se(this)){var o=ce(this,{type:On,object:this,oldValue:i});if(!o)return!1}if(this.has(i)){var a=!1,c=me(this),l=c||a?{observableKind:"set",debugObjectName:this.name_,type:On,object:this,oldValue:i}:null;return De(function(){r.atom_.reportChanged(),r.data_.delete(i)}),c&&_e(this,l),!0}return!1},t.has=function(i){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(i))},t.entries=function(){var i=0,r=Array.from(this.keys()),o=Array.from(this.values());return Xr({next:function(){var c=i;return i+=1,c<o.length?{value:[r[c],o[c]],done:!1}:{value:void 0,done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var i=this,r=0,o=Array.from(this.data_.values());return Xr({next:function(){return r<o.length?{value:i.dehanceValue_(o[r++]),done:!1}:{value:void 0,done:!0}}})},t.intersection=function(i){if(Ee(i)&&!be(i))return i.intersection(this);var r=new Set(this);return r.intersection(i)},t.union=function(i){if(Ee(i)&&!be(i))return i.union(this);var r=new Set(this);return r.union(i)},t.difference=function(i){return new Set(this).difference(i)},t.symmetricDifference=function(i){if(Ee(i)&&!be(i))return i.symmetricDifference(this);var r=new Set(this);return r.symmetricDifference(i)},t.isSubsetOf=function(i){return new Set(this).isSubsetOf(i)},t.isSupersetOf=function(i){return new Set(this).isSupersetOf(i)},t.isDisjointFrom=function(i){if(Ee(i)&&!be(i))return i.isDisjointFrom(this);var r=new Set(this);return r.isDisjointFrom(i)},t.replace=function(i){var r=this;return be(i)&&(i=new Set(i)),De(function(){Array.isArray(i)?(r.clear(),i.forEach(function(o){return r.add(o)})):Ee(i)?(r.clear(),i.forEach(function(o){return r.add(o)})):i!=null&&M("Cannot initialize set from "+i)}),this},t.observe_=function(i,r){return Kt(this,i)},t.intercept_=function(i){return qt(this,i)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},wt(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),be=tt("ObservableSet",Ya);function Xr(e){return e[Symbol.toStringTag]="SetIterator",tr(e)}var Zr=Object.create(null),Qr="remove",Ja=function(){function e(n,i,r,o){i===void 0&&(i=new Map),o===void 0&&(o=yl),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=i,this.name_=r,this.defaultAnnotation_=o,this.keysAtom_=new Le("ObservableObject.keys"),this.isPlainObject_=Me(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(i){return this.values_.get(i).get()},t.setObservablePropValue_=function(i,r){var o=this.values_.get(i);if(o instanceof pe)return o.set(r),!0;if(se(this)){var a=ce(this,{type:Oe,object:this.proxy_||this.target_,name:i,newValue:r});if(!a)return null;r=a.newValue}if(r=o.prepareNewValue_(r),r!==g.UNCHANGED){var c=me(this),l=!1,u=c||l?{type:Oe,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:o.value_,name:i,newValue:r}:null;o.setNewValue_(r),c&&_e(this,u)}return!0},t.get_=function(i){return g.trackingDerivation&&!$e(this.target_,i)&&this.has_(i),this.target_[i]},t.set_=function(i,r,o){return o===void 0&&(o=!1),$e(this.target_,i)?this.values_.has(i)?this.setObservablePropValue_(i,r):o?Reflect.set(this.target_,i,r):(this.target_[i]=r,!0):this.extend_(i,{value:r,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,o)},t.has_=function(i){if(!g.trackingDerivation)return i in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var r=this.pendingKeys_.get(i);return r||(r=new We(i in this.target_,In,"ObservableObject.key?",!1),this.pendingKeys_.set(i,r)),r.get()},t.make_=function(i,r){if(r===!0&&(r=this.defaultAnnotation_),r!==!1){if(!(i in this.target_)){var o;if((o=this.target_[we])!=null&&o[i])return;M(1,r.annotationType_,this.name_+"."+i.toString())}for(var a=this.target_;a&&a!==jn;){var c=pn(a,i);if(c){var l=r.make_(this,i,c,a);if(l===0)return;if(l===1)break}a=Object.getPrototypeOf(a)}to(this,r,i)}},t.extend_=function(i,r,o,a){if(a===void 0&&(a=!1),o===!0&&(o=this.defaultAnnotation_),o===!1)return this.defineProperty_(i,r,a);var c=o.extend_(this,i,r,a);return c&&to(this,o,i),c},t.defineProperty_=function(i,r,o){o===void 0&&(o=!1),this.keysAtom_;try{le();var a=this.delete_(i);if(!a)return a;if(se(this)){var c=ce(this,{object:this.proxy_||this.target_,name:i,type:Be,newValue:r.value});if(!c)return null;var l=c.newValue;r.value!==l&&(r=qe({},r,{value:l}))}if(o){if(!Reflect.defineProperty(this.target_,i,r))return!1}else Se(this.target_,i,r);this.notifyPropertyAddition_(i,r.value)}finally{ue()}return!0},t.defineObservableProperty_=function(i,r,o,a){a===void 0&&(a=!1),this.keysAtom_;try{le();var c=this.delete_(i);if(!c)return c;if(se(this)){var l=ce(this,{object:this.proxy_||this.target_,name:i,type:Be,newValue:r});if(!l)return null;r=l.newValue}var u=eo(i),d={configurable:g.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(a){if(!Reflect.defineProperty(this.target_,i,d))return!1}else Se(this.target_,i,d);var h=new We(r,o,"ObservableObject.key",!1);this.values_.set(i,h),this.notifyPropertyAddition_(i,h.value_)}finally{ue()}return!0},t.defineComputedProperty_=function(i,r,o){o===void 0&&(o=!1),this.keysAtom_;try{le();var a=this.delete_(i);if(!a)return a;if(se(this)){var c=ce(this,{object:this.proxy_||this.target_,name:i,type:Be,newValue:void 0});if(!c)return null}r.name||(r.name="ObservableObject.key"),r.context=this.proxy_||this.target_;var l=eo(i),u={configurable:g.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(o){if(!Reflect.defineProperty(this.target_,i,u))return!1}else Se(this.target_,i,u);this.values_.set(i,new pe(r)),this.notifyPropertyAddition_(i,void 0)}finally{ue()}return!0},t.delete_=function(i,r){if(r===void 0&&(r=!1),this.keysAtom_,!$e(this.target_,i))return!0;if(se(this)){var o=ce(this,{object:this.proxy_||this.target_,name:i,type:Qr});if(!o)return null}try{var a;le();var c=me(this),l=!1,u=this.values_.get(i),d=void 0;if(!u&&(c||l)){var h;d=(h=pn(this.target_,i))==null?void 0:h.value}if(r){if(!Reflect.deleteProperty(this.target_,i))return!1}else delete this.target_[i];if(u&&(this.values_.delete(i),u instanceof We&&(d=u.value_),Ma(u)),this.keysAtom_.reportChanged(),(a=this.pendingKeys_)==null||(a=a.get(i))==null||a.set(i in this.target_),c||l){var f={type:Qr,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:d,name:i};c&&_e(this,f)}}finally{ue()}return!0},t.observe_=function(i,r){return Kt(this,i)},t.intercept_=function(i){return qt(this,i)},t.notifyPropertyAddition_=function(i,r){var o,a=me(this),c=!1;if(a||c){var l=a||c?{type:Be,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:i,newValue:r}:null;a&&_e(this,l)}(o=this.pendingKeys_)==null||(o=o.get(i))==null||o.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),mt(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function rt(e,t){var n;if($e(e,b))return e;var i=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",r=new Ja(e,new Map,String(i),$l(t));return Ut(e,b,r),e}var Su=tt("ObservableObjectAdministration",Ja);function eo(e){return Zr[e]||(Zr[e]={get:function(){return this[b].getObservablePropValue_(e)},set:function(n){return this[b].setObservablePropValue_(e,n)}})}function Un(e){return Bn(e)?Su(e[b]):!1}function to(e,t,n){var i;(i=e.target_[we])==null||delete i[n]}var ku=Za(0),Ou=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),Qn=0,Xa=function(){};function Au(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}Au(Xa,Array.prototype);var Qi=function(e){function t(i,r,o,a){var c;return o===void 0&&(o="ObservableArray"),a===void 0&&(a=!1),c=e.call(this)||this,He(function(){var l=new Zi(o,r,a,!0);l.proxy_=c,fa(c,b,l),i&&i.length&&c.spliceWithArray(0,0,i),Ou&&Object.defineProperty(c,"0",ku)}),c}ga(t,e);var n=t.prototype;return n.concat=function(){this[b].atom_.reportObserved();for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return Array.prototype.concat.apply(this.slice(),o.map(function(c){return Fn(c)?c.slice():c}))},n[Symbol.iterator]=function(){var i=this,r=0;return tr({next:function(){return r<i.length?{value:i[r++],done:!1}:{done:!0,value:void 0}}})},wt(t,[{key:"length",get:function(){return this[b].getArrayLength_()},set:function(r){this[b].setArrayLength_(r)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(Xa);Object.entries(kn).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&Ut(Qi.prototype,t,n)});function Za(e){return{enumerable:!1,configurable:!0,get:function(){return this[b].get_(e)},set:function(n){this[b].set_(e,n)}}}function Cu(e){Se(Qi.prototype,""+e,Za(e))}function Qa(e){if(e>Qn){for(var t=Qn;t<e+100;t++)Cu(t);Qn=e}}Qa(1e3);function Eu(e,t,n){return new Qi(e,t,n)}function An(e,t){if(typeof e=="object"&&e!==null){if(Fn(e))return t!==void 0&&M(23),e[b].atom_;if(be(e))return e.atom_;if(it(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||M(25,t,Ci(e)),n}if(Un(e)){if(!t)return M(26);var i=e[b].values_.get(t);return i||M(27,t,Ci(e)),i}if(qi(e)||Vn(e)||Sn(e))return e}else if(ge(e)&&Sn(e[b]))return e[b];M(28)}function Du(e,t){if(e||M(29),qi(e)||Vn(e)||Sn(e)||it(e)||be(e))return e;if(e[b])return e[b];M(24,e)}function Ci(e,t){var n;if(t!==void 0)n=An(e,t);else{if(jt(e))return e.name;Un(e)||it(e)||be(e)?n=Du(e):n=An(e)}return n.name_}function He(e){var t=nt(),n=Yi(!0);le();try{return e()}finally{ue(),Ji(n),Re(t)}}var no=jn.toString;function er(e,t,n){return n===void 0&&(n=-1),Ei(e,t,n)}function Ei(e,t,n,i,r){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var o=typeof e;if(o!=="function"&&o!=="object"&&typeof t!="object")return!1;var a=no.call(e);if(a!==no.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=io(e),t=io(t);var c=a==="[object Array]";if(!c){if(typeof e!="object"||typeof t!="object")return!1;var l=e.constructor,u=t.constructor;if(l!==u&&!(ge(l)&&l instanceof l&&ge(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),i=i||[],r=r||[];for(var d=i.length;d--;)if(i[d]===e)return r[d]===t;if(i.push(e),r.push(t),c){if(d=e.length,d!==t.length)return!1;for(;d--;)if(!Ei(e[d],t[d],n-1,i,r))return!1}else{var h=Object.keys(e),f;if(d=h.length,Object.keys(t).length!==d)return!1;for(;d--;)if(f=h[d],!($e(t,f)&&Ei(e[f],t[f],n-1,i,r)))return!1}return i.pop(),r.pop(),!0}function io(e){return Fn(e)?e.slice():bt(e)||it(e)||Ee(e)||be(e)?Array.from(e.entries()):e}var ro,xu=((ro=Tn().Iterator)==null?void 0:ro.prototype)||{};function tr(e){return e[Symbol.iterator]=$u,Object.assign(Object.create(xu),e)}function $u(){return this}["Symbol","Map","Set"].forEach(function(e){var t=Tn();typeof t[e]>"u"&&M("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:ql,extras:{getDebugName:Ci},$mobx:b});const Ru=(e,t)=>{const n=e.getBoundingClientRect();return t.clientX>n.x&&t.clientX<n.x+n.width&&t.clientY>n.y&&t.clientY<n.y+n.height},Je=e=>JSON.parse(JSON.stringify(e)),Pu=navigator.userAgent.toLowerCase().includes("firefox"),Nu=e=>typeof e=="string"||e instanceof String,Mu=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,fn=e=>!!(e&&e.match(Mu)),Tu=(e,t)=>e.reduce((n,i)=>((n.length===0||n[n.length-1].length===t)&&n.push([]),n[n.length-1].push(i),n),[]),es=(e,t)=>{if(!e||!t)return null;const n=(t-e)/1e3;return n<0?"":n<60?`${Math.floor(n)} sec ago`:n<3600?`${Math.floor(n/60)} min ago`:n<172800?`${Math.floor(n/3600)} hr ago`:`${Math.floor(n/86400)} days ago`},y=(e,t)=>p(ze(e),t),zn=(e,t)=>G(()=>{const n=i=>{e.current&&!e.current.contains(i.target)&&t()};return window.addEventListener("mousedown",n),()=>window.removeEventListener("mousedown",n)},[e,t]),ts=()=>{const[e,t]=$(null);return G(()=>{t(Date.now());const n=setInterval(()=>t(Date.now()),1e3);return()=>clearInterval(n)},[t]),e},ns=e=>G(()=>(window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)),[e]);var is={exports:{}};(function(e,t){(function(n,i){i()})(At,function(){function n(u,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function i(u,d,h){var f=new XMLHttpRequest;f.open("GET",u),f.responseType="blob",f.onload=function(){l(f.response,d,h)},f.onerror=function(){console.error("could not download file")},f.send()}function r(u){var d=new XMLHttpRequest;d.open("HEAD",u,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function o(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(d)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof At=="object"&&At.global===At?At:void 0,c=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(u,d,h){var f=a.URL||a.webkitURL,m=document.createElement("a");d=d||u.name||"download",m.download=d,m.rel="noopener",typeof u=="string"?(m.href=u,m.origin===location.origin?o(m):r(m.href)?i(u,d,h):o(m,m.target="_blank")):(m.href=f.createObjectURL(u),setTimeout(function(){f.revokeObjectURL(m.href)},4e4),setTimeout(function(){o(m)},0))}:"msSaveOrOpenBlob"in navigator?function(u,d,h){if(d=d||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,h),d);else if(r(u))i(u,d,h);else{var f=document.createElement("a");f.href=u,f.target="_blank",setTimeout(function(){o(f)})}}:function(u,d,h,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof u=="string")return i(u,d,h);var m=u.type==="application/octet-stream",R=/constructor/i.test(a.HTMLElement)||a.safari,j=/CriOS\/[\d]+/.test(navigator.userAgent);if((j||m&&R||c)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var I=w.result;I=j?I:I.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=I:location=I,f=null},w.readAsDataURL(u)}else{var S=a.URL||a.webkitURL,E=S.createObjectURL(u);f?f.location=E:location.href=E,f=null,setTimeout(function(){S.revokeObjectURL(E)},4e4)}});a.saveAs=l.saveAs=l,e.exports=l})})(is);var ju=is.exports;function Bu(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),i=n.createElement("base"),r=n.createElement("a");return n.head.appendChild(i),n.body.appendChild(r),t&&(i.href=t),r.href=e,r.href}const Iu=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Pe(e){const t=[];for(let n=0,i=e.length;n<i;n++)t.push(e[n]);return t}function Cn(e,t){const i=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return i?parseFloat(i.replace("px","")):0}function Lu(e){const t=Cn(e,"border-left-width"),n=Cn(e,"border-right-width");return e.clientWidth+t+n}function Hu(e){const t=Cn(e,"border-top-width"),n=Cn(e,"border-bottom-width");return e.clientHeight+t+n}function rs(e,t={}){const n=t.width||Lu(e),i=t.height||Hu(e);return{width:n,height:i}}function Vu(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const ie=16384;function Fu(e){(e.width>ie||e.height>ie)&&(e.width>ie&&e.height>ie?e.width>e.height?(e.height*=ie/e.width,e.width=ie):(e.width*=ie/e.height,e.height=ie):e.width>ie?(e.height*=ie/e.width,e.width=ie):(e.width*=ie/e.height,e.height=ie))}function Uu(e,t={}){return e.toBlob?new Promise(n=>{e.toBlob(n,t.type?t.type:"image/png",t.quality?t.quality:1)}):new Promise(n=>{const i=window.atob(e.toDataURL(t.type?t.type:void 0,t.quality?t.quality:void 0).split(",")[1]),r=i.length,o=new Uint8Array(r);for(let a=0;a<r;a+=1)o[a]=i.charCodeAt(a);n(new Blob([o],{type:t.type?t.type:"image/png"}))})}function En(e){return new Promise((t,n)=>{const i=new Image;i.decode=()=>t(i),i.onload=()=>t(i),i.onerror=n,i.crossOrigin="anonymous",i.decoding="async",i.src=e})}async function zu(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Wu(e,t,n){const i="http://www.w3.org/2000/svg",r=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return r.setAttribute("width",`${t}`),r.setAttribute("height",`${n}`),r.setAttribute("viewBox",`0 0 ${t} ${n}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),r.appendChild(o),o.appendChild(e),zu(r)}const ee=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||ee(n,t)};function Gu(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function qu(e){return Pe(e).map(t=>{const n=e.getPropertyValue(t),i=e.getPropertyPriority(t);return`${t}: ${n}${i?" !important":""};`}).join(" ")}function Ku(e,t,n){const i=`.${e}:${t}`,r=n.cssText?Gu(n):qu(n);return document.createTextNode(`${i}{${r}}`)}function oo(e,t,n){const i=window.getComputedStyle(e,n),r=i.getPropertyValue("content");if(r===""||r==="none")return;const o=Iu();try{t.className=`${t.className} ${o}`}catch{return}const a=document.createElement("style");a.appendChild(Ku(o,n,i)),t.appendChild(a)}function Yu(e,t){oo(e,t,":before"),oo(e,t,":after")}const ao="application/font-woff",so="image/jpeg",Ju={woff:ao,woff2:ao,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:so,jpeg:so,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Xu(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function nr(e){const t=Xu(e).toLowerCase();return Ju[t]||""}function Zu(e){return e.split(/,/)[1]}function Di(e){return e.search(/^(data:)/)!==-1}function Qu(e,t){return`data:${t};base64,${e}`}async function os(e,t,n){const i=await fetch(e,t);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);const r=await i.blob();return new Promise((o,a)=>{const c=new FileReader;c.onerror=a,c.onloadend=()=>{try{o(n({res:i,result:c.result}))}catch(l){a(l)}},c.readAsDataURL(r)})}const ei={};function ed(e,t,n){let i=e.replace(/\?.*/,"");return n&&(i=e),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),t?`[${t}]${i}`:i}async function ir(e,t,n){const i=ed(e,t,n.includeQueryParams);if(ei[i]!=null)return ei[i];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let r;try{const o=await os(e,n.fetchRequestInit,({res:a,result:c})=>(t||(t=a.headers.get("Content-Type")||""),Zu(c)));r=Qu(o,t)}catch(o){r=n.imagePlaceholder||"";let a=`Failed to fetch resource: ${e}`;o&&(a=typeof o=="string"?o:o.message),a&&console.warn(a)}return ei[i]=r,r}async function td(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):En(t)}async function nd(e,t){if(e.currentSrc){const o=document.createElement("canvas"),a=o.getContext("2d");o.width=e.clientWidth,o.height=e.clientHeight,a==null||a.drawImage(e,0,0,o.width,o.height);const c=o.toDataURL();return En(c)}const n=e.poster,i=nr(n),r=await ir(n,i,t);return En(r)}async function id(e){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await Wn(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function rd(e,t){return ee(e,HTMLCanvasElement)?td(e):ee(e,HTMLVideoElement)?nd(e,t):ee(e,HTMLIFrameElement)?id(e):e.cloneNode(!1)}const od=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function ad(e,t,n){var i,r;let o=[];return od(e)&&e.assignedNodes?o=Pe(e.assignedNodes()):ee(e,HTMLIFrameElement)&&(!((i=e.contentDocument)===null||i===void 0)&&i.body)?o=Pe(e.contentDocument.body.childNodes):o=Pe(((r=e.shadowRoot)!==null&&r!==void 0?r:e).childNodes),o.length===0||ee(e,HTMLVideoElement)||await o.reduce((a,c)=>a.then(()=>Wn(c,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function sd(e,t){const n=t.style;if(!n)return;const i=window.getComputedStyle(e);i.cssText?(n.cssText=i.cssText,n.transformOrigin=i.transformOrigin):Pe(i).forEach(r=>{let o=i.getPropertyValue(r);r==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),ee(e,HTMLIFrameElement)&&r==="display"&&o==="inline"&&(o="block"),r==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),n.setProperty(r,o,i.getPropertyPriority(r))})}function cd(e,t){ee(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),ee(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function ld(e,t){if(ee(e,HTMLSelectElement)){const n=t,i=Array.from(n.children).find(r=>e.value===r.getAttribute("value"));i&&i.setAttribute("selected","")}}function ud(e,t){return ee(t,Element)&&(sd(e,t),Yu(e,t),cd(e,t),ld(e,t)),t}async function dd(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const i={};for(let o=0;o<n.length;o++){const c=n[o].getAttribute("xlink:href");if(c){const l=e.querySelector(c),u=document.querySelector(c);!l&&u&&!i[c]&&(i[c]=await Wn(u,t,!0))}}const r=Object.values(i);if(r.length){const o="http://www.w3.org/1999/xhtml",a=document.createElementNS(o,"svg");a.setAttribute("xmlns",o),a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.display="none";const c=document.createElementNS(o,"defs");a.appendChild(c);for(let l=0;l<r.length;l++)c.appendChild(r[l]);e.appendChild(a)}return e}async function Wn(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(i=>rd(i,t)).then(i=>ad(e,i,t)).then(i=>ud(e,i)).then(i=>dd(i,t))}const as=/url\((['"]?)([^'"]+?)\1\)/g,hd=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,fd=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function md(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function _d(e){const t=[];return e.replace(as,(n,i,r)=>(t.push(r),n)),t.filter(n=>!Di(n))}async function gd(e,t,n,i,r){try{const o=n?Bu(t,n):t,a=nr(t);let c;return r||(c=await ir(o,a,i)),e.replace(md(t),`$1${c}$3`)}catch{}return e}function pd(e,{preferredFontFormat:t}){return t?e.replace(fd,n=>{for(;;){const[i,,r]=hd.exec(n)||[];if(!r)return"";if(r===t)return`src: ${i};`}}):e}function ss(e){return e.search(as)!==-1}async function cs(e,t,n){if(!ss(e))return e;const i=pd(e,n);return _d(i).reduce((o,a)=>o.then(c=>gd(c,a,t,n)),Promise.resolve(i))}async function sn(e,t,n){var i;const r=(i=t.style)===null||i===void 0?void 0:i.getPropertyValue(e);if(r){const o=await cs(r,null,n);return t.style.setProperty(e,o,t.style.getPropertyPriority(e)),!0}return!1}async function vd(e,t){await sn("background",e,t)||await sn("background-image",e,t),await sn("mask",e,t)||await sn("mask-image",e,t)}async function yd(e,t){const n=ee(e,HTMLImageElement);if(!(n&&!Di(e.src))&&!(ee(e,SVGImageElement)&&!Di(e.href.baseVal)))return;const i=n?e.src:e.href.baseVal,r=await ir(i,nr(i),t);await new Promise((o,a)=>{e.onload=o,e.onerror=a;const c=e;c.decode&&(c.decode=o),c.loading==="lazy"&&(c.loading="eager"),n?(e.srcset="",e.src=r):e.href.baseVal=r})}async function bd(e,t){const i=Pe(e.childNodes).map(r=>ls(r,t));await Promise.all(i).then(()=>e)}async function ls(e,t){ee(e,Element)&&(await vd(e,t),await yd(e,t),await bd(e,t))}function wd(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const i=t.style;return i!=null&&Object.keys(i).forEach(r=>{n[r]=i[r]}),e}const co={};async function lo(e){let t=co[e];if(t!=null)return t;const i=await(await fetch(e)).text();return t={url:e,cssText:i},co[e]=t,t}async function uo(e,t){let n=e.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map(async a=>{let c=a.replace(i,"$1");return c.startsWith("https://")||(c=new URL(c,e.url).href),os(c,t.fetchRequestInit,({result:l})=>(n=n.replace(a,`url(${l})`),[a,l]))});return Promise.all(o).then(()=>n)}function ho(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let i=e.replace(n,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=r.exec(i);if(l===null)break;t.push(l[0])}i=i.replace(r,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",c=new RegExp(a,"gi");for(;;){let l=o.exec(i);if(l===null){if(l=c.exec(i),l===null)break;o.lastIndex=c.lastIndex}else c.lastIndex=o.lastIndex;t.push(l[0])}return t}async function Sd(e,t){const n=[],i=[];return e.forEach(r=>{if("cssRules"in r)try{Pe(r.cssRules||[]).forEach((o,a)=>{if(o.type===CSSRule.IMPORT_RULE){let c=a+1;const l=o.href,u=lo(l).then(d=>uo(d,t)).then(d=>ho(d).forEach(h=>{try{r.insertRule(h,h.startsWith("@import")?c+=1:r.cssRules.length)}catch(f){console.error("Error inserting rule from remote css",{rule:h,error:f})}})).catch(d=>{console.error("Error loading remote css",d.toString())});i.push(u)}})}catch(o){const a=e.find(c=>c.href==null)||document.styleSheets[0];r.href!=null&&i.push(lo(r.href).then(c=>uo(c,t)).then(c=>ho(c).forEach(l=>{a.insertRule(l,r.cssRules.length)})).catch(c=>{console.error("Error loading remote stylesheet",c)})),console.error("Error inlining remote css file",o)}}),Promise.all(i).then(()=>(e.forEach(r=>{if("cssRules"in r)try{Pe(r.cssRules||[]).forEach(o=>{n.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${r.href}`,o)}}),n))}function kd(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>ss(t.style.getPropertyValue("src")))}async function Od(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Pe(e.ownerDocument.styleSheets),i=await Sd(n,t);return kd(i)}async function Ad(e,t){const n=await Od(e,t);return(await Promise.all(n.map(r=>{const o=r.parentStyleSheet?r.parentStyleSheet.href:null;return cs(r.cssText,o,t)}))).join(`
`)}async function Cd(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await Ad(e,t);if(n){const i=document.createElement("style"),r=document.createTextNode(n);i.appendChild(r),e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i)}}async function Ed(e,t={}){const{width:n,height:i}=rs(e,t),r=await Wn(e,t,!0);return await Cd(r,t),await ls(r,t),wd(r,t),await Wu(r,n,i)}async function us(e,t={}){const{width:n,height:i}=rs(e,t),r=await Ed(e,t),o=await En(r),a=document.createElement("canvas"),c=a.getContext("2d"),l=t.pixelRatio||Vu(),u=t.canvasWidth||n,d=t.canvasHeight||i;return a.width=u*l,a.height=d*l,t.skipAutoScale||Fu(a),a.style.width=`${u}`,a.style.height=`${d}`,t.backgroundColor&&(c.fillStyle=t.backgroundColor,c.fillRect(0,0,a.width,a.height)),c.drawImage(o,0,0,a.width,a.height),a}async function Dd(e,t={}){return(await us(e,t)).toDataURL()}async function xd(e,t={}){const n=await us(e,t);return await Uu(n)}function xi(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var i in t)if(i!=="__source"&&e[i]!==t[i])return!0;return!1}function Dn(e,t){this.props=e,this.context=t}function It(e,t){function n(r){var o=this.props.ref,a=o==r.ref;return!a&&o&&(o.call?o(null):o.current=null),t?!t(this.props,r)||!a:xi(this.props,r)}function i(r){return this.shouldComponentUpdate=n,Ce(e,r)}return i.displayName="Memo("+(e.displayName||e.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i}(Dn.prototype=new he).isPureReactComponent=!0,Dn.prototype.shouldComponentUpdate=function(e,t){return xi(this.props,e)||xi(this.state,t)};var fo=O.__b;O.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),fo&&fo(e)};var $d=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Lt(e){function t(n){if(!("ref"in n))return e(n,null);var i=n.ref;delete n.ref;var r=e(n,i);return n.ref=i,r}return t.$$typeof=$d,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var mo=function(e,t){return e==null?null:fe(fe(e).map(t))},ds={map:mo,forEach:mo,count:function(e){return e?fe(e).length:0},only:function(e){var t=fe(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:fe},Rd=O.__e;O.__e=function(e,t,n,i){if(e.then){for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t)}Rd(e,t,n,i)};var _o=O.unmount;function hs(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),e.__c.__H=null),(e=function(i,r){for(var o in r)i[o]=r[o];return i}({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(i){return hs(i,t,n)})),e}function fs(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(i){return fs(i,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function Pt(){this.__u=0,this.t=null,this.__b=null}function ms(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function _s(e){var t,n,i;function r(o){if(t||(t=e()).then(function(a){n=a.default||a},function(a){i=a}),i)throw i;if(!n)throw t;return Ce(n,o)}return r.displayName="Lazy",r.__f=!0,r}function ut(){this.u=null,this.o=null}O.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),_o&&_o(e)},(Pt.prototype=new he).__c=function(e,t){var n=t.__c,i=this;i.t==null&&(i.t=[]),i.t.push(n);var r=ms(i.__v),o=!1,a=function(){o||(o=!0,n.__R=null,r?r(c):c())};n.__R=a;var c=function(){if(!--i.__u){if(i.state.__a){var l=i.state.__a;i.__v.__k[0]=fs(l,l.__c.__P,l.__c.__O)}var u;for(i.setState({__a:i.__b=null});u=i.t.pop();)u.forceUpdate()}};i.__u++||32&t.__u||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(a,a)},Pt.prototype.componentWillUnmount=function(){this.t=[]},Pt.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=hs(this.__b,n,i.__O=i.__P)}this.__b=null}var r=t.__a&&Ce(U,null,e.fallback);return r&&(r.__u&=-33),[Ce(U,null,t.__a?null:e.children),r]};var go=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function Pd(e){return this.getChildContext=function(){return e.context},e.children}function Nd(e){var t=this,n=e.i;t.componentWillUnmount=function(){ht(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],contains:function(){return!0},appendChild:function(i){this.childNodes.push(i),t.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),t.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),t.i.removeChild(i)}}),ht(Ce(Pd,{context:t.context},e.__v),t.l)}function gs(e,t){var n=Ce(Nd,{__v:e,i:t});return n.containerInfo=t,n}(ut.prototype=new he).__a=function(e){var t=this,n=ms(t.__v),i=t.o.get(e);return i[0]++,function(r){var o=function(){t.props.revealOrder?(i.push(r),go(t,e,i)):r()};n?n(o):o()}},ut.prototype.render=function(e){this.u=null,this.o=new Map;var t=fe(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},ut.prototype.componentDidUpdate=ut.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){go(e,n,t)})};var ps=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Md=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Td=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,jd=/[A-Z0-9]/g,Bd=typeof document<"u",Id=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function vs(e,t,n){return t.__k==null&&(t.textContent=""),ht(e,t),typeof n=="function"&&n(),e?e.__c:null}function ys(e,t,n){return Jo(e,t),typeof n=="function"&&n(),e?e.__c:null}he.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(he.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var po=O.event;function Ld(){}function Hd(){return this.cancelBubble}function Vd(){return this.defaultPrevented}O.event=function(e){return po&&(e=po(e)),e.persist=Ld,e.isPropagationStopped=Hd,e.isDefaultPrevented=Vd,e.nativeEvent=e};var rr,Fd={enumerable:!1,configurable:!0,get:function(){return this.class}},vo=O.vnode;O.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,i=t.type,r={},o=i.indexOf("-")===-1;for(var a in n){var c=n[a];if(!(a==="value"&&"defaultValue"in n&&c==null||Bd&&a==="children"&&i==="noscript"||a==="class"||a==="className")){var l=a.toLowerCase();a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&c===!0?c="":l==="translate"&&c==="no"?c=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?a="ondblclick":l!=="onchange"||i!=="input"&&i!=="textarea"||Id(n.type)?l==="onfocus"?a="onfocusin":l==="onblur"?a="onfocusout":Td.test(a)&&(a=l):l=a="oninput":o&&Md.test(a)?a=a.replace(jd,"-$&").toLowerCase():c===null&&(c=void 0),l==="oninput"&&r[a=l]&&(a="oninputCapture"),r[a]=c}}i=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=fe(n.children).forEach(function(u){u.props.selected=r.value.indexOf(u.props.value)!=-1})),i=="select"&&r.defaultValue!=null&&(r.value=fe(n.children).forEach(function(u){u.props.selected=r.multiple?r.defaultValue.indexOf(u.props.value)!=-1:r.defaultValue==u.props.value})),n.class&&!n.className?(r.class=n.class,Object.defineProperty(r,"className",Fd)):(n.className&&!n.class||n.class&&n.className)&&(r.class=r.className=n.className),t.props=r}(e),e.$$typeof=ps,vo&&vo(e)};var yo=O.__r;O.__r=function(e){yo&&yo(e),rr=e.__c};var bo=O.diffed;O.diffed=function(e){bo&&bo(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value),rr=null};var bs={ReactCurrentDispatcher:{current:{readContext:function(e){return rr.__n[e.__c].props.value},useCallback:p,useContext:ne,useDebugValue:Ui,useDeferredValue:sr,useEffect:G,useId:zi,useImperativeHandle:Fi,useInsertionEffect:lr,useLayoutEffect:yt,useMemo:Ft,useReducer:Mn,useRef:J,useState:$,useSyncExternalStore:ur,useTransition:cr}}},Ud="18.3.1";function ws(e){return Ce.bind(null,e)}function Yt(e){return!!e&&e.$$typeof===ps}function Ss(e){return Yt(e)&&e.type===U}function ks(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function Os(e){return Yt(e)?Vi.apply(null,arguments):e}function As(e){return!!e.__k&&(ht(null,e),!0)}function Cs(e){return e&&(e.base||e.nodeType===1&&e)||null}var or=function(e,t){return e(t)},Es=function(e,t){return e(t)},Ds=U;function ar(e){e()}function sr(e){return e}function cr(){return[!1,ar]}var lr=yt,xs=Yt;function ur(e,t){var n=t(),i=$({h:{__:n,v:t}}),r=i[0].h,o=i[1];return yt(function(){r.__=n,r.v=t,ti(r)&&o({h:r})},[e,n,t]),G(function(){return ti(r)&&o({h:r}),e(function(){ti(r)&&o({h:r})})},[e]),n}function ti(e){var t,n,i=e.v,r=e.__;try{var o=i();return!((t=r)===(n=o)&&(t!==0||1/t==1/n)||t!=t&&n!=n)}catch{return!0}}var $i={useState:$,useId:zi,useReducer:Mn,useEffect:G,useLayoutEffect:yt,useInsertionEffect:lr,useTransition:cr,useDeferredValue:sr,useSyncExternalStore:ur,startTransition:ar,useRef:J,useImperativeHandle:Fi,useMemo:Ft,useCallback:p,useContext:ne,useDebugValue:Ui,version:"18.3.1",Children:ds,render:vs,hydrate:ys,unmountComponentAtNode:As,createPortal:gs,createElement:Ce,createContext:Vt,createFactory:ws,cloneElement:Os,createRef:zo,Fragment:U,isValidElement:Yt,isElement:xs,isFragment:Ss,isMemo:ks,findDOMNode:Cs,Component:he,PureComponent:Dn,memo:It,forwardRef:Lt,flushSync:Es,unstable_batchedUpdates:or,StrictMode:Ds,Suspense:Pt,SuspenseList:ut,lazy:_s,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:bs};const zd=Object.freeze(Object.defineProperty({__proto__:null,Children:ds,Component:he,Fragment:U,PureComponent:Dn,StrictMode:Ds,Suspense:Pt,SuspenseList:ut,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:bs,cloneElement:Os,createContext:Vt,createElement:Ce,createFactory:ws,createPortal:gs,createRef:zo,default:$i,findDOMNode:Cs,flushSync:Es,forwardRef:Lt,hydrate:ys,isElement:xs,isFragment:Ss,isMemo:ks,isValidElement:Yt,lazy:_s,memo:It,render:vs,startTransition:ar,unmountComponentAtNode:As,unstable_batchedUpdates:or,useCallback:p,useContext:ne,useDebugValue:Ui,useDeferredValue:sr,useEffect:G,useErrorBoundary:Ec,useId:zi,useImperativeHandle:Fi,useInsertionEffect:lr,useLayoutEffect:yt,useMemo:Ft,useReducer:Mn,useRef:J,useState:$,useSyncExternalStore:ur,useTransition:cr,version:Ud},Symbol.toStringTag,{value:"Module"}));if(!$)throw new Error("mobx-react-lite requires React with Hooks support");if(!mu)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function Wd(e){e()}function Gd(e){e||(e=Wd),au({reactionScheduler:e})}function qd(e){return su(e)}var Kd=1e4,Yd=1e4,Jd=function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(i){i===void 0&&(i=Kd),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var r=Date.now();n.registrations.forEach(function(o,a){r-o.registeredAt>=i&&(n.finalize(o.value),n.registrations.delete(a))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,i){this.registrations.set(i,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,Yd))}}),e}(),Xd=typeof FinalizationRegistry<"u"?FinalizationRegistry:Jd,Ri=new Xd(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),$s={exports:{}},Rs={};const Zd=Nc(zd);/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gt=Zd;function Qd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var eh=typeof Object.is=="function"?Object.is:Qd,th=gt.useState,nh=gt.useEffect,ih=gt.useLayoutEffect,rh=gt.useDebugValue;function oh(e,t){var n=t(),i=th({inst:{value:n,getSnapshot:t}}),r=i[0].inst,o=i[1];return ih(function(){r.value=n,r.getSnapshot=t,ni(r)&&o({inst:r})},[e,n,t]),nh(function(){return ni(r)&&o({inst:r}),e(function(){ni(r)&&o({inst:r})})},[e]),rh(n),n}function ni(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!eh(e,n)}catch{return!0}}function ah(e,t){return t()}var sh=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ah:oh;Rs.useSyncExternalStore=gt.useSyncExternalStore!==void 0?gt.useSyncExternalStore:sh;$s.exports=Rs;var ch=$s.exports;function wo(e){e.reaction=new Te("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function lh(e,t){t===void 0&&(t="observed");var n=$i.useRef(null);if(!n.current){var i={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(c){return Ri.unregister(i),i.onStoreChange=c,i.reaction||(wo(i),i.stateVersion=Symbol()),function(){var l;i.onStoreChange=null,(l=i.reaction)===null||l===void 0||l.dispose(),i.reaction=null}},getSnapshot:function(){return i.stateVersion}};n.current=i}var r=n.current;r.reaction||(wo(r),Ri.register(n,r,r)),$i.useDebugValue(r.reaction,qd),ch.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot);var o,a;if(r.reaction.track(function(){try{o=e()}catch(c){a=c}}),a)throw a;return o}var ii,ri,Ps=typeof Symbol=="function"&&Symbol.for,uh=(ri=(ii=Object.getOwnPropertyDescriptor(function(){},"name"))===null||ii===void 0?void 0:ii.configurable)!==null&&ri!==void 0?ri:!1,So=Ps?Symbol.for("react.forward_ref"):typeof Lt=="function"&&Lt(function(e){return null}).$$typeof,ko=Ps?Symbol.for("react.memo"):typeof It=="function"&&It(function(e){return null}).$$typeof;function A(e,t){var n;if(ko&&e.$$typeof===ko)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var i=(n=void 0)!==null&&n!==void 0?n:!1,r=e,o=e.displayName||e.name;if(So&&e.$$typeof===So&&(i=!0,r=e.render,typeof r!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var a=function(c,l){return lh(function(){return r(c,l)},o)};return a.displayName=e.displayName,uh&&Object.defineProperty(a,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(a.contextTypes=e.contextTypes),i&&(a=Lt(a)),a=It(a),hh(e,a),a}var dh={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function hh(e,t){Object.keys(e).forEach(function(n){dh[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}var oi;Gd(or);oi=Ri.finalizeAllImmediately;const fh={attributes:!0,childList:!0,subtree:!0,characterData:!0},mh=e=>{const t=document.defaultView.getComputedStyle(e);return e.getBoundingClientRect().height+(parseInt(t.marginTop,10)||0)+(parseInt(t.marginBottom,10)||0)},_h=e=>Array.from(e.children).map(mh).reduce((t,n)=>n+t,0),Ie=({className:e,children:t})=>{const n=H("mock-animated-div",e),i=J(),[r,o]=$(0),a={height:`${r}px`},c=p(()=>{i.current&&(o(_h(i.current)),i.current.parentElement&&setTimeout(()=>{var l,u;return(u=(l=i.current)==null?void 0:l.parentElement)==null?void 0:u.scrollTo(0,0)},0))},[i,o]);return G(()=>{if(c(),i.current){const l=new MutationObserver(c);return l.observe(i.current,fh),()=>l.disconnect()}},[i,c]),ns(c),s("div",{ref:i,className:n,style:a,children:t})},gh=({down:e,children:t,warning:n,onClose:i})=>{const r=J(null);zn(r,i);const o=H("mock-tooltip",{"mock-tooltip-up":!e,"mock-tooltip-down":e,"mock-tooltip-warning":n});return s("div",{ref:r,className:o,children:t})},Gn=({renderTooltip:e,direction:t,children:n,warning:i})=>{const[r,o]=$(!1),a=t==="down",c=p(()=>o(d=>!d),[o]),l=p(()=>o(!1),[o]);return s("div",{className:"mock-tooltip-container",children:[s("div",{onMouseDown:c,children:n}),r&&s(gh,{down:a,warning:i,onClose:l,children:e()})]})},ph=["white","grey","orange","green","purple","aqua","red","yellow","cyan"],Pi={"item/basic_magazine":"item/basic_magazine.svg","item/close_quarters":"item/close_quarters.svg","item/headshot_booster":"item/headshot_booster.svg","item/high_velocity_mag":"item/high_velocity_mag.svg","item/hollow_point_ward":"item/hollow_point_ward.svg","item/monster_rounds":"item/monster_rounds.svg","item/rapid_rounds":"item/rapid_rounds.svg","item/restorative_shot":"item/restorative_shot.svg","item/active_reload":"item/active_reload.svg","item/berserker":"item/berserker.svg","item/fleetfoot":"item/fleetfoot.svg","item/kinetic_dash":"item/kinetic_dash.svg","item/long_range":"item/long_range.svg","item/melee_charge":"item/melee_charge.svg","item/mystic_shot":"item/mystic_shot.svg","item/slowing_bullets":"item/slowing_bullets.svg","item/soul_shredder_bullets":"item/soul_shredder_bullets.svg","item/swift_striker":"item/swift_striker.svg","item/alchemical_fire":"item/alchemical_fire.svg","item/burst_fire":"item/burst_fire.svg","item/escalating_resilience":"item/escalating_resilience.svg","item/headhunter":"item/headhunter.svg","item/heroic_aura":"item/heroic_aura.svg","item/hunters_aura":"item/hunters_aura.svg","item/intensifying_magazine":"item/intensifying_magazine.svg","item/point_blank":"item/point_blank.svg","item/pristine_emblem":"item/pristine_emblem.svg","item/sharpshooter":"item/sharpshooter.svg","item/spellslinger_headshots":"item/spellslinger_headshots.png","item/tesla_bullets":"item/tesla_bullets.svg","item/titanic_magazine":"item/titanic_magazine.svg","item/toxic_bullets":"item/toxic_bullets.svg","item/warp_stone":"item/warp_stone.svg","item/crippling_headshot":"item/crippling_headshot.svg","item/frenzy":"item/frenzy.svg","item/glass_cannon":"item/glass_cannon.svg","item/lucky_shot":"item/lucky_shot.svg","item/ricochet":"item/ricochet.svg","item/shadow_weave":"item/shadow_weave.svg","item/silencer":"item/silencer.svg","item/spiritual_overflow":"item/spiritual_overflow.svg","item/vampiric_burst":"item/vampiric_burst.svg","item/enduring_spirit":"item/enduring_spirit.svg","item/extra_health":"item/extra_health.svg","item/extra_regen":"item/extra_regen.svg","item/extra_stamina":"item/extra_stamina.svg","item/healing_rite":"item/healing_rite.svg","item/melee_lifesteal":"item/melee_lifesteal.svg","item/sprint_boots":"item/sprint_boots.svg","item/bullet_armor":"item/bullet_armor.svg","item/bullet_lifesteal":"item/bullet_lifesteal.svg","item/combat_barrier":"item/combat_barrier.svg","item/debuff_reducer":"item/debuff_reducer.svg","item/divine_barrier":"item/divine_barrier.svg","item/enchanters_barrier":"item/enchanters_barrier.svg","item/enduring_speed":"item/enduring_speed.svg","item/healbane":"item/healbane.svg","item/healing_booster":"item/healing_booster.svg","item/healing_nova":"item/healing_nova.svg","item/reactive_barrier":"item/reactive_barrier.svg","item/restorative_locket":"item/restorative_locket.svg","item/return_fire":"item/return_fire.svg","item/spirit_armor":"item/spirit_armor.svg","item/spirit_lifesteal":"item/spirit_lifesteal.svg","item/debuff_remover":"item/debuff_remover.svg","item/fortitude":"item/fortitude.svg","item/improved_bullet_armor":"item/improved_bullet_armor.svg","item/improved_spirit_armor":"item/improved_spirit_armor.svg","item/lifestrike":"item/lifestrike.svg","item/majestic_leap":"item/majestic_leap.svg","item/metal_skin":"item/metal_skin.svg","item/rescue_beam":"item/rescue_beam.svg","item/superior_stamina":"item/superior_stamina.svg","item/colossus":"item/colossus.svg","item/inhibitor":"item/inhibitor.svg","item/leech":"item/leech.svg","item/phantom_strike":"item/phantom_strike.svg","item/siphon_bullets":"item/siphon_bullets.svg","item/unstoppable":"item/unstoppable.svg","item/veil_walker":"item/veil_walker.svg","item/ammo_scavenger":"item/ammo_scavenger.svg","item/extra_charge":"item/extra_charge.svg","item/extra_spirit":"item/extra_spirit.svg","item/infuser":"item/infuser.svg","item/mystic_burst":"item/mystic_burst.svg","item/mystic_reach":"item/mystic_reach.svg","item/spirit_strike":"item/spirit_strike.svg","item/bullet_resist_shredder":"item/bullet_resist_shredder.svg","item/cold_front":"item/cold_front.svg","item/decay":"item/decay.svg","item/duration_extender":"item/duration_extender.svg","item/improved_cooldown":"item/improved_cooldown.svg","item/mystic_vulnerability":"item/mystic_vulnerability.svg","item/quicksilver_reload":"item/quicksilver_reload.svg","item/slowing_hex":"item/slowing_hex.svg","item/suppressor":"item/suppressor.svg","item/withering_whip":"item/withering_whip.svg","item/arcane_surge":"item/arcane_surge.png","item/ethereal_shift":"item/ethereal_shift.svg","item/improved_burst":"item/improved_burst.svg","item/improved_reach":"item/improved_reach.svg","item/improved_spirit":"item/improved_spirit.svg","item/knockdown":"item/knockdown.svg","item/mystic_slow":"item/mystic_slow.svg","item/rapid_recharge":"item/rapid_recharge.svg","item/silence_glyph":"item/silence_glyph.svg","item/spirit_snatch":"item/spirit_snatch.png","item/superior_cooldown":"item/superior_cooldown.svg","item/superior_duration":"item/superior_duration.svg","item/surge_of_power":"item/surge_of_power.svg","item/torment_pulse":"item/torment_pulse.svg","item/boundless_spirit":"item/boundless_spirit.svg","item/curse":"item/curse.svg","item/diviners_kevlar":"item/diviners_kevlar.svg","item/echo_shard":"item/echo_shard.svg","item/escalating_exposure":"item/escalating_exposure.svg","item/magic_carpet":"item/magic_carpet.svg","item/mystic_reverb":"item/mystic_reverb.svg","item/refresher":"item/refresher.svg","hero/abrams/infernal_resilience":"hero/abrams/infernal_resilience.svg","hero/abrams/seismic_impact":"hero/abrams/seismic_impact.svg","hero/abrams/shoulder_charge":"hero/abrams/shoulder_charge.svg","hero/abrams/siphon_life":"hero/abrams/siphon_life.svg","hero/bebop/exploding_uppercut":"hero/bebop/exploding_uppercut.svg","hero/bebop/hook":"hero/bebop/hook.svg","hero/bebop/hyper_beam":"hero/bebop/hyper_beam.svg","hero/bebop/sticky_bomb":"hero/bebop/sticky_bomb.svg","hero/dynamo/kinetic_pulse":"hero/dynamo/kinetic_pulse.svg","hero/dynamo/quantum_entanglement":"hero/dynamo/quantum_entanglement.svg","hero/dynamo/rejuvenating_aurora":"hero/dynamo/rejuvenating_aurora.svg","hero/dynamo/singularity":"hero/dynamo/singularity.svg","hero/grey_talon/charged_shot":"hero/grey_talon/charged_shot.svg","hero/grey_talon/guided_owl":"hero/grey_talon/guided_owl.svg","hero/grey_talon/spirit_snare":"hero/grey_talon/spirit_snare.svg","hero/grey_talon/rain_of_arrows":"hero/grey_talon/rain_of_arrows.svg","hero/haze/bullet_dance":"hero/haze/bullet_dance.svg","hero/haze/fixation":"hero/haze/fixation.svg","hero/haze/sleep_dagger":"hero/haze/sleep_dagger.svg","hero/haze/smoke_bomb":"hero/haze/smoke_bomb.svg","hero/infernus/afterburn":"hero/infernus/afterburn.svg","hero/infernus/catalyst":"hero/infernus/catalyst.svg","hero/infernus/concussive_combustion":"hero/infernus/concussive_combustion.svg","hero/infernus/flame_dash":"hero/infernus/flame_dash.svg","hero/ivy/air_drop":"hero/ivy/air_drop.svg","hero/ivy/kudzu_bomb":"hero/ivy/kudzu_bomb.svg","hero/ivy/stone_form":"hero/ivy/stone_form.svg","hero/ivy/watchers_covenant":"hero/ivy/watchers_covenant.svg","hero/kelvin/arctic_beam":"hero/kelvin/arctic_beam.svg","hero/kelvin/frost_grenade":"hero/kelvin/frost_grenade.svg","hero/kelvin/frozen_shelter":"hero/kelvin/frozen_shelter.svg","hero/kelvin/ice_path":"hero/kelvin/ice_path.svg","hero/lady_geist/essence_bomb":"hero/lady_geist/essence_bomb.svg","hero/lady_geist/life_drain":"hero/lady_geist/life_drain.svg","hero/lady_geist/malice":"hero/lady_geist/malice.svg","hero/lady_geist/soul_exchange":"hero/lady_geist/soul_exchange.svg","hero/lash/death_slam":"hero/lash/death_slam.svg","hero/lash/flog":"hero/lash/flog.svg","hero/lash/grapple":"hero/lash/grapple.svg","hero/lash/ground_strike":"hero/lash/ground_strike.svg","hero/mcginnis/heavy_barrage":"hero/mcginnis/heavy_barrage.svg","hero/mcginnis/medicinal_specter":"hero/mcginnis/medicinal_specter.svg","hero/mcginnis/mini_turret":"hero/mcginnis/mini_turret.svg","hero/mcginnis/spectral_wall":"hero/mcginnis/spectral_wall.svg","hero/mirage/djinns_mark":"hero/mirage/djinns_mark.svg","hero/mirage/fire_scarabs":"hero/mirage/fire_scarabs.svg","hero/mirage/tornado":"hero/mirage/tornado.svg","hero/mirage/traveler":"hero/mirage/traveler.svg","hero/mo_and_krill/burrow":"hero/mo_and_krill/burrow.svg","hero/mo_and_krill/combo":"hero/mo_and_krill/combo.svg","hero/mo_and_krill/sand_blast":"hero/mo_and_krill/sand_blast.svg","hero/mo_and_krill/scorn":"hero/mo_and_krill/scorn.svg","hero/paradox/kinetic_carbine":"hero/paradox/kinetic_carbine.svg","hero/paradox/paradoxical_swap":"hero/paradox/paradoxical_swap.svg","hero/paradox/pulse_grenade":"hero/paradox/pulse_grenade.svg","hero/paradox/time_wall":"hero/paradox/time_wall.svg","hero/pocket/affliction":"hero/pocket/affliction.svg","hero/pocket/barrage":"hero/pocket/barrage.svg","hero/pocket/enchanters_satchel":"hero/pocket/enchanters_satchel.svg","hero/pocket/flying_cloak":"hero/pocket/flying_cloak.svg","hero/seven/lightning_ball":"hero/seven/lightning_ball.svg","hero/seven/power_surge":"hero/seven/power_surge.svg","hero/seven/static_charge":"hero/seven/static_charge.svg","hero/seven/storm_cloud":"hero/seven/storm_cloud.svg","hero/shiv/bloodletting":"hero/shiv/bloodletting.svg","hero/shiv/killing_blow":"hero/shiv/killing_blow.svg","hero/shiv/serrated_knives":"hero/shiv/serrated_knives.svg","hero/shiv/slice_and_dice":"hero/shiv/slice_and_dice.svg","hero/vindicta/assassinate":"hero/vindicta/assassinate.svg","hero/vindicta/crow_familiar":"hero/vindicta/crow_familiar.svg","hero/vindicta/flight":"hero/vindicta/flight.svg","hero/vindicta/stake":"hero/vindicta/stake.svg","hero/viscous/goo_ball":"hero/viscous/goo_ball.svg","hero/viscous/puddle_punch":"hero/viscous/puddle_punch.svg","hero/viscous/splatter":"hero/viscous/splatter.svg","hero/viscous/the_cube":"hero/viscous/the_cube.svg","hero/warden/alchemical_flask":"hero/warden/alchemical_flask.svg","hero/warden/binding_word":"hero/warden/binding_word.svg","hero/warden/last_stand":"hero/warden/last_stand.svg","hero/warden/willpower":"hero/warden/willpower.svg","hero/wraith/card_trick":"hero/wraith/card_trick.svg","hero/wraith/full_auto":"hero/wraith/full_auto.svg","hero/wraith/project_mind":"hero/wraith/project_mind.svg","hero/wraith/telekinesis":"hero/wraith/telekinesis.svg","hero/yamato/crimson_slash":"hero/yamato/crimson_slash.svg","hero/yamato/flying_strike":"hero/yamato/flying_strike.svg","hero/yamato/power_slash":"hero/yamato/power_slash.svg","hero/yamato/shadow_transformation":"hero/yamato/shadow_transformation.svg","stat/cooldown":"stat/cooldown.svg","stat/charge":"stat/charge.svg","stat/charge_cooldown":"stat/charge_cooldown.svg","stat/duration":"stat/duration.svg","stat/range":"stat/range.svg","stat/aoe":"stat/aoe.svg","stat/weapon_damage":"stat/weapon_damage.svg","stat/spirit_damage":"stat/spirit_damage.svg","stat/melee":"stat/melee.svg","stat/bullet":"stat/bullet.svg","stat/fire_rate":"stat/fire_rate.svg","stat/ammo":"stat/ammo.svg","stat/reload":"stat/reload.svg","stat/bullet_armor":"stat/bullet_armor.svg","stat/bullet_resist_reduction":"stat/bullet_resist_reduction.png","stat/spirit_armor":"stat/spirit_armor.svg","stat/spirit_resist_reduction":"stat/spirit_resist_reduction.png","stat/bullet_shield":"stat/bullet_shield.svg","stat/spirit_shield":"stat/spirit_shield.svg","stat/move_speed":"stat/move_speed.svg","stat/stamina":"stat/stamina.svg","stat/move_slow":"stat/move_slow.svg","stat/stun":"stat/stun.svg","stat/invisible":"stat/invisible.svg","stat/health":"stat/health.svg","stat/healing":"stat/healing.svg","stat/damage_amplification":"stat/damage_amplification.svg","stat/placeholder":"stat/placeholder.svg","stat/ability_point":"stat/ability_point.svg","stat/silence":"stat/silence.svg",boon_scaling:"boon_scaling.png",cancel:"cancel.svg",compress:"compress.svg",dropdown:"dropdown.svg",error:"error.svg",expand:"expand.svg",font:"font.svg",gear:"gear.svg",grip:"grip.svg",hourglass_half:"hourglass_half.svg",plus:"plus.svg",soul:"soul.svg",spirit:"spirit.svg",swap:"swap.svg",trash:"trash.svg",vitality:"vitality.svg",weapon:"weapon.svg"},vh=Object.values(Pi),yh=/^data:/,bh=e=>!!e.match(yh),B=({image:e,large:t,color:n,onMouseDown:i})=>{const r=ne(Zo),o=`mock-icon-${n}`,a=H("mock-icon",{[o]:!!n,"mock-icon-clickable":!!i,"mock-icon-large":!!t}),c=Pi[e]||Pi["stat/placeholder"],l=e&&bh(e)?`url(${e})`:`url("${r.baseUrl}icon/${c}")`;return s("span",{className:a,style:{maskImage:l},onMouseDown:i})},wh=A(({image:e,model:t})=>{const n=y(()=>t.image=e,[e,t]);return s("div",{className:"mock-icon-picker-button",onClick:n,children:s(B,{color:t.color,image:e})})}),Sh=A(({color:e,model:t})=>{const n=y(()=>t.color=e,[e,t]);return s("div",{className:"mock-icon-picker-button",onClick:n,children:s(B,{color:e})})}),kh=A(({model:e,resize:t})=>{const n=y(()=>e.large=!e.large,[e]),i=e.large?"compress":"expand";return s("div",{className:"mock-icon-picker",children:[s("div",{children:[t&&s("span",{onClick:n,children:s(B,{color:"white",image:i})}),ph.map(o=>s(Sh,{color:o,model:e},o))]}),Gi.map((o,a)=>s("div",{children:o.map(c=>s(wh,{image:c,model:e},c))},a))]})}),dr=A(({model:e,resize:t})=>{const n=p(()=>s(kh,{model:e,resize:t}),[e,t]);return s(Gn,{click:!0,direction:"down",renderTooltip:n,children:s("div",{className:"mock-editable-icon",children:s(B,{color:e.color,image:e.image,large:e.large})})})}),Ni=["v1","v2"],pt=Ni[Ni.length-1],Oh=e=>!e||(e==null?void 0:e.length)===0,Ah=e=>e===!0?1:e===!1||e===null||e===void 0?0:e,Ns=(e,t,n)=>{var r;let i=((r=n==null?void 0:n.serialize)==null?void 0:r.call(n))||n;if(Array.isArray(i)&&(i=i.map(o=>Ns(e,`${t}[]`,o))),e==="IconModel"){if(t==="image"&&n==="stat/placeholder")return 0;if(t==="color"&&n==="grey")return 0}return e==="ValueModel"&&t==="stat"&&n==="stat"?0:Ah(i)},Ms=(e,t,n)=>Array.isArray(t)?e.map(i=>Ms(i,t[0],n)):!t||!t.deserialize?e:t.deserialize(e,n),Ch=e=>{if(!Array.isArray(e))return e;let t=e.length-1;for(;e[t]===0;)t--;return e.slice(0,t+1)},ye=(e,t)=>{const n=Array.isArray(t)?{[pt]:t}:t,i=n[pt];e.prototype.serialize=function(){return Ch(i.map(([r])=>Ns(e.name,r,this[r])))},e.deserialize=(r,o)=>{const a=n[o]||i;if(!Array.isArray(r))return r;const c=r.map((l,u)=>{const[d,h]=a[u];return[d,Ms(l,h,o)]});return Object.fromEntries(c.filter(([,l])=>!Oh(l)))}};class hr{constructor(t){v(this,"image","stat/placeholder");v(this,"color","grey");v(this,"large",!1);this.image=(t==null?void 0:t.image)||this.image,this.color=(t==null?void 0:t.color)||this.color,this.large=!!(t!=null&&t.large),de(this)}}ye(hr,[["image"],["color"],["large"]]);const Eh=300,fr=()=>s("div",{draggable:!0,className:"mock-drag-list-grip",children:s(B,{color:"grey",image:"grip"})}),Ts=({children:e,index:t,active:n,onStart:i,onEnd:r})=>{const o=H({"mock-drag-list-item":t!==null,"mock-drag-list-item-unused":t===null,"mock-drag-list-item-active":n}),a=p(l=>{i(t),l.stopPropagation()},[t,i]),c=p(l=>{r(l)},[r]);return t===null?s("div",{className:o,children:e}):s("div",{className:o,onDragEnd:c,onDragStart:a,children:e})},Dh=(e,t)=>t?e.x+e.width/2:e.y+e.height/2,xh=(e,t,n)=>{const r=Array.from(t.children).filter(a=>a.classList.contains("mock-drag-list-item")||a.classList.contains("mock-animated-div")&&Array.from(a.children).some(c=>c.classList.contains("mock-drag-list-item"))).map(a=>Dh(a.getBoundingClientRect())),o=n?e.clientX:e.clientY;for(let a=0;a<r.length;a++)if(o<r[a])return a;return r.length},mr=(e,t)=>{const n=H("mock-drag-list-divider",{"mock-drag-list-divider-highlighted":e===t});return s("div",{className:n})},$h=(e,t)=>{const n=new Set(t),i=[];let r=0,o=0;for(;r<e.length&&o<t.length;)n.has(e[r])?e[r]===t[o]?(i.push(e[r]),++r,++o):(i.push(t[o]),++o):(i.push(e[r]),++r);if(r<e.length){const a=new Set(i);i.push(...e.slice(r).filter(c=>!a.has(c)))}else o<t.length&&i.push(...t.slice(o));return i},Rh=(e,t,n,i,r)=>e.flatMap((o,a)=>[mr(a,n),s(Ts,{active:a===t,index:a,onEnd:r,onStart:i,children:o},o.key)]),Ph=(e,t,n,i,r,o)=>{const a=Object.fromEntries(t.map(l=>[l.key,l]));let c=0;return e.flatMap(l=>{const u=a[l];if(!u)return[s(Ie,{},l)];const d=c++;return[mr(d,i),s(Ie,{children:s(Ts,{active:d===n,index:d,onEnd:o,onStart:r,children:u})},l)]})},_r=A(({horizontal:e,animated:t,children:n,onMove:i})=>{const r=J(),[o,a]=$(null),[c,l]=$(null),[,u]=$(null),[d,h]=$([]),[f,m]=$([]),R=p(N=>{u(0),a(N)},[u,a]),j=p(N=>{o!==null&&(r.current&&l(xh(N,r.current,e)),N.preventDefault(),N.stopPropagation())},[o,e,l]),w=p(()=>{o!==null&&u(N=>N+1)},[o,u]),S=p(()=>{o!==null&&u(N=>N<=1?(l(null),null):N-1)},[o,u,l]),E=y(N=>{o!==null&&(c!==null&&(c<o||c>o+1)&&i(z=>{const X=z.splice(o,1);z.splice(c<o?c:c-1,0,...X)}),u(null),l(null),a(null),N.stopPropagation())},[o,c,a,l,i]);G(()=>{if(t){const N=fe(n).map(X=>X.key);h($h(d,N));const z=new Set(d).difference(new Set(N));if(z.size>0){const X=Date.now()+Eh;m(_=>_.concat(Array.from(z).map(P=>({id:P,timestamp:X}))))}}},[d,t,n,h,m]),G(()=>{if(t){let N=!1,z=!1;const X=Date.now();for(;f.length>0&&f[0].timestamp<X;){const _=d.indexOf(f[0].id);_!==-1&&(d.splice(_,1),N=!0),z=!0,f.shift()}if(z&&m(Array.from(f)),N&&h(d),f.length>0){const _=setTimeout(()=>m(P=>Array.from(P)),f[0].timestamp-X);return()=>clearTimeout(_)}}},[d,t,f,h,m]);const I=fe(n),V=t?Ph(d,I,o,c,R,E):Rh(I,o,c,R,E);return s("div",{ref:r,className:"mock-drag-list",onDragEnter:w,onDragLeave:S,onDragOver:j,onDrop:E,children:[V,mr(I.length,c)]})}),Jt=({children:e,onMouseDown:t,overlap:n})=>{const i=H({"mock-delete-button-overlap":n});return s("div",{className:"mock-deleteable",children:[e,s("span",{children:s("span",{className:i,children:s("span",{className:"mock-delete-button",children:s(B,{color:"red",image:"cancel",onMouseDown:t})})})})]})},Ve=(e,t)=>e,St=(e,t,n,i)=>({source:e,cursor:t,end:t+n,data:i}),ot=(e,t,n)=>({source:e,cursor:t,error:n}),js=Ve(({source:e,cursor:t})=>t===e.length?St(e,t,0,null):ot(e,t,"end: more data in stream")),Xt=(...e)=>Ve(({source:t,cursor:n})=>{const i=[];let r=n;for(let o=0;o<e.length;o++){const a=e[o]({source:t,cursor:r});if(a.error)return ot(t,n,`all[${o}].${a.error}`);r=a.end,i.push(a.data)}return St(t,n,r-n,i)}),xn=(...e)=>Ve(({source:t,cursor:n})=>{for(const i of e){const r=i({source:t,cursor:n});if(!r.error)return r}return ot(t,n,"any: no match")}),Nh=e=>Ve(({source:t,cursor:n})=>e({source:t,cursor:n}).error?St(t,n,0,null):ot(t,n,"not: subparser succeeded")),vt=(e,t)=>Ve(({source:n,cursor:i})=>{const r=e({source:n,cursor:i});return r.error||(r.data=t(r.data)),r}),Xe=(e,t,n)=>Ve(({source:i,cursor:r})=>{const o=[];let a=null,c=r,l=0;for(;l<=t;){const u=n({source:i,cursor:c});if(u.error){a=u.error;break}l+=1,c=u.end,o.push(u.data)}return l<e?ot(i,r,`range: found ${l} of ${e}, error: ${a}`):St(i,r,c-r,o)}),Mh=(e,t)=>Xe(e,e,t),Th=e=>Xe(0,1/0,e),$n=e=>Ve(({source:t,cursor:n})=>t.length>n&&t[n]===e?St(t,n,1,e):ot(t,n,`char(${e}): no match`)),gr=e=>Ve(({source:t,cursor:n})=>{const r=t.slice(n).match(e);return!r||r.index!==0?ot(t,n,"regex: no match"):St(t,n,r[0].length,r)}),jh=e=>t=>{const n=e({source:t,cursor:0});if(n.error)throw new Error(n.error);return n.data},Bs=new RegExp("[\\t\\r\\f]|\\p{Zs}","u"),Oo=gr(Bs),Ao=e=>!!e.match(Bs),Bh=new RegExp("\\p{Pc}|\\p{Pd}|\\p{Pe}|\\p{Pf}|\\p{Pi}|\\p{Po}|\\p{Ps}|\\p{Sc}|\\p{Sk}|\\p{Sm}|\\p{So}","u"),Co=e=>!!e.match(Bh),Mi=Xt(Xe(0,1/0,Oo),$n(`
`),Xe(0,1/0,Oo)),Ih=vt(Xt(Mi,Nh(Mi)),()=>({type:"linebreak"})),Lh=Mh(2,Mi),Hh=/[!"#%&',-/:;<=>?@_`~^$\\.*+()[\]{}|/]/,Vh=vt(Xt($n("\\"),gr(Hh)),e=>e[1][0]),Fh=/[^_*\n]+/,Uh=vt(xn(Vh,vt(gr(Fh),e=>e[0])),e=>({type:"text",data:e})),zh=({source:e,cursor:t})=>{const n=xn(Xe(1,1/0,$n("*")),Xe(1,1/0,$n("_")))({source:e,cursor:t});if(n.error)return n;const i=e[t-1],r=e[n.end],o="tag",a=n.data.join(""),c=!i||Ao(i)||i===`
`,l=i&&Co(i),u=!r||Ao(r)||r===`
`,d=r&&Co(r),h=!u&&(!d||c||l),f=!c&&(!l||u||d),m=h,R=f;return n.data={type:o,data:a,canOpen:m,canClose:R},a[0]!=="*"&&(n.data.canOpen=m&&(!f||l),n.data.canClose=R&&(!h||d)),n},Wh=e=>{const t=Math.min(2,Math.min(e[0].data.length,e[e.length-1].data.length));return{type:t===2?"strong":"em",delims:t,data:e.slice(1,e.length-1)}},Gh=e=>{let t=0;const n={"*":0,_:0};for(;t<e.length;){const i=e[t];if(i.type==="tag"&&i.canClose){let r=null;const o=i.data[0],a=n[o];for(let c=t-1;c>=a;c--){const l=e[c];if(l.type==="tag"&&l.canOpen&&l.data[0]===i.data[0]){if((i.canOpen||l.canClose)&&(l.data.length+i.data.length)%3===0&&(l.data.length%3!==0||i.data.length%3!==0)&&(l.data.length<2||i.data.length<2))continue;r=c;break}}if(r!==null){const c=e[r],l=Wh(e.slice(r,t+1));c.data=c.data.substring(0,c.data.length-l.delims),i.data=i.data.substring(0,i.data.length-l.delims);const u=r+(c.data.length===0?0:1),h=t+(i.data.length===0?1:0)-u;e.splice(u,h,l),t=u}}++t}},Is=e=>{var n;const t=[];for(let i=0;i<e.data.length;i++){const r=e.data[i];r.type==="tag"||r.type==="text"?((n=t[t.length-1])==null?void 0:n.type)==="text"?t[t.length-1].data+=r.data:t.push({type:"text",data:r.data}):(Array.isArray(r.data)&&Is(r),t.push(r))}e.data=t},Ls=e=>(e.type==="document"?e.data.forEach(Ls):e.type==="paragraph"&&(Gh(e.data),Is(e)),e),qh=vt(Xt(Xe(1,1/0,xn(zh,Uh,Ih)),xn(Lh,js)),e=>({type:"paragraph",data:e[0]})),Kh=vt(Xt(Th(qh),js),e=>Ls({type:"document",data:e[0]})),Hs=jh(Kh),Yh=["muted","normal","bright","purple","orange","green"],Z=({italic:e,weight:t,color:n,children:i})=>{const r=`mock-text-color-${n}`,o=H("mock-text",{"mock-text-italic":e,[r]:!!n,"mock-text-thin":t===400,"mock-text-medium":t===500,"mock-text-semibold":t===600,"mock-text-bold":t===700});return s("span",{className:o,children:i})},pr=e=>s(Z,{...e,weight:600}),Ze=e=>s(Z,{...e,weight:700}),Jh={text:{},strong:{weight:700,color:"bright"},emphasis:{italic:!0,color:"muted"}},Ct=(e,t)=>{if(e.type==="document")return s(U,{children:e.data.map(n=>Ct(n,t))});if(e.type==="paragraph")return s(U,{children:[e.data.map(n=>Ct(n,t)),s("br",{})]});if(e.type==="linebreak")return s(U,{children:s("br",{})});if(e.type==="text")return s(Z,{...t.text,children:e.data});if(e.type==="em")return s(Z,{...t.emphasis,children:e.data.map(n=>Ct(n,t))});if(e.type==="strong")return s(Z,{...t.strong,children:e.data.map(n=>Ct(n,t))});console.error("invalid node type")},Xh=({text:e,format:t=Jh})=>{if(!e)return null;const n=Ct(Hs(e),t);return s(U,{children:n})},Vs=e=>s(U,{children:e.split(`
`).reduce((t,n)=>t===null?n:s(U,{children:[t,s("br",{}),n]}))}),Fs=(e,t)=>{t(!0),setTimeout(()=>{e.current.contentEditable="true",e.current.focus(),window.getSelection().selectAllChildren(e.current)},0)},Us=(e,t,n)=>{t(!1),n(e.target.innerText.replaceAll(/\n+/g,`
`).trim()),e.target.innerText="",e.target.contentEditable="false",e.target.scrollTo({top:0,left:0}),window.getSelection().removeAllRanges()},te=A(({onChange:e,children:t})=>{const n=J(null),[i,r]=$(!1),[o,a]=$(null),c=p(()=>{a(n.current.innerText),Fs(n,r)},[n,r,a]),l=p(h=>{Us(h,r,e)},[r,e]),u=i?Vs(o):t,d=H("mock-editable-text","mock-text",{"mock-text-color-bright":i});return s("span",{ref:n,className:d,spellCheck:!1,onBlur:l,onMouseDown:i?null:c,children:u})}),vr=A(({text:e,format:t,onChange:n})=>{const i=J(null),[r,o]=$(!1),a=p(()=>{Fs(i,o)},[i,o]),c=p(d=>{Us(d,o,n)},[o,n]),l=r?Vs(e):s(Xh,{format:t,text:e}),u=H("mock-editable-markdown","mock-text",{"mock-text-color-bright":r});return s("div",{ref:i,className:u,spellCheck:!1,onBlur:c,onMouseDown:r?null:a,children:l})}),Ae=({label:e,onClick:t})=>s("div",{className:"mock-sidebar-button",onClick:t,children:[s(pr,{children:e}),s(B,{color:"bright-green",image:"plus"})]}),qn=({renderButtons:e,children:t})=>s(U,{children:[s("div",{className:"mock-sidebar-buttons",children:s("div",{children:e()})}),t]}),Zh=A(({model:e,color:t})=>{const n=y(()=>e.color=t,[t,e]),i=H("mock-style-picker-color",`mock-text-color-${t}`);return s("div",{className:i,onClick:n})}),Qh=[400,500,600,700],ef=A(({model:e,weight:t})=>{const n=`mock-text-color-${e.color}`,i=H("mock-style-picker-weight",{[n]:!!e.color}),r=y(()=>e.weight=t,[t,e]);return s("div",{className:i,style:{fontWeight:t},onClick:r,children:"Aa"})}),tf=A(({model:e})=>s("div",{className:"mock-style-picker",children:[s("div",{children:Yh.map(t=>s(Zh,{color:t,model:e},t))}),s("div",{children:Qh.map(t=>s(ef,{model:e,weight:t},t))})]}));class Y{constructor(t){v(this,"id");v(this,"icon");v(this,"signed",!1);v(this,"conditional",!1);v(this,"value",0);v(this,"units","");v(this,"stat","stat");v(this,"weight",null);v(this,"color",null);v(this,"spiritScaling",null);v(this,"meleeScaling",null);v(this,"boonScaling",null);this.id=crypto.randomUUID(),this.stat=(t==null?void 0:t.stat)??this.stat,this.value=(t==null?void 0:t.value)||this.value,this.units=(t==null?void 0:t.units)??this.units,this.color=(t==null?void 0:t.color)||this.color,this.weight=(t==null?void 0:t.weight)||this.weight,this.spiritScaling=(t==null?void 0:t.spiritScaling)||this.spiritScaling,this.meleeScaling=(t==null?void 0:t.meleeScaling)||this.meleeScaling,this.boonScaling=(t==null?void 0:t.boonScaling)||this.boonScaling,this.signed=!!(t!=null&&t.signed),this.conditional=(t==null?void 0:t.conditional)||this.conditional,this.icon=new hr(t==null?void 0:t.icon),de(this)}}ye(Y,[["icon",hr],["stat"],["value"],["units"],["signed"],["spiritScaling"],["conditional"],["weight"],["color"],["meleeScaling"],["boonScaling"]]);const nf=/^(([+-]?)\d*(?:.\d+)?)(.*)$/,zs=A(e=>{const t=(i,r)=>{if(!i&&r>=0)return null;const o=r>=0?"+":"-";return s(pr,{color:"muted",children:o})},n=i=>i?s(Ze,{color:"muted",children:i}):null;return s(U,{children:[t(e.signed,e.value),s(Ze,{color:"bright",children:Math.abs(e.value)}),n(e.units)]})}),Zt=A(({model:e})=>{const t=y(n=>{const i=n.match(nf),r=i&&parseFloat(i[1]);!i||isNaN(r)?console.error("value parse failed",i,n):(e.signed=i[2].length>0,e.value=parseFloat(i[1]),e.units=i[3])},[e]);return s(te,{onChange:t,children:s(zs,{signed:e.signed,units:e.units,value:e.value})})}),rf=(e,t,n)=>e?s("div",{className:"mock-spirit-scaling-box",children:s(Z,{color:"purple",children:["x ",s(te,{onChange:n,children:t.spiritScaling})]})}):null,of=(e,t,n)=>e?s("div",{className:"mock-melee-scaling-box",children:s(Z,{color:"orange",children:["x ",s(te,{onChange:n,children:t.meleeScaling})]})}):null,af=(e,t,n)=>e?s("div",{className:"mock-boon-scaling-box",children:s(Z,{children:["x ",s(te,{onChange:n,children:t.boonScaling})]})}):null,Eo=e=>e.spiritScaling!==null&&e.spiritScaling!==void 0?"spiritScaling":e.meleeScaling!==null&&e.meleeScaling!==void 0?"meleeScaling":e.boonScaling!==null&&e.boonScaling!==void 0?"boonScaling":null,Ws=A(({model:e,detailed:t})=>{const n=y(r=>{const o=parseFloat(r);isNaN(o)?console.error("failed to parse",r):e[Eo(e)]=o},[e]),i=Eo(e);return i==="spiritScaling"?s("div",{className:"mock-spirit-scaling",children:[s("span",{className:"mock-spirit-scaling-icon"}),rf(t,e,n)]}):i==="meleeScaling"?s("div",{className:"mock-melee-scaling",children:[s("span",{className:"mock-melee-scaling-icon"}),of(t,e,n)]}):i==="boonScaling"?s("div",{className:"mock-boon-scaling",children:[s("span",{className:"mock-boon-scaling-icon"}),af(t,e,n)]}):null}),sf=A(({model:e})=>{const t=y(i=>e.conditional=i,[e]);if(!e.conditional)return null;const n=e.conditional===!0?"Conditional":e.conditional;return s("div",{className:"mock-grid-cell-conditional",children:[s(te,{onChange:t,children:s(Z,{color:"muted",children:n})}),":"]})}),cf=A(({data:e,onEmpty:t})=>{const n=y(()=>e.addCell(),[e]),i=y(()=>e.addValue(),[e]),r=()=>s(U,{children:[s(Ae,{label:"Cell",onClick:n}),s(Ae,{label:"Value",onClick:i})]}),o=e.cells.map((c,l)=>s("div",{className:"mock-grid-cell",children:[s(sf,{model:c}),s("div",{className:"mock-grid-cell-position",children:[s(Ws,{detailed:!0,model:c}),s(lf,{data:e,model:c,onEmpty:t})]}),s("div",{className:"mock-grid-cell-contents",children:s(df,{model:c})})]},l)),a=e.values.length===0?null:s("div",{className:"mock-grid-values-cell",children:e.values.map((c,l)=>s(uf,{index:l,model:e,onEmpty:t},l))});return s(qn,{renderButtons:r,children:s("div",{className:"mock-grid",children:[o,a]})})}),lf=A(({data:e,model:t,onEmpty:n})=>{const i=y(()=>{const c=e.cells.indexOf(t);c===-1?console.error("grid cell not found",t):(e.removeCell(c),n&&e.cells.length===0&&e.values.length===0&&n())},[e,t,n]),r=y(()=>{t.spiritScaling!==null&&t.spiritScaling!==void 0?(t.spiritScaling=null,t.meleeScaling=0):t.meleeScaling!==null&&t.meleeScaling!==void 0?(t.meleeScaling=null,t.boonScaling=0):t.boonScaling!==null&&t.boonScaling!==void 0?t.boonScaling=null:t.spiritScaling=0},[t]),o=y(()=>t.conditional=!t.conditional,[t]),a=p(()=>s(tf,{model:t}),[t]);return s("div",{className:"mock-grid-cell-hover-buttons",children:[s(B,{color:"red",image:"cancel",onMouseDown:i}),s(Gn,{click:!0,direction:"up",renderTooltip:a,children:s(B,{color:"white",image:"font"})}),s(B,{color:"white",image:"boon_scaling",onMouseDown:r}),s(B,{color:"white",image:"hourglass_half",onMouseDown:o})]})}),uf=A(({model:e,index:t,onEmpty:n})=>{const i=e.values[t],r=y(a=>i.stat=a,[i]),o=y(()=>{e.removeValue(t),e.cells.length===0&&e.values.length===0&&n()},[t,e,n]);return s("div",{className:"mock-grid-values-cell-item",children:s(Jt,{onMouseDown:o,children:[s("span",{className:"mock-grid-values-cell-value",children:[s(dr,{model:i.icon}),s(Zt,{model:i})]}),s(te,{onChange:r,children:s(Z,{children:i.stat})})]})})}),df=A(({model:e})=>{const t=y(n=>e.stat=n,[e]);return s(U,{children:[s("div",{className:"mock-grid-cell-value",children:[s(dr,{resize:!0,model:e.icon}),s(Zt,{model:e})]}),s(te,{onChange:t,children:s(Z,{color:e.color||"bright",weight:e.weight||600,children:e.stat})})]})});class Qt{constructor(t){v(this,"cells",[]);v(this,"values",[]);var n,i;this.cells=((n=t==null?void 0:t.cells)==null?void 0:n.map(r=>new Y(r)))||this.cells,this.values=((i=t==null?void 0:t.values)==null?void 0:i.map(r=>new Y(r)))||this.values,de(this)}addCell(t){this.cells.push(new Y(t))}removeCell(t){this.cells.splice(t,1)}addValue(t){this.values.push(new Y(t))}removeValue(t){this.values.splice(t,1)}}ye(Qt,[["cells",[Y]],["values",[Y]]]);const hf=A(({details:e,section:t})=>{const n=y(()=>{e.removeSection(t)},[e,t]),i=y(o=>{o.length===0?n():t.markdownData=o},[t,n]),r=t.gridData?s(cf,{data:t.gridData,onEmpty:n}):s(vr,{text:t.markdownData,onChange:i});return s("div",{className:"mock-details-section",children:[s(fr,{}),r]})}),Gs=A(({model:e})=>{const t=y(()=>e.addMarkdownSection(),[e]),n=y(()=>e.addGridSection(),[e]),i=y(a=>e.description=a,[e]),r=y(a=>a(e.sections),[e]),o=p(()=>s(U,{children:[s(Ae,{label:"Markdown",onClick:t}),s(Ae,{label:"Grid",onClick:n})]}),[n,t]);return s(qn,{renderButtons:o,children:s("div",{className:"mock-details",children:[s("div",{className:"mock-details-description",children:s(vr,{text:e.description,onChange:i})}),s(_r,{onMove:r,children:e.sections.map(a=>s(hf,{details:e,section:a},a.id))})]})})}),qs={gridData:{cells:[{}],values:[{}]}},Ks="Insert **markdown** _here_.",Ys={markdownData:Ks};class Nt{constructor(t){v(this,"id");v(this,"markdownData",null);v(this,"gridData",null);this.id=crypto.randomUUID(),this.markdownData=(t==null?void 0:t.markdownData)||null,this.gridData=t!=null&&t.gridData?new Qt(t.gridData):null,!this.markdownData&&!this.gridData&&(this.markdownData=Ys.markdownData),de(this)}}ye(Nt,[["gridData",Qt],["markdownData"]]);class en{constructor(t){v(this,"description",Ks);v(this,"sections",[]);var n;this.description=(t==null?void 0:t.description)??this.description,this.sections=((n=t==null?void 0:t.sections)==null?void 0:n.map(i=>new Nt(i)))||this.sections,de(this)}addMarkdownSection(){this.sections.push(new Nt(Ys))}addGridSection(){this.sections.push(new Nt(qs))}removeSection(t){const n=this.sections.indexOf(t);n!==-1&&this.sections.splice(n,1)}}ye(en,[["description"],["sections",[Nt]]]);const cn=A(({model:e,value:t})=>{const n=y(()=>e.removeStat(t),[e,t]);return t?s(Jt,{overlap:!0,onMouseDown:n,children:s("div",{className:"mock-ability-stat",children:[s(dr,{model:t.icon}),s(Zt,{model:t})]})}):null}),ff=e=>e.reduce((t,n)=>(["charges","chargeCooldown","cooldown"].includes(n.stat)?t[n.stat]=n:t.remainder.push(n),t),{remainder:[]}),mf=A(({model:e})=>{const t=y(h=>e.name=h,[e]),n=y(()=>e.addStat(),[e]),i=y(()=>{e.addStat({icon:{image:"stat/cooldown"},value:1,units:"s",signed:!1,stat:"cooldown"})},[e]),r=y(()=>{e.addStat({icon:{image:"stat/charge"},value:1,units:"",signed:!1,stat:"charges"}),e.addStat({icon:{image:"stat/charge_cooldown"},value:1,units:"s",signed:!1,stat:"chargeCooldown"})},[e]),{charges:o,chargeCooldown:a,cooldown:c,remainder:l}=ff(e.stats),u=()=>s(U,{children:[s(Ae,{label:"Stat",onClick:n}),c?null:s(Ae,{label:"Cooldown",onClick:i}),o&&a?null:s(Ae,{label:"Charges",onClick:r})]}),d=()=>!o&&!a?null:s("div",{className:"mock-ability-stat-group",children:[s(cn,{model:e,value:o}),s(cn,{model:e,value:a})]});return s(qn,{renderButtons:u,children:s("div",{className:"mock-ability-header",children:[s("div",{className:"mock-ability-header-left",children:[s("div",{className:"mock-ability-header-title",children:s(te,{onChange:t,children:e.name})}),s("div",{className:"mock-ability-header-misc-stats",children:l.map((h,f)=>s(cn,{model:e,value:h},f))})]}),s("div",{className:"mock-ability-header-right",children:[d(),s(cn,{model:e,value:c})]})]})})}),_f=[1,2,5],gf=/^[+-]?\*?\*?[+-]?[0-9.]+\s*[A-z/%]*\*?\*?\n[A-z ]+$/,pf={text:{},strong:{weight:700},emphasis:{weight:500,color:"muted",italic:!0}},vf={text:{},strong:{weight:700,color:"bright"},emphasis:{weight:500,color:"muted",italic:!0}},yf=A(({active:e,model:t,tier:n})=>{const i=H("mock-ability-upgrade",{"mock-ability-upgrade-inactive":!e}),r=y(l=>t.upgrades[n]=l,[t,n]),o=!!t.upgrades[n].match(gf),a=o?vf:pf,c=H("mock-ability-upgrade-text",{"mock-ability-upgrade-value":o});return s("div",{className:i,children:[s("div",{className:"mock-ability-upgrade-cost",children:[s(B,{color:"purple",image:"stat/ability_point"}),s(Ze,{children:_f[n]})]}),s("div",{className:c,children:s(vr,{format:a,text:t.upgrades[n],onChange:r})})]})}),bf={attributes:!0},je=2,Do=e=>"M"+e.map(n=>`${n[0]} ${n[1]}`).join(" L")+" Z",wf=e=>"polygon("+e.map(n=>`${n[0]}px ${n[1]}px`).join(", ")+")",Sf=A(()=>{const e=J(),[t,n]=$(0),[i,r]=$(0),o=p(()=>{e.current&&(n(e.current.clientHeight),r(e.current.clientWidth))},[e,n,r]);G(()=>{if(o(),e.current){const d=new ResizeObserver(o);return d.observe(e.current,bf),()=>d.disconnect()}},[e,o]);const a=`0 0 ${i} ${t}`,c=[[10+je,je+15],[30,t-je-19],[i-je-19,t-je-10],[i-je-10,je+10]],l=[[0,t*.9],[i*.75,t],[i,t*.2],[i*.15,0]],u=wf(c);return console.log(u),s("div",{ref:e,className:"mock-ability-card",children:[s("div",{className:"mock-ability-card-shadow",children:s("svg",{viewBox:a,children:s("path",{d:Do(l),fill:"#bf86ec"})})}),s("div",{className:"mock-ability-card-border",children:s("svg",{viewBox:a,children:s("path",{d:Do(c),stroke:"#6f5674",strokeWidth:je*2,fill:"transparent"})})}),s("div",{className:"mock-ability-card-background",style:{clipPath:u}}),s("div",{className:"mock-ability-card-noise",style:{clipPath:u}})]})}),Js=A(({model:e})=>s("div",{className:"mock-ability",children:[s(Sf,{}),s(Ie,{className:"mock-ability-header-animated",children:s(mf,{model:e})}),s("div",{className:"mock-ability-body",children:[s(Ie,{children:s(Gs,{model:e.details})}),s(Ie,{className:"mock-ability-upgrades-animated",children:s("div",{className:"mock-ability-upgrades",children:e.upgrades.map((t,n)=>s(yf,{model:e,tier:n},n))})})]})]}));class Qe{constructor(t){v(this,"id");v(this,"category","ability");v(this,"name","");v(this,"stats",[]);v(this,"upgrades",["","",""]);v(this,"details",null);var n;this.id=(t==null?void 0:t.id)||crypto.randomUUID(),this.name=(t==null?void 0:t.name)||this.name,this.stats=((n=t==null?void 0:t.stats)==null?void 0:n.map(i=>new Y(i)))||this.stats,this.upgrades=Je((t==null?void 0:t.upgrades)||this.upgrades),this.details=new en(t==null?void 0:t.details),de(this)}addStat(t){this.stats.push(new Y(t))}removeStat(t){const n=this.stats.indexOf(t);n!==-1&&this.stats.splice(n,1)}}ye(Qe,{v1:[["category"],["name"],["stats",[Y]],["description"],["sections",[Qt]],["upgrades"]],v2:[["category"],["name"],["stats",[Y]],["details",en],["upgrades"]]});function kt(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function kf(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const i=kt(n);return(r,o)=>i.then(a=>o(a.transaction(t,r).objectStore(t)))}let ai;function Kn(){return ai||(ai=kf("keyval-store","keyval")),ai}function Of(e,t=Kn()){return t("readonly",n=>kt(n.get(e)))}function Af(e,t,n=Kn()){return n("readwrite",i=>(i.put(t,e),kt(i.transaction)))}function Cf(e,t=Kn()){return t("readwrite",n=>(n.delete(e),kt(n.transaction)))}function Ef(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},kt(e.transaction)}function Df(e=Kn()){return e("readonly",t=>{if(t.getAllKeys)return kt(t.getAllKeys());const n=[];return Ef(t,i=>n.push(i.key)).then(()=>n)})}const tn=Vt(null),Xs=e=>new Promise(t=>{const n=new FileReader;n.onload=i=>t(i.target.result),n.readAsDataURL(e)});class xf{constructor(){v(this,"data");this.data={}}store(t){return t.key=crypto.randomUUID(),t.timestamp=Date.now(),this.data[t.key]=Promise.resolve(t),Af(t.key,t).then(()=>t.key)}retrieve(t){return this.data[t]?this.data[t]:Of(t).then(n=>{if(!n)throw new Error(`file data not found for key: ${t}`);return n})}remove(t){return Cf(t).then(()=>delete this.data[t])}list(){return Df()}}class xo{constructor(t,n){v(this,"_type");v(this,"_cache");this._type=t,this._cache=n}store(t){return this._cache.store({type:this._type,file:t})}retrieve(t){return this._cache.retrieve(t).then(n=>{if(n.type!==this._type)throw new Error(`expected file of type ${this._type} but found ${n.type}`);return Xs(n.file)})}remove(t){return this._cache.remove(t)}list(){return this._cache.list().then(t=>Promise.all(t.map(n=>this._cache.retrieve(n))).then(n=>t.filter((i,r)=>n[r].type===this._type)))}}class $f{constructor(){this._cache=new xf,this.portrait=new xo("portrait",this._cache),this.icon=new xo("icon",this._cache)}}const Yn=({children:e,id:t})=>{const n=ne(tn),[i,r]=$(null);G(()=>{fn(t)?n._cache.retrieve(t).then(c=>Xs(c.file)).then(c=>r(c)).catch(c=>{r("error"),console.error("error loading image file",c)}):r(null)},[t,n,r]);const o=fn(t)?i:t,a=fn(t)&&!i?s(ra,{color:e.props.color}):Vi(e,{image:o});return s("span",{className:"mock-stored-image",children:a})},Rf=({children:e,onDrop:t,type:n})=>{const[i,r]=$(!1),o=ne(tn),a=p(h=>{const f=h.dataTransfer.items[0];h.preventDefault(),f.kind==="file"&&o[n].store(f.getAsFile()).then(t).catch(m=>console.error("failed to store file",m)),r(!1)},[o,n,t,r]),c=p(h=>{h.preventDefault()},[]),l=p(()=>{r(!0)},[r]),u=p(()=>{r(!1)},[r]),d=H("mock-file-drop-zone-icon",{"mock-file-drop-zone-icon-hover":i});return s("div",{className:"mock-file-drop-zone",children:[s("div",{className:d,onDragEnter:l,onDragLeave:u,onDragOver:c,onDrop:a}),e]})},yr=({children:e,duration:t,image:n,iconColor:i,onComplete:r})=>{const[o,a]=$(null),c=p(()=>{a(h=>(clearTimeout(h),setTimeout(r,t)))},[t,r,a]),l=p(()=>{a(h=>(clearTimeout(h),null))},[a]),u=H("mock-hold-timer-icon",{"mock-hold-timer-icon-animating":!!o}),d={animationDuration:`${t}ms`};return s("div",{className:"mock-hold-timer",onMouseDown:c,onMouseLeave:l,onMouseUp:l,children:[s("div",{children:e}),s("div",{className:u,children:[s("div",{className:"mock-hold-timer-circle",style:d,children:s("svg",{viewBox:"0 0 36 36",children:s("circle",{cx:"18",cy:"18",fill:"none",r:"15.91",stroke:"white",transform:"rotate(-90, 18 18)"})})}),s(B,{color:i,image:n})]})]})},Pf={portrait:["dynamo.webp"]},Nf=({onUpload:e,type:t})=>{const n=ne(tn),i=p(o=>{o.stopPropagation()},[]),r=p(o=>{o.stopPropagation(),Promise.all(Array.from(o.target.files).map(a=>n[t].store(a))).then(a=>{e(a[0])}).catch(a=>console.error("failed to store selected files",a))},[n,t,e]);return s("div",{className:"mock-image-dialog-upload",children:[s("label",{htmlFor:"image-upload",children:"Select File"}),s("input",{multiple:!0,accept:"image/*",id:"image-upload",name:"image-upload",type:"file",onCancel:i,onChange:r})]})},Mf=({id:e,children:t,onDelete:n})=>{const i=p(()=>n(e),[e,n]);return s("div",{className:"mock-image-modal-deleteable",children:[s(yr,{duration:1e3,iconColor:"red",image:"cancel",onComplete:i}),t]})},Zs=({type:e,component:t,onChange:n,onApply:i})=>{const r=t,[o,a]=$([]),c=ne(tn),l=p(h=>{n(h),c[e].list().then(f=>a(f))},[e,a,n,c]),u=p(h=>{c[e].remove(h).then(()=>c[e].list().then(f=>a(f)))},[e,a,c]);G(()=>{c[e].list().then(h=>a(h))},[e,a,c]);const d=Pf[e]||[];return s(U,{children:[s(Nf,{type:e,onUpload:l}),o.map(h=>s(Mf,{id:h,onDelete:u,children:s(r,{id:h,onApply:i,onChange:n})},h)),d.map(h=>s(r,{id:h,onApply:i,onChange:n},h))]})},Tf=({label:e,active:t,onChange:n})=>{const i=H("mock-image-modal-mode",{"mock-image-modal-mode-active":t}),r=p(()=>n(e),[e,n]);return s("div",{className:i,onClick:r,children:e})},Qs=({modes:e,active:t,onChange:n})=>s("div",{className:"mock-image-modal-header",children:s("div",{className:"mock-image-modal-modes",children:e.map(i=>s(Tf,{active:t===i,label:i,onChange:n},i))})}),ec=({id:e,onChange:t,onApply:n})=>{const i=p(()=>t(e),[e,t]),r=p(()=>n(e),[e,n]);return s(ta,{onClick:i,onDoubleClick:r,children:s("span",{className:"mock-icon-dialog-image-button",children:s(Yn,{id:e,children:s(B,{color:"dark-grey"})})})})},jf=({groups:e,onChange:t,onApply:n})=>s(U,{children:e.map((i,r)=>s("div",{children:i.map(o=>s(ec,{id:o,onApply:n,onChange:t},o))},r))}),br={ability:Object.values(sa),item:Object.values(xt).map(e=>[1,2,3,4].map(t=>e[t].map(n=>n.icon))).flat(),other:Gi},Bf=Object.keys(br).concat(["custom"]),If=e=>Object.entries(br).filter(([,t])=>t.some(n=>n.includes(e))).map(([t])=>t)[0]||"custom",Lf=({image:e,onChange:t,onClose:n})=>{const[i,r]=$(e),[o,a]=$(()=>If(e)),c=p(f=>a(f),[a]),l=p(()=>{n()},[n]),u=p(()=>{t(i)},[i,t]),d=p(f=>{t(f)},[t]);return s("div",{className:"mock-image-modal",children:[s(Qs,{active:o,modes:Bf,onChange:c}),s("div",{className:"mock-image-modal-body",children:[s("div",{className:"mock-left-scroll",children:s("div",{className:"mock-icon-dialog-images",children:o==="custom"?s(Zs,{component:ec,type:"icon",onApply:d,onChange:r}):s(jf,{groups:br[o],onApply:d,onChange:r})},o)}),s("div",{className:"mock-image-dialog-preview",children:s("div",{className:"mock-image-dialog-preview-icon",children:s(Yn,{id:i,children:s(B,{color:"dark-grey"})},i)})})]}),s("div",{className:"mock-image-modal-footer",children:[s("div",{className:"mock-image-modal-cancel",onClick:l,children:"Cancel"}),s("div",{className:"mock-image-modal-apply",onClick:u,children:"Apply"})]})]})},Hf=({image:e})=>{if(e==="error")return s(B,{color:"orange",image:"error"});const t={backgroundImage:`url("${e}")`};return s("div",{className:"mock-hero-portrait",style:t})},wr=({id:e})=>s(Yn,{id:e,children:s(Hf,{})}),Vf=({id:e,onChange:t,onApply:n})=>{const i=p(()=>t(e),[e,t]),r=p(()=>n(e),[e,n]);return s(ta,{onClick:i,onDoubleClick:r,children:s("div",{className:"mock-portrait-button",children:s(wr,{id:e})})})},$o="Custom Portrait",Ff=({image:e,onChange:t,onClose:n})=>{const[i,r]=$(e),o=p(()=>{n()},[n]),a=p(()=>{t(i)},[i,t]),c=p(l=>{t(l)},[t]);return s("div",{className:"mock-image-modal",children:[s(Qs,{active:$o,modes:[$o]}),s("div",{className:"mock-image-modal-body",children:[s("div",{className:"mock-left-scroll",children:s("div",{className:"mock-portrait-dialog-images",children:s(Zs,{component:Vf,type:"portrait",onApply:c,onChange:r})})}),s("div",{className:"mock-image-dialog-preview",children:s(wr,{id:i})},i)]}),s("div",{className:"mock-image-modal-footer",children:[s("div",{className:"mock-image-modal-cancel",onClick:o,children:"Cancel"}),s("div",{className:"mock-image-modal-apply",onClick:a,children:"Apply"})]})]})},Uf=({image:e,onClose:t,onChange:n,type:i})=>{const r=J(),o=p(c=>{c.stopPropagation(),r.current&&!Ru(r.current,c)&&t()},[r,t]);return G(()=>{const{current:c}=r;if(c)return c.showModal(),()=>c.close()},[r]),s("dialog",{ref:r,className:"mock-image-dialog",onCancel:t,onClick:o,children:i==="icon"?s(Lf,{image:e,onChange:n,onClose:t}):s(Ff,{image:e,onChange:n,onClose:t})})},tc=({children:e,image:t,onChange:n,type:i})=>{const[r,o]=$(!1),a=p(()=>o(!0),[o]),c=p(()=>o(!1),[o]),l=p(u=>{o(!1),n(u)},[o,n]);return s("div",{className:"mock-image-modal-trigger",onClick:a,children:[s("div",{className:"mock-image-modal-overlay"}),r&&s(Uf,{image:t,type:i,onChange:l,onClose:c}),s(Rf,{type:i,onDrop:n,children:e})]})};class Sr{constructor(t){v(this,"id","");v(this,"image","");this.id=(t==null?void 0:t.id)||this.id,this.image=(t==null?void 0:t.image)||this.image,de(this)}}ye(Sr,[["id"],["image"]]);class kr{constructor(t){v(this,"label","");v(this,"color","");v(this,"stats",[]);var n;this.label=(t==null?void 0:t.label)||this.label,this.color=(t==null?void 0:t.color)||this.color,this.stats=((n=t==null?void 0:t.stats)==null?void 0:n.map(i=>new Y(i)))||this.stats,de(this)}}ye(kr,[["label"],["color"],["stats",[Y]]]);class Or{constructor(t){v(this,"id");v(this,"category","hero");v(this,"name","");v(this,"tagline","");v(this,"description","");v(this,"portrait","");v(this,"statGroups",[]);v(this,"abilities",[]);var n,i;this.id=(t==null?void 0:t.id)||crypto.randomUUID(),this.name=(t==null?void 0:t.name)||this.name,this.tagline=(t==null?void 0:t.tagline)||this.tagline,this.description=(t==null?void 0:t.description)||this.description,this.portrait=(t==null?void 0:t.portrait)||this.portrait,this.statGroups=((n=t==null?void 0:t.statGroups)==null?void 0:n.map(r=>new kr(r)))||this.statGroups,this.abilities=((i=t==null?void 0:t.abilities)==null?void 0:i.map(r=>new Sr(r)))||this.abilities,de(this)}addStat(t){this.stats.push(new Y(t))}removeStat(t){const n=this.stats.indexOf(t);n!==-1&&this.stats.splice(n,1)}}ye(Or,[["category"],["name"],["tagline"],["description"],["portrait"],["statGroups",[kr]],["abilities",[Sr]]]);const zf={active:!1,cooldown:6,details:{sections:[qs]}};class Rn{constructor(t){v(this,"id");v(this,"active",!1);v(this,"cooldown",0);v(this,"details",null);this.id=crypto.randomUUID(),this.active=!!(t!=null&&t.active),this.cooldown=(t==null?void 0:t.cooldown)||this.cooldown,this.details=new en(t==null?void 0:t.details),de(this)}}ye(Rn,{v1:[["description"],["sections",[Qt]],["active"],["cooldown"]],v2:[["details",en],["active"],["cooldown"]]});class Ar{constructor(t){v(this,"id");v(this,"category","weapon");v(this,"name","");v(this,"tier",1);v(this,"components",[]);v(this,"stats",[]);v(this,"effects",[]);var n,i;this.id=t&&t.id||crypto.randomUUID(),this.category=(t==null?void 0:t.category)||this.category,this.name=(t==null?void 0:t.name)||this.name,this.tier=(t==null?void 0:t.tier)||this.tier,this.components=Je((t==null?void 0:t.components)||this.components),this.stats=((n=t==null?void 0:t.stats)==null?void 0:n.map(r=>new Y(r)))||this.stats,this.effects=((i=t==null?void 0:t.effects)==null?void 0:i.map(r=>new Rn(r)))||this.effects,de(this)}get cost(){return Tc[this.tier]+this.components.reduce((t,n)=>{var i;return t+((i=gn[n])==null?void 0:i.cost)},0)}get componentInfo(){return this.components.map(t=>gn[t])}addComponent(t){this.components.push(t||"Extra Health")}removeComponent(t){this.components.splice(t,1)}addStat(t){this.stats.push(new Y({signed:!0,...t}))}removeStat(t){const n=this.stats.indexOf(t);n!==-1&&this.stats.splice(n,1)}addEffect(t){this.effects.push(new Rn({...Je(zf),...t}))}removeEffect(t){const n=this.effects.indexOf(t);n!==-1&&this.effects.splice(n,1)}}ye(Ar,[["category"],["name"],["tier"],["components"],["stats",[Y]],["effects",[Rn]]]);const Wf=e=>e.map(t=>Nu(t)?{markdownData:t}:{gridData:t}),Ro=e=>{const{description:t}=e,n=Wf(e.sections);e.details={description:t,sections:n},delete e.description,delete e.sections},Po={v1:e=>(e.category==="ability"?Ro(e):e.effects&&e.effects.forEach(Ro),e)},nc=(e,t)=>{if(t===pt)return e;if(!Po[t])throw new Error(`unknown version: ${t}`);return Po[t](Je(e))},Gf=e=>{if(e==="ability")return Qe;if(e==="hero")return Or;if(oa.includes(e))return Ar;throw new Error(`unrecognized model category: ${e}`)},qf=(e,t)=>{const n=Gf(e[0]);return nc(n.deserialize(e,t),t)},Ti="version",Et="history",No=[Ti,Et],at=Vt(null);class Kf{constructor(t){this._storage=(t==null?void 0:t.storage)||window.localStorage}_writeVersion(){this._storage.setItem(Ti,pt)}migrate(){const t=this._storage.getItem(Ti);if(t&&t!==pt)if(Ni.includes(t)){const n=this._storage.length;for(let i=0;i<n;i++){const r=this._storage.key(i);if(!No.includes(r)){const o=JSON.parse(this._storage.getItem(r));this._storage.setItem(r,JSON.stringify(nc(o,t)))}}}else console.error("unsupported stored data version in localStorage",t);this._writeVersion()}history(){const t=this._storage.getItem(Et),n=t&&JSON.parse(t)||[];if(n.length>0)return n;const i=this._storage.length;for(let r=0;r<i;r++){const o=this._storage.key(r);if(!No.includes(o)){const a=this.load(o);a&&a.id&&a.category&&a.name&&n.unshift({id:a.id,category:a.category,name:a.name,timestamp:Date.now()})}}return this._storage.setItem(Et,JSON.stringify(n)),n}save(t){const n=this.history(),i=n.findIndex(r=>r.id===t.id);i>=0&&n.splice(i,1),n.unshift({id:t.id,category:t.category,name:t.name,timestamp:Date.now()}),this._storage.setItem(Et,JSON.stringify(n)),this._storage.setItem(t.id,JSON.stringify(t))}load(t){const n=this._storage.getItem(t);return n?JSON.parse(n):null}remove(t){const n=this.history().filter(i=>i.id!==t);this._storage.setItem(Et,JSON.stringify(n)),this._storage.removeItem(t)}clear(){const t=[],n=this._storage.length;for(let i=0;i<n;i++){const r=this._storage.key(i);t.push(r)}t.forEach(i=>this._storage.removeItem(i)),this._writeVersion()}}const Yf={category:"weapon",name:"Heroic Aura",tier:3,components:[],stats:[{value:20,units:"%",signed:!0,stat:"Bullet Lifesteal"},{value:150,signed:!0,stat:"Bonus Health"},{value:1,units:" m/s",signed:!0,stat:"Move Speed"}],effects:[{active:!1,details:{description:"Provides **Fire Rate** to nearby player minions.",sections:[{gridData:{cells:[{icon:{image:"stat/fire_rate",color:"orange"},value:40,units:"%",stat:"Minions Fire Rate",signed:!0,conditional:!0}],values:[{value:20,units:"m",stat:"Radius"}]}}]}},{active:!0,cooldown:32,details:{description:"Provides bonus **Movement Speed** and **Fire Rate** to you and nearby allies.",sections:[{gridData:{cells:[{icon:{image:"stat/move_speed",color:"grey"},value:2,units:"m/s",stat:"Movement Speed",signed:!0,conditional:!0},{icon:{image:"stat/fire_rate",color:"orange"},value:25,units:"%",stat:"Fire Rate",signed:!0,conditional:!0}],values:[{value:30,units:"m",stat:"Active Radius"},{value:6,units:"s",stat:"Duration"}]}}]}}]},Jf=["weapon","Heroic Aura",3,[],[[[],"Bullet Lifesteal",20,"%",1],[[],"Bonus Health",150,"",1],[[],"Move Speed",1," m/s",1]],[[["Provides **Fire Rate** to nearby player minions.",[[[[[["stat/fire_rate","orange"],"Minions Fire Rate",40,"%",1,0,1]],[[[],"Radius",20,"m"]]]]]]],[["Provides bonus **Movement Speed** and **Fire Rate** to you and nearby allies.",[[[[[["stat/move_speed"],"Movement Speed",2,"m/s",1,0,1],[["stat/fire_rate","orange"],"Fire Rate",25,"%",1,0,1]],[[[],"Active Radius",30,"m"],[[],"Duration",6,"s"]]]]]],1,32]]],Xf={category:"weapon",name:"Hollow Point Ward",tier:1,stats:[{value:95,stat:"Spirit Shield Health",signed:!0},{value:4,stat:"Spirit Power",signed:!0}],effects:[{active:!1,details:{description:"When you are **above 65% health**, deal additional **Weapon Damage**.",sections:[{gridData:{cells:[{icon:{image:"stat/weapon_damage",color:"orange"},value:20,units:"%",stat:"Weapon Damage",color:"orange",signed:!0,conditional:!0}]}}]}}]},Zf=["weapon","Hollow Point Ward",1,[],[[[],"Spirit Shield Health",95,"",1],[[],"Spirit Power",4,"",1]],[[["When you are **above 65% health**, deal additional **Weapon Damage**.",[[[[[["stat/weapon_damage","orange"],"Weapon Damage",20,"%",1,0,1,0,"orange"]],[]]]]]]]],Qf={category:"spirit",name:"Slowing Hex",tier:2,components:["Enduring Spirit"],stats:[{value:10,units:"%",stat:"Spirit Lifesteal",signed:!0},{value:5,stat:"Spirit Power",signed:!0},{value:75,stat:"Bonus Health",signed:!0}],effects:[{active:!0,cooldown:26,details:{description:`Deals **Spirit Damage**, **Slows** targets movement and dashes.  Also **Silences their movement-based items and abilities.**
_Does not affect target's stamina usage._`,sections:[{gridData:{cells:[{icon:{image:"stat/spirit_damage",color:"purple",large:!0},value:80,stat:"Damage",color:"purple"},{icon:{image:"stat/move_slow"},value:20,units:"%",stat:"Movement Slow",conditional:!0},{icon:{image:"stat/move_slow"},value:-30,units:"%",stat:"Dash Distance",signed:!0,conditional:!0}],values:[{value:29,units:"m",stat:"Cast Range"},{value:3,units:"s",stat:"Duration"}]}}]}}]},em=["vitality","Return Fire",2,[],[[[],"Bonus Health",125,"",1],[[],"Spirit Power",9,"",1]],[[["Automatically **fire a bullet** towards any attacker who damages you with their abilities or weapon.",[[[[[["stat/weapon_damage","orange",1],"Bullet Damage Returned",60,"%",0,0,0,0,"orange"],[["stat/spirit_damage","purple",1],"Spirit Damage Returned",30,"%",0,0,0,0,"purple"],[["stat/bullet_shield","orange"],"Bullet Resist",25,"%",1,0,1]],[[[],"Duration",7,"s"]]]]]],1,25]]],tm={category:"vitality",name:"Return Fire",tier:2,stats:[{value:125,stat:"Bonus Health",signed:!0},{value:9,stat:"Spirit Power",signed:!0}],effects:[{active:!0,cooldown:25,details:{description:"Automatically **fire a bullet** towards any attacker who damages you with their abilities or weapon.",sections:[{gridData:{cells:[{icon:{image:"stat/weapon_damage",color:"orange",large:!0},value:60,units:"%",stat:"Bullet Damage Returned",color:"orange"},{icon:{image:"stat/spirit_damage",color:"purple",large:!0},value:30,units:"%",stat:"Spirit Damage Returned",color:"purple"},{icon:{image:"stat/bullet_shield",color:"orange"},value:25,units:"%",stat:"Bullet Resist",signed:!0,conditional:!0}],values:[{value:7,units:"s",stat:"Duration"}]}}]}}]},nm=["spirit","Slowing Hex",2,["Enduring Spirit"],[[[],"Spirit Lifesteal",10,"%",1],[[],"Spirit Power",5,"",1],[[],"Bonus Health",75,"",1]],[[[`Deals **Spirit Damage**, **Slows** targets movement and dashes.  Also **Silences their movement-based items and abilities.**
_Does not affect target's stamina usage._`,[[[[[["stat/spirit_damage","purple",1],"Damage",80,"",0,0,0,0,"purple"],[["stat/move_slow"],"Movement Slow",20,"%",0,0,1],[["stat/move_slow"],"Dash Distance",-30,"%",1,0,1]],[[[],"Cast Range",29,"m"],[[],"Duration",3,"s"]]]]]],1,26]]],im={category:"weapon",name:"Shadow Weave",tier:4,stats:[{signed:!0,value:15,stat:"Health Regen"},{signed:!0,value:300,stat:"Spirit Shield Health"},{signed:!0,value:30,units:"%",stat:"Ammo"}],effects:[{active:!0,cooldown:48,details:{description:"Become **Stealthed**. Whenever you take damage while Stealthed you get briefly revealed.",sections:[{gridData:{cells:[{icon:{image:"stat/invisible"},conditional:!0,value:25,units:"s",stat:"Invisibility"}],values:[{value:26,units:"m",stat:"Spot Radius"}]}},{markdownData:"Attacking or using an ability will end your stealth and start an **ambush**, temporarily granting your bonus **Fire Rate** and **Spirit Power**."},{gridData:{cells:[{icon:{image:"stat/weapon_damage",color:"orange"},signed:!0,conditional:!0,value:30,units:"%",stat:"Ambush Fire Rate",color:"orange"},{icon:{image:"stat/spirit_damage",color:"purple"},signed:!0,conditional:!0,value:55,units:"",stat:"Ambush Spirit Power",color:"purple"}],values:[{value:8,units:"s",stat:"Ambush Duration"}]}}]}}]},rm=["weapon","Shadow Weave",4,[],[[[],"Health Regen",15,"",1],[[],"Spirit Shield Health",300,"",1],[[],"Ammo",30,"%",1]],[[["Become **Stealthed**. Whenever you take damage while Stealthed you get briefly revealed.",[[[[[["stat/invisible"],"Invisibility",25,"s",0,0,1]],[[[],"Spot Radius",26,"m"]]]],[0,"Attacking or using an ability will end your stealth and start an **ambush**, temporarily granting your bonus **Fire Rate** and **Spirit Power**."],[[[[["stat/weapon_damage","orange"],"Ambush Fire Rate",30,"%",1,0,1,0,"orange"],[["stat/spirit_damage","purple"],"Ambush Spirit Power",55,"",1,0,1,0,"purple"]],[[[],"Ambush Duration",8,"s"]]]]]],1,48]]],om={category:"ability",name:"Tornado",stats:[{icon:{image:"stat/cooldown"},value:32,units:"s",stat:"cooldown"},{icon:{image:"stat/duration"},value:.75,units:"s"}],details:{description:"Transform yourself into a tornado that travels forward, **damaging enemies** and **lifting them up in the air**.  After emerging from the tornado you gain **bullet evasion**.",sections:[{gridData:{cells:[{icon:{image:"stat/spirit_damage",color:"purple"},value:70,stat:"Damage",spiritScaling:.7},{value:1.5,units:"s",stat:"Lift Duration",icon:{image:"stat/duration"}},{value:30,units:"%",stat:"Bullet Evasion Chance"}],values:[{value:3.5,units:"s",stat:"Bullet Evasion Duration"},{value:3.5,units:"m",stat:"Radius",icon:{image:"stat/aoe"}}]}}]},upgrades:[`**+0.5s**
Lift Duration`,`**-14s**
Cooldown`,`**+20%**
Bullet Evasion Chance`]},am=["ability","Tornado",[[["stat/cooldown"],"cooldown",32,"s"],[["stat/duration"],0,.75,"s"]],["Transform yourself into a tornado that travels forward, **damaging enemies** and **lifting them up in the air**.  After emerging from the tornado you gain **bullet evasion**.",[[[[[["stat/spirit_damage","purple"],"Damage",70,"",0,.7],[["stat/duration"],"Lift Duration",1.5,"s"],[[],"Bullet Evasion Chance",30,"%"]],[[[],"Bullet Evasion Duration",3.5,"s"],[["stat/aoe"],"Radius",3.5,"m"]]]]]],[`**+0.5s**
Lift Duration`,`**-14s**
Cooldown`,`**+20%**
Bullet Evasion Chance`]],sm={category:"hero",name:"Dynamo",portrait:"dynamo.webp",tagline:"Locks down the enemy team",description:"Dynamo keeps himself and his allies healthy while waiting for his moment. Few things can warp a team fight more than a well coordinated use of Singularity.",abilities:[{id:"KineticPulse",image:"hero/dynamo/kinetic_pulse"},{id:"QuantumEntanglement",image:"hero/dynamo/quantum_entanglement"},{id:"RejuvenatingAurora",image:"hero/dynamo/rejuvenating_aurora"},{id:"Singularity",image:"hero/dynamo/singularity"}],statGroups:[{label:"Weapon",color:"orange",stats:[{icon:{image:"stat/weapon_damage",color:"orange"},value:60,units:"",stat:"DPS"},{icon:{image:"stat/bullet",color:"orange"},value:15,units:"",stat:"Bullet Damage"},{icon:{image:"stat/ammo"},value:18,units:"",stat:"Ammo"},{icon:{image:"stat/fire_rate"},value:4,units:"",stat:"Bullets per sec"},{icon:{image:"stat/melee",color:"orange"},value:63,units:"",stat:"Light Melee"},{icon:{image:"stat/melee",color:"orange"},value:116,units:"",stat:"Heavy Melee"}]},{label:"Vitality",color:"green",stats:[{icon:{image:"stat/health"},value:650,units:"",stat:"Max Health"},{icon:{image:"stat/healing"},value:2,units:"",stat:"Health Regen"},{icon:{image:"stat/bullet_armor"},value:0,units:"%",stat:"Bullet Resist"},{icon:{image:"stat/spirit_armor"},value:0,units:"%",stat:"Spirit Resist"},{icon:{image:"stat/move_speed"},value:6.5,units:" m/s",stat:"Move Speed"},{icon:{image:"stat/move_speed"},signed:!0,value:0,units:" m/s",stat:"Sprint Speed"},{icon:{image:"stat/stamina"},value:3,units:"",stat:"Stamina"}]}]},cm=["hero","Dynamo","Locks down the enemy team","Dynamo keeps himself and his allies healthy while waiting for his moment. Few things can warp a team fight more than a well coordinated use of Singularity.","dynamo.webp",[["Weapon","orange",[[["stat/weapon_damage","orange"],"DPS",60,""],[["stat/bullet","orange"],"Bullet Damage",15,""],[["stat/ammo"],"Ammo",18,""],[["stat/fire_rate"],"Bullets per sec",4,""],[["stat/melee","orange"],"Light Melee",63,""],[["stat/melee","orange"],"Heavy Melee",116,""]]],["Vitality","green",[[["stat/health"],"Max Health",650,""],[["stat/healing"],"Health Regen",2,""],[["stat/bullet_armor"],"Bullet Resist",0,"%"],[["stat/spirit_armor"],"Spirit Resist",0,"%"],[["stat/move_speed"],"Move Speed",6.5," m/s"],[["stat/move_speed"],"Sprint Speed",0," m/s",1],[["stat/stamina"],"Stamina",3,""]]]],[["KineticPulse","hero/dynamo/kinetic_pulse"],["QuantumEntanglement","hero/dynamo/quantum_entanglement"],["RejuvenatingAurora","hero/dynamo/rejuvenating_aurora"],["Singularity","hero/dynamo/singularity"]]],lm={category:"ability",name:"Kinetic Pulse",stats:[{icon:{image:"stat/cooldown"},value:25,units:"s",stat:"cooldown"},{icon:{image:"stat/charge"},value:1,units:"",stat:"charges"},{icon:{image:"stat/charge_cooldown"},value:5,units:"s",stat:"chargeCooldown"}],details:{description:"Release an energy pulse that knocks enemies up into the air.",sections:[{gridData:{cells:[{icon:{image:"stat/spirit_damage",color:"purple"},value:100,stat:"Damage",spiritScaling:1.4},{icon:{image:"stat/aoe"},value:15,units:"m",stat:"Stomp Range",spiritScaling:.275}],values:[{icon:{image:"stat/aoe"},value:5,units:"m",stat:"Ability Width"}]}}]},upgrades:["Hit enemies are **fire rate and movement slowed** by **35%** for **4s**.","Dynamo deals **30% more Weapon Damage** to hit enemies for **8s**",`**+125**
Damage`]},um=["ability","Kinetic Pulse",[[["stat/cooldown"],"cooldown",25,"s"],[["stat/charge"],"charges",1,""],[["stat/charge_cooldown"],"chargeCooldown",5,"s"]],["Release an energy pulse that knocks enemies up into the air.",[[[[[["stat/spirit_damage","purple"],"Damage",100,"",0,1.4],[["stat/aoe"],"Stomp Range",15,"m",0,.275]],[[["stat/aoe"],"Ability Width",5,"m"]]]]]],["Hit enemies are **fire rate and movement slowed** by **35%** for **4s**.","Dynamo deals **30% more Weapon Damage** to hit enemies for **8s**",`**+125**
Damage`]],dm={category:"ability",name:"Quantum Entanglement",stats:[{icon:{image:"stat/cooldown"},value:11,units:"s",stat:"cooldown"},{icon:{image:"stat/range"},value:9,units:"m"}],details:{description:"Dynamo briefly **disappears into the void** and then reappears a short distance away.  On reappearing, your weapon is **reloaded** and has a **fire rate bonus** for the next clip (Max 8s).  Can be Alt-Cast to also bring nearby allies and give them half fire rate bonus.",sections:[{gridData:{cells:[{icon:{image:"stat/duration"},value:1.4,units:"s",stat:"Void Time"},{icon:{image:"stat/aoe"},value:9,units:"m",stat:"Ally Distance"},{icon:{image:"stat/fire_rate"},value:25,units:"%",stat:"Fire Rate Bonus"}]}}]},upgrades:[`**+4m**
Cast Range`,`**+25%**
Fire Rate Bonus`,"On reappearing, **+120%** base ammo"]},hm=["ability","Quantum Entanglement",[[["stat/cooldown"],"cooldown",11,"s"],[["stat/range"],0,9,"m"]],["Dynamo briefly **disappears into the void** and then reappears a short distance away.  On reappearing, your weapon is **reloaded** and has a **fire rate bonus** for the next clip (Max 8s).  Can be Alt-Cast to also bring nearby allies and give them half fire rate bonus.",[[[[[["stat/duration"],"Void Time",1.4,"s"],[["stat/aoe"],"Ally Distance",9,"m"],[["stat/fire_rate"],"Fire Rate Bonus",25,"%"]],[]]]]],[`**+4m**
Cast Range`,`**+25%**
Fire Rate Bonus`,"On reappearing, **+120%** base ammo"]],fm={category:"ability",name:"Rejuvenating Aurora",stats:[{icon:{image:"stat/cooldown"},value:45,units:"s",stat:"cooldown"}],details:{description:"While channelling, **restore health over time** to you and any allies nearby.",sections:[{gridData:{cells:[{icon:{image:"stat/healing"},value:32,units:"/s",stat:"Health Restored",spiritScaling:.45},{icon:{image:"stat/charge"},value:5,units:"s",stat:"Channel Duration"}],values:[{icon:{image:"stat/aoe"},value:8,units:"m",stat:"Friendly Heal Radius"}]}}]},upgrades:["Gain **+4m/s movespeed bonus** for 8s if Aurora is fully channeled.  Gain instantly with 5AP Upgrade.",`**-15s**
Cooldown`,"**Full move and ability use** and additionally heals **+4% of Max Health** per second"]},mm=["ability","Rejuvenating Aurora",[[["stat/cooldown"],"cooldown",45,"s"]],["While channelling, **restore health over time** to you and any allies nearby.",[[[[[["stat/healing"],"Health Restored",32,"/s",0,.45],[["stat/charge"],"Channel Duration",5,"s"]],[[["stat/aoe"],"Friendly Heal Radius",8,"m"]]]]]],["Gain **+4m/s movespeed bonus** for 8s if Aurora is fully channeled.  Gain instantly with 5AP Upgrade.",`**-15s**
Cooldown`,"**Full move and ability use** and additionally heals **+4% of Max Health** per second"]],_m={category:"ability",name:"Singularity",stats:[{icon:{image:"stat/cooldown"},value:180,units:"s",stat:"cooldown"}],details:{description:"Create a singularity in your hands that **pulls in nearby enemies and damages them**. Once it's finished, enemies get knocked into the air.",sections:[{gridData:{cells:[{icon:{image:"stat/charge"},value:2.75,units:"s",stat:"Channel Duration"},{icon:{image:"stat/spirit_damage",color:"purple"},value:60,stat:"DPS",spiritScaling:.21}],values:[{icon:{image:"stat/aoe"},value:8,units:"m",stat:"Singularity Radius"}]}}]},upgrades:[`**+2m**
Singularity Radius`,`**+0.75s**
Channel Duration`,"Singularity takes **3.8%** of the enemies' max health each second."]},gm=["ability","Singularity",[[["stat/cooldown"],"cooldown",180,"s"]],["Create a singularity in your hands that **pulls in nearby enemies and damages them**. Once it's finished, enemies get knocked into the air.",[[[[[["stat/charge"],"Channel Duration",2.75,"s"],[["stat/spirit_damage","purple"],"DPS",60,"",0,.21]],[[["stat/aoe"],"Singularity Radius",8,"m"]]]]]],[`**+2m**
Singularity Radius`,`**+0.75s**
Channel Duration`,"Singularity takes **3.8%** of the enemies' max health each second."]],pm={category:"ability",name:"Scaling",stats:[],details:{description:"words",sections:[{gridData:{cells:[{icon:{image:"stat/ammo"},value:0,units:"s",stat:"Stuff",spiritScaling:.5},{icon:{image:"stat/ammo"},value:1,units:"s",stat:"Stuff",meleeScaling:1.5},{icon:{image:"stat/ammo"},value:2,units:"s",stat:"Stuff",boonScaling:2.5}]}}]},upgrades:["one","two","three"]},vm=["ability","Scaling",[],["words",[[[[[["stat/ammo"],"Stuff",0,"s",0,.5],[["stat/ammo"],"Stuff",1,"s",0,0,0,0,0,1.5],[["stat/ammo"],"Stuff",2,"s",0,0,0,0,0,0,2.5]],[]]]]],["one","two","three"]],mn={HeroicAura:{hydrated:Yf,serialized:Jf},HollowPointWard:{hydrated:Xf,serialized:Zf},ReturnFire:{hydrated:tm,serialized:em},SlowingHex:{hydrated:Qf,serialized:nm},ShadowWeave:{hydrated:im,serialized:rm},Tornado:{hydrated:om,serialized:am},Dynamo:{hydrated:sm,serialized:cm},KineticPulse:{hydrated:lm,serialized:um},QuantumEntanglement:{hydrated:dm,serialized:hm},RejuvenatingAurora:{hydrated:fm,serialized:mm},Singularity:{hydrated:_m,serialized:gm},Scaling:{hydrated:pm,serialized:vm}},Pn=Object.fromEntries(Object.entries(mn).map(([e,t])=>[e,t.hydrated])),ic=[{label:"Item",data:mn.HollowPointWard.hydrated},{label:"Ability",data:mn.Tornado.hydrated},{label:"Hero",data:mn.Dynamo.hydrated}],rc=({id:e,number:t})=>s("div",{className:"mock-hero-ability-icon-container",children:[s("div",{className:"mock-hero-ability-icon",children:s(Yn,{id:e,children:s(B,{color:"dark-grey"})})}),s("div",{className:"mock-hero-ability-number",children:t})]}),ym=A(({model:e,number:t})=>{const{image:n}=e,i=y(r=>e.image=r);return s("div",{className:"mock-hero-ability-button",children:s(tc,{image:n,type:"icon",onChange:i,children:s(rc,{id:n,number:t})})})}),bm=({onChange:e})=>{const t=ne(at),n=p(()=>{const i=new Qe(Pn.Tornado);t.save(i),e(i.id)},[e,t]);return s("div",{onClick:n,children:[s("span",{children:"Ability"}),s("span",{children:"New"})]})},wm=({id:e,name:t,timestamp:n,onChange:i})=>{const r=p(()=>i(e),[e,i]),o=ts();return s("div",{onClick:r,children:[s("span",{children:t}),s("span",{children:es(n,o)})]})},Sm=({onChange:e,onClose:t})=>{const n=J();zn(n,t);const r=ne(at).history().filter(o=>o.category==="ability");return s("div",{ref:n,className:"mock-hero-ability-picker-dropdown",children:[s(bm,{onChange:e}),r.map(({id:o,name:a,timestamp:c})=>s(wm,{id:o,name:a,timestamp:c,onChange:e},o))]})},km=A(({foreignModel:e})=>{const[t,n]=$(!1),i=p(()=>n(!0),[n]),r=p(()=>n(!1),[n]),o=y(a=>{e.id=a,n(!1)},[e,n]);return s("div",{className:"mock-hero-ability-picker",children:[s("div",{className:"mock-hero-ability-picker-trigger",onMouseDown:i,children:s(B,{color:"white",image:"swap"})}),t&&s(Sm,{onChange:o,onClose:r})]})}),Om=["mock-sidebar-buttons","mock-tooltip"],Am=e=>!Om.some(t=>e.classList&&e.classList.contains(t)),Cm=()=>s("svg",{viewBox:"0 0 415 230",children:s("path",{stroke:"#6d5572",fill:"#27192c","stroke-width":"6",d:"M0 80 L150 80 A95 95 0 0 0 229.3 44.3 A100 100 0 0 1 400 115 A100 100 0 0 1 229.3 185.7 A95 95 0 0 0 150 150 L0 150"})}),Em=({id:e,number:t,offset:n,onClick:i})=>s("div",{className:"mock-hero-ability-gutter",onClick:i,children:s("div",{children:s("div",{children:[s(Cm,{}),s("div",{className:"mock-hero-ability-gutter-icon",children:s(rc,{id:e,number:t})})]})})}),Mo=A(({foreignModel:e,gutterOffset:t,number:n,onChangeModel:i,onHeight:r})=>{const o=ne(at),a=J(),[c,l]=$(null),[u,d]=$(null),[h,f]=$(null);G(()=>{const w=Pn[e.id]||o.load(e.id);w?d(new Qe(w)):f(new Error(`no ability found with id: ${e.id}`))},[e.id,d,f,o]),G(()=>{setTimeout(()=>{if(u&&a.current){const w=a.current.getBoundingClientRect(),S=1200,E=Math.floor(w.height*S/w.width);Dd(a.current,{filter:Am,canvasWidth:S,canvasHeight:E,pixelRatio:1}).then(I=>l(I)).catch(I=>console.error("failed to generate ability image",I))}},100)},[a,u,l]);const m=y(()=>{if(!fn(e.id)){const w=Pn[e.id];if(!w)throw new Error(`no example data for ability id: ${e.id}`);const S=new Qe(w);window.localStorage.setItem(S.id,JSON.stringify(S)),e.id=S.id}i(e.id)},[e,i]),R=()=>s(Ur,{className:"mock-hero-ability-loading",onClick:m,onHeight:r,children:s("div",{children:h?s(B,{color:"orange",image:"error"}):s(ra,{})})}),j=()=>s(Ur,{className:"mock-hero-ability-display-rendered",onClick:m,onHeight:r,children:s("img",{src:c,width:"100%"})});return s("div",{className:"mock-hero-ability-display",children:[s("div",{inert:!0,className:"mock-hero-ability-display-hidden",children:s("div",{ref:a,children:u&&s(Js,{model:u})})}),s(km,{foreignModel:e}),s(Em,{id:e.image,number:n,offset:t,onClick:m}),c?j():R()]})}),Dm=({index:e,left:t,right:n,onChangeModel:i})=>{const[r,o]=$(null),[a,c]=$(null),l=Math.min(r,a),u=p(h=>{o(h)},[o]),d=p(h=>{c(h)},[c]);return s("div",{className:"mock-hero-ability-row",children:[s(Mo,{foreignModel:t,gutterOffset:l,number:e*2+1,onChangeModel:i,onHeight:u},t.id),s(Mo,{foreignModel:n,gutterOffset:l,number:e*2+2,onChangeModel:i,onHeight:d},n.id)]})},xm=({model:e,onChangeModel:t})=>{const n=Tu(e.abilities,2);return s("div",{className:"mock-hero-abilities",children:n.map((i,r)=>s(Dm,{index:r,left:i[0],right:i[1],onChangeModel:t},r))})},$m=A(({model:e})=>{const t=y(i=>e.portrait=i),n=e.portrait;return s("div",{className:"mock-hero-portrait-frame",children:s(tc,{image:n,type:"portrait",onChange:t,children:s(wr,{id:n})})})}),Rm=A(({model:e})=>{const t=y(()=>{e.spiritScaling!==null&&e.spiritScaling!==void 0?(e.spiritScaling=null,e.boonScaling=0):e.boonScaling!==null&&e.boonScaling!==void 0?e.boonScaling=null:e.spiritScaling=0},[e]);return s("div",{className:"mock-hero-stat",children:[s("div",{className:"mock-hero-stat-position",children:[s(Ws,{detailed:!0,model:e}),s("div",{className:"mock-hero-stat-scaling-button",children:s(B,{color:"white",image:"boon_scaling",onMouseDown:t})})]}),s("div",{className:"mock-hero-stat-contents",children:[s("div",{children:[s(B,{color:e.icon.color,image:e.icon.image}),s(Zt,{model:e})]}),s(Z,{children:e.stat})]})]})}),Pm=A(({model:e})=>s("div",{className:"mock-hero-stats-grid",children:[s("div",{className:"mock-hero-stats-grid-label",children:s(Z,{color:e.color,children:e.label})}),s("div",{className:"mock-hero-stats-grid-cells",children:e.stats.map(t=>s(Rm,{index:t.id,model:t},t.id))})]})),Nm=A(({model:e,onChangeModel:t})=>{const n=y(o=>{e.name=o.split(" ").map(a=>a.toLowerCase()).map(a=>`${a[0].toUpperCase()}${a.slice(1)}`).join(" ")},[e]),i=y(o=>e.tagline=o,[e]),r=y(o=>e.description=o,[e]);return s("div",{className:"mock-hero",children:[s("div",{className:"mock-hero-top",children:[s("div",{className:"mock-hero-synopsis",children:[s("div",{className:"mock-hero-name",children:s(te,{onChange:n,children:e.name})}),s("div",{className:"mock-hero-tagline",children:s(te,{onChange:i,children:e.tagline})}),s("div",{className:"mock-hero-ability-icons",children:e.abilities.map((o,a)=>s(ym,{model:o,number:a+1},a))}),s("div",{className:"mock-hero-description",children:s("div",{children:s(te,{onChange:r,children:e.description})})})]}),s($m,{model:e})]}),s("div",{className:"mock-hero-stats",children:e.statGroups.map(o=>s(Pm,{model:o},o.label))}),s(xm,{model:e,onChangeModel:t})]})}),Mm=({item:e,onChange:t})=>{const n=p(()=>t(e),[e,t]),i=H(`mock-item-picker-icon-${e.category}`),r=`item-${e.category}`;return s("div",{className:i,onClick:n,children:s(B,{color:r,image:e.icon})})},si=[1,2,3,4],Tm=({onChange:e})=>{const t=n=>s("div",{className:"mock-item-picker-tier",children:n.map(i=>s(Mm,{item:i,onChange:e},i.name))});return s("div",{className:"mock-item-picker",children:[s("div",{className:"mock-item-picker-weapon-group",children:si.map(n=>t(xt.weapon[n]))}),s("div",{className:"mock-item-picker-vitality-group",children:si.map(n=>t(xt.vitality[n]))}),s("div",{className:"mock-item-picker-spirit-group",children:si.map(n=>t(xt.spirit[n]))})]})},jm=A(({model:e,index:t})=>{const n=y(()=>e.removeComponent(t),[t,e]),i=y(l=>e.components[t]=l.name,[t,e]),r=e.componentInfo[t],o=H("mock-item-component-badge-icon",`mock-item-component-badge-${r.category}`),a=p(()=>s(Tm,{onChange:i}),[i]),c=`item-${r.category}`;return s("div",{className:"mock-item-component",children:s(Jt,{onMouseDown:n,children:s("div",{className:"mock-item-component-badge",children:[s(Gn,{click:!0,direction:"down",renderTooltip:a,children:s("div",{className:o,children:s(B,{color:c,image:r.icon})})}),s("div",{className:"mock-item-component-badge-name",children:s(Ze,{children:r.name})})]})})})}),Bm=A(({model:e})=>e.components.length===0?null:s("div",{className:"mock-item-components",children:[s("div",{children:s(Ze,{children:"COMPONENTS:"})}),e.components.map((t,n)=>s(jm,{index:n,model:e},n))]})),Im=A(({item:e,model:t})=>{const n=y(l=>{const u=parseFloat(l);isNaN(u)?console.error("failed to parse",l):t.cooldown=u},[t]),i=y(()=>t.active=!t.active,[t]),r=y(()=>e.removeEffect(t),[e,t]),o=t.active?s(Ze,{color:"bright",children:"Active"}):s(pr,{italic:!0,children:"Passive"}),a=H("mock-item-effect-header",{"mock-item-effect-header-active":t.active}),c=H("mock-item-effect-cooldown",{"mock-item-effect-no-cooldown":!t.cooldown});return s("div",{className:"mock-item-effect",children:[s("div",{className:a,children:[s(Jt,{onMouseDown:r,children:[s(fr,{}),s("span",{className:"mock-item-effect-type",onClick:i,children:o})]}),s("div",{className:c,children:[s(B,{color:"white",image:"stat/cooldown"}),s(te,{onChange:n,children:s(Z,{color:"bright",children:t.cooldown||0})}),s(Ze,{children:"s"})]})]}),s(Gs,{model:t.details})]})}),oc={spirit:{tier:[0,4,8,12,16],stat:"Spirit Power",image:"spirit",color:"purple"},weapon:{units:"%",tier:[0,6,10,14,18],stat:"Weapon Damage",image:"weapon",color:"orange"},vitality:{units:"%",tier:[0,11,14,17,20],stat:"Base Health",image:"vitality",color:"green"}},ci=Object.keys(oc),Lm={},Hm=new Intl.NumberFormat("en-US",Lm),Vm=A(({model:e})=>{const t=y(u=>e.name=u,[e]),n=y(()=>e.tier=e.tier%4+1,[e]),i=y(()=>{const u=ci.indexOf(e.category)+1;e.category=ci[u%ci.length]},[e]),r=y(()=>e.addComponent(),[e]),o=y(()=>e.addEffect(),[e]),a=y(()=>e.addStat({signed:!0}),[e]),c=p(()=>s(U,{children:[s(Ae,{label:"Component",onClick:r}),s(Ae,{label:"Effect",onClick:o}),s(Ae,{label:"Stat",onClick:a})]}),[r,o,a]),l=oc[e.category];if(!l)throw new Error(`invalid category: ${e.category}`);return s(qn,{renderButtons:c,children:s("div",{className:"mock-item-header",children:[s("div",{children:[s("div",{className:"item-name",children:s(te,{onChange:t,children:s(Z,{color:"bright",children:e.name})})}),s("div",{className:"item-cost",children:[s(B,{color:"cyan",image:"soul"}),s("span",{children:Hm.format(e.cost)})]})]}),s("div",{className:"item-bonus",children:[s("div",{className:"item-bonus-value",onClick:n,children:[s(zs,{signed:!0,units:l.units,value:l.tier[e.tier]}),s(B,{color:l.color,image:l.image})]}),s("div",{className:"item-bonus-stat",onClick:i,children:l.stat})]})]})})}),Fm=A(({itemModel:e,statModel:t})=>{const n=y(r=>t.stat=r,[t]),i=y(()=>e.removeStat(t),[e,t]);return s("div",{className:"mock-item-stat",children:s(Jt,{onMouseDown:i,children:[s(fr,{}),s(Zt,{model:t}),s(te,{onChange:n,children:t.stat})]})})}),Um=A(({model:e})=>{const t=y(n=>n(e.stats),[e]);return e.stats.length===0?null:s("div",{className:"mock-item-stats",children:s(_r,{onMove:t,children:e.stats.map(n=>s(Fm,{itemModel:e,statModel:n},n.id))})})}),zm=A(({model:e})=>{const t=H("mock-item",`mock-item-${e.category}`),n=y(i=>i(e.effects),[e]);return s("div",{className:t,children:[s(Ie,{className:"mock-item-header-animated",children:s(Vm,{model:e})}),s(Ie,{className:"mock-item-components-animated",children:s(Bm,{model:e})}),s(Ie,{className:"mock-item-stats-animated",children:s(Um,{model:e})}),s(_r,{animated:!0,onMove:n,children:e.effects.map(i=>s(Im,{item:e,model:i},i.id))})]})}),Cr=e=>e.cells.concat(e.values||[]),Er=e=>e[0].toUpperCase()+e.slice(1),To={"stat/cooldown":"Cooldown","stat/charge":"Charges","stat/charge_cooldown":"Charge Cooldown","stat/duration":"Duration","stat/range":"Range","stat/aoe":"Area of Effect"},Dr=e=>{if(!To[e.icon.image])return null;const t=Je(e);return t.stat=To[e.icon.image],t.stat==="Charges"&&t.value===1&&(t.stat="Charge"),t},Wm={weapon:e=>[e.slice(0,4),e.slice(4)],vitality:e=>[e.slice(0,2),e.slice(2,4),e.slice(4)]},xr=e=>e.map(t=>Wm[t.label.toLowerCase()](t.stats)),Fe=(e,t)=>e?`[COLOR=${t}]${e}[/COLOR]`:"",q=e=>e?`[B]${e}[/B]`:"",li=e=>e?`[I]${e}[/I]`:"",ui=e=>e?`[INDENT]${e}[/INDENT]`:"",di=(e,t)=>t?`[SIZE=${e}]${t}[/SIZE]`:"",ac=({orange:e,purple:t,green:n,blue:i,cyan:r,grey:o,red:a,sanitize:c})=>{const l={ability:i,weapon:e,vitality:n,spirit:t},u=(_,P)=>l[P]?l[P](_):_,d=(_,P)=>{if(_.type==="document"||_.type==="paragraph")return _.data.map(D=>d(D)).join("");if(_.type==="linebreak")return`
`;if(_.type==="text")return c(_.data);if(_.type==="em")return li(_.data.map(D=>d(D)));if(_.type==="strong")return q(_.data.map(D=>d(D)));console.error("invalid node type")},h=_=>d(Hs(_)),f=_=>{const P=_.signed&&_.value>=0?"+":"",D=_.spiritScaling?` (${t(`+${q(_.spiritScaling)} x ${q("Spirit")}`)})`:_.meleeScaling?` (${e(`+${q(_.meleeScaling)} x ${q("Melee")}`)})`:_.boonScaling?` (${r(`+${q(_.boonScaling)} x ${q("Boon")}`)})`:"",Q=_.conditional?o(li(" (Conditional)")):"",Ot=`${o(P)}${_.value}${o(c(_.units))}`;return`${q(Ot)} ${c(_.stat)}${D}${Q}`},m=_=>_.length===0?"":`
[LIST]
${_.map(P=>`[*] ${f(P)}`).join(`
`)}
[/LIST]
`.trim(),R=_=>{const P=_.sections.map(D=>D.markdownData?`
${h(D.markdownData)}`:`
${m(Cr(D.gridData))}`).join("");return`${h(_.description)}${P}`},j=_=>{const P=_.cooldown!==0?` (${q(_.cooldown)}${q(o("s"))} Cooldown)`:"",D=ui(R(_.details));return`
${q(_.active?"Active":"Passive")}${P}:
${D}
`.trim()},w=_=>{const P=_.map(D=>gn[D]?`${u(D,gn[D].category)}`:D).map(q).join(", ");return P?`${q("Components")}: ${P}
`:""},S=_=>{const P=m(_.stats),D=w(_.components),Q=_.effects.map(Ot=>`
${ui(j(Ot))}`).join("");return`
${di(5,q(u(c(_.name),_.category)))}
${q(`${u(Er(_.category),_.category)} Tier ${_.tier}`)}
${D}${q(r(`${_.cost} Souls`))}
${P}${Q}
`.trim()},E=_=>{const P=_.map(Dr).filter(D=>D).map(f).join(" | ");return P?`${P}
`:""},I=_=>_.replaceAll(/[\r\n\t]+/g," "),V=_=>_.map((P,D)=>`${q(`Tier ${D+1}`)}: ${h(I(P))}`).join(`
`),N=_=>{const P=E(_.stats),D=R(_.details),Q=V(_.upgrades);return`
${di(5,q(i(c(_.name))))}
${P}${D}
${Q}
`.trim()},z=_=>{const P=_.split(`
`);return`${P[0]}
${ui(P.slice(1).join(`
`))}`};return{formatItem:S,formatAbility:N,formatHero:_=>{const P=xr(_.statGroups).map(Q=>Q.map(Ot=>Ot.map(f).join(" | ")).join(`
`)).join(`
[HR][/HR]
`),D=_.abilities.map(Q=>z(N(Q))).join(`

`);return`
${di(6,q(a(c(_.name))))}
${li(c(_.tagline))}

${c(_.description)}

[HR][/HR]
${P}
[HR][/HR]

${D}
`.trim()}}},Gm=new Proxy({},{get:()=>e=>e}),qm={sanitize:e=>e?`[PLAIN]${e}[/PLAIN]`:"",orange:e=>Fe(e,"#ec981a"),purple:e=>Fe(e,"#ce91ff"),green:e=>Fe(e,"#7cbb1e"),blue:e=>Fe(e,"#3399f3"),cyan:e=>Fe(e,"#9affd6"),grey:e=>Fe(e,"#aaaaaa"),red:e=>Fe(e,"#dd3939")},Km=ac(qm),Ym=ac(Gm),Jm=e=>e.split(`
`).map(t=>`> ${t}`).join(`
`),$r=e=>{const t=e.signed&&e.value>=0?"+":"",n=e.spiritScaling?` (+${e.spiritScaling} x Spirit)`:e.meleeScaling?` (+${e.meleeScaling} x Melee)`:e.boonScaling?` (+${e.boonScaling} x Boon)`:"",i=e.conditional?" _(Conditional)_":"";return`${t}${e.value}${e.units} ${e.stat}${n}${i}`},sc=e=>e.length===0?"":e.map(t=>`- ${$r(t)}`).join(`
`),jo=e=>e.replaceAll(/[\n]/g,`  
`),cc=e=>{const t=e.sections.map(n=>n.markdownData?`

${jo(n.markdownData)}`:`

${sc(Cr(n.gridData))}`).join("");return`${jo(e.description)}${t}`},Xm=e=>{const t=e.cooldown!==0?` (${e.cooldown}s Cooldown)`:"",n=cc(e.details);return Jm(`
${e.active?"**Active**":"**Passive**"}${t}:  

${n}
`.trim())},Zm=e=>{const t=e.join(", ");return t?`Components: ${t}  
`:""},Qm=e=>{const t=sc(e.stats),n=Zm(e.components),i=e.effects.map(r=>`

${Xm(r)}`).join("");return`
##### ${e.name}
${Er(e.category)} Tier ${e.tier}  
${n}${e.cost} Souls

${t}${i}
`.trim()},e_=e=>{const t=e.map(Dr).filter(n=>n).map($r).join(" | ");return t?`${t}  
`:""},t_=e=>e.replaceAll(/[\r\n\t]+/g," "),n_=e=>e.map((t,n)=>`Tier ${n+1}: ${t_(t)}`).join(`  
`),lc=e=>{const t=e_(e.stats),n=cc(e.details),i=n_(e.upgrades);return`
##### ${e.name}
${t}
${n}

${i}
`.trim()},i_=e=>{const t=xr(e.statGroups).map(i=>i.map(r=>r.map($r).join(" | ")).join(`  
`)).join(`

---

`),n=e.abilities.map(lc).join(`

---

`);return`
### ${e.name}
_${e.tagline}_

${e.description}

---

${t}

---

${n}
`.trim()},r_={formatItem:Qm,formatAbility:lc,formatHero:i_},o_=e=>e.split(`
`).map(t=>`  ${t}`.trimEnd()).join(`
`),ji=e=>e.replaceAll(/[*_]/g,""),Rr=e=>{const t=e.signed&&e.value>=0?"+":"",n=e.spiritScaling?` (+${e.spiritScaling} x Spirit)`:e.meleeScaling?` (+${e.meleeScaling} x Melee)`:e.boonScaling?` (+${e.boonScaling} x Boon)`:"",i=e.conditional?" (Conditional)":"";return`${t}${e.value}${e.units} ${e.stat}${n}${i}`},uc=e=>e.length===0?"":e.map(t=>`* ${Rr(t)}`).join(`
`),dc=e=>{const t=e.sections.map(n=>n.markdownData?`

${ji(n.markdownData)}`:`

${uc(Cr(n.gridData))}`).join("");return`${ji(e.description)}${t}`},a_=e=>{const t=e.cooldown!==0?` (${e.cooldown}s Cooldown)`:"",n=dc(e.details);return`
${e.active?"Active":"Passive"}${t}:
${n}
`.trim()},s_=e=>{const t=e.join(", ");return t?`Components: ${t}
`:""},c_=e=>{const t=uc(e.stats),n=s_(e.components),i=e.effects.map(r=>`

${a_(r)}`).join("");return`
${e.name}
${Er(e.category)} Tier ${e.tier}
${n}${e.cost} Souls

${t}${i}
`.trim()},l_=e=>{const t=e.map(Dr).filter(n=>n).map(Rr).join(" | ");return t?`${t}
`:""},u_=e=>e.replaceAll(/[\r\n\t]+/g," "),d_=e=>e.map((t,n)=>`Tier ${n+1}: ${u_(ji(t))}`).join(`
`),hc=e=>{const t=l_(e.stats),n=dc(e.details),i=d_(e.upgrades);return`
${e.name}
${t}
${n}

${i}
`.trim()},h_=e=>{const t=xr(e.statGroups).map(r=>r.map(o=>o.map(Rr).join(" | ")).join(`
`)).join(`

`),n=["Ability (1)","Ability (2)","Ability (3)","Ultimate"],i=e.abilities.map((r,o)=>`${n[o]}: ${o_(hc(r)).trim()}`).join(`

`);return`
${e.name}
${e.tagline}

${e.description}

${t}

${i}
`.trim()},f_={formatItem:c_,formatAbility:hc,formatHero:h_},fc=[["BBcode (simple)",Ym],["BBcode (color)",Km],["Markdown",r_],["Plaintext",f_]],m_=fc[0][0],Bi=Object.fromEntries(fc),__=(e,t)=>{const n=Je(e);return n.abilities=n.abilities.map(i=>Je(new Qe(Pn[i.id]||t.load(i.id)))),n},g_=(e,t,n)=>e.category==="ability"?t.formatAbility(e):e.category==="hero"?t.formatHero(__(e,n)):t.formatItem(e),p_=(e,t,n)=>{if(!Bi[t])throw new Error(`unknown export format: ${t}`);const i=new Blob([g_(e,Bi[t],n)],{type:"text/plain"});navigator.clipboard.write([new ClipboardItem({"text/plain":i})])},v_=({format:e,selected:t,onChange:n})=>{const i=H("mock-editor-copy-text-entry",{"mock-editor-copy-text-entry-selected":t}),r=p(()=>n(e),[e,n]);return s("div",{className:i,onClick:r,children:e})},y_=({format:e,onChange:t,onClose:n})=>{const i=J(null);zn(i,n);const r=Object.keys(Bi);return s("div",{ref:i,className:"mock-editor-copy-text-dropdown",children:r.map(o=>s(v_,{format:o,selected:o===e,onChange:t},o))})},b_=({model:e})=>{const t=ne(at),[n,i]=$(m_),[r,o]=$(!1),a=p(()=>o(!0),[o]),c=p(()=>o(!1),[o]),l=p(()=>p_(e,n,t),[e,n,t]),u=p(d=>{i(d),o(!1)},[i,o]);return s("div",{children:[r&&s(y_,{format:n,onChange:u,onClose:c}),s("div",{className:"mock-editor-copy-text-button",children:[s("div",{onClick:l,children:s("span",{children:"Copy Text"})}),s(B,{color:"white",image:"dropdown",onMouseDown:r?null:a})]})]})},w_=({category:e,name:t,onMouseDown:n})=>{const i=H("mock-editor-history-current",`mock-editor-history-${e}`);return s("div",{className:i,onMouseDown:n,children:[s("span",{children:t||"-"}),s("span",{}),s("span",{})]})},S_=({state:e,data:t,onClose:n})=>{const i=ne(at),r=ts(),o=p(()=>{e.loadRecord(t.id),n()},[e,t,n]),a=p(()=>{i.remove(t.id),n()},[t,i,n]),c=H("mock-editor-history-entry",`mock-editor-history-${t.category}`),l=es(t.timestamp,r)||0;return s("div",{className:c,onClick:o,children:[s("span",{children:s("span",{children:t.name||"-"})}),s("span",{children:l}),s("span",{children:s(yr,{duration:1e3,iconColor:"white",image:"trash",onComplete:a})})]})},k_=({state:e,onClose:t})=>{const n=e.activeModel,i=H("mock-editor-history-template"),r=y(()=>{n.id=crypto.randomUUID(),t()},[n,t]);return s("div",{className:i,onClick:r,children:[s("span",{children:s("span",{children:"Copy Current"})}),s("span",{children:"New"}),s("span",{})]})},O_=({data:e,label:t,state:n,onClose:i})=>{const r=H("mock-editor-history-template",`mock-editor-history-${e.category}`),o=p(()=>{n.loadRaw(e),i()},[i,n,e]);return s("div",{className:r,onClick:o,children:[s("span",{children:s("span",{children:t})}),s("span",{children:"New"}),s("span",{})]})},A_=({state:e,onClose:t})=>{const n=p(()=>{e.clearAll(),t()},[e,t]);return s("div",{className:"mock-editor-history-clear",children:s(yr,{duration:1e3,iconColor:"white",image:"trash",onComplete:n,children:s("span",{children:"Clear Data"})})})},C_=({state:e,onClose:t})=>{const n=ne(at),i=J(null),[r,o]=$([]);return G(()=>{const a=n.history();a.splice(0,1),o(a)},[o,n]),zn(i,t),s("div",{ref:i,className:"mock-editor-history-dropdown",children:s("div",{children:[r.map((a,c)=>s(S_,{data:a,state:e,onClose:t},c)),s(k_,{state:e,onClose:t}),ic.map(a=>s(O_,{data:a.data,label:a.label,state:e,onClose:t},a.label)),s(A_,{state:e,onClose:t})]})})},E_=A(({state:e})=>{const[t,n]=$(!1),{category:i,name:r}=e.activeModel||{},o=p(()=>n(c=>!c),[n]),a=p(()=>n(!1),[n]);return s("div",{className:"mock-editor-history",children:[s(B,{color:"white",image:"dropdown",onMouseDown:o}),s("div",{className:"mock-editor-history-position",children:t&&s(C_,{state:e,onClose:a})}),s(w_,{category:i,name:r,onMouseDown:o})]})}),D_=["mock-sidebar-buttons","mock-tooltip","mock-hero-ability-display-hidden"],x_=e=>!D_.some(t=>e.classList&&e.classList.contains(t)),$_=e=>`${e.replace(/[^A-z0-9]+/,"-")}-${Math.floor(Date.now()/1e3)}`,R_=e=>{const t=s("div",{className:"mock-editor-button",onClick:e,children:"Copy"});return Pu?s(Gn,{warning:!0,direction:"down",renderTooltip:()=>s("div",{className:"mock-editor-warning",children:["Copying image data to the clipboard is buggy on Firefox and may slightly alter colors.",s("b",{children:" Take a screenshot "}),"or",s("b",{children:" save as an image "}),"to avoid this problem."]}),children:t}):t},P_={ability:1204,weapon:924,vitality:924,spirit:924,hero:2004},Bo=(e,t)=>{const n=e.getBoundingClientRect(),i=P_[t.category]||924,r=Math.ceil(n.height*i/n.width);e.classList.add("mock-to-image");const o=xd(e,{filter:x_,canvasWidth:i,canvasHeight:r,pixelRatio:1}).finally(()=>e.classList.remove("mock-to-image"));return o.catch(a=>console.error("failed to generate image",a)),o},mc=A(({state:e})=>{const t=J(null),{category:n,name:i}=e.activeModel||{},r=p(()=>{const d=Bo(t.current,e.activeModel);navigator.clipboard.write([new ClipboardItem({"image/png":d})])},[t,e]),o=p(()=>Bo(t.current,e.activeModel).then(d=>ju.saveAs(d,`${$_(e.activeModel.name)}.png`)),[t,e]),a=p(()=>{const d=[pt,e.activeModel.serialize()],h=window.btoa(JSON.stringify(d)),f=new URL(window.location);f.hash=h;const m=new Blob([f.toString()],{type:"text/plain"});navigator.clipboard.write([new ClipboardItem({"text/plain":m})])},[e]),c=y(d=>{e.loadRecord(d)},[e]);G(()=>{i&&(document.title=`${i} - Deadmock`)},[i]);const l=()=>n==="ability"?s(Js,{model:e.activeModel}):n==="hero"?s(Nm,{model:e.activeModel,onChangeModel:c}):oa.includes(n)?s(zm,{model:e.activeModel}):null,u=s("div",{className:"mock-editor-button",onClick:a,children:"Copy Link"});return s("div",{className:"mock-editor",children:[s("div",{className:"mock-editor-buttons",children:[R_(r),s("div",{className:"mock-editor-button",onClick:o,children:"Save"}),n==="hero"?null:u,s(b_,{model:e.activeModel}),s(E_,{state:e})]}),s("div",{ref:t,className:"mock-editor-content",children:l()})]})});mc.propTypes={};class N_{constructor(t,n){v(this,"activeModel",null);v(this,"_modelStorage",null);this._modelStorage=t,this._modelStorage.migrate(),this._initializeModel(n),de(this),Ha(()=>this._flush(),{delay:100}),window.addEventListener("popstate",()=>{var o;const i=(o=history.state)==null?void 0:o.id,r=i&&this._modelStorage.load(i);this._initializeModel(r)})}_initializeModel(t){var n,i,r;if(t)this.loadRaw(t,{noHistory:!0});else{const o=this._modelStorage.history();for(let a=0;a<o.length;a++){const c=(i=(n=this._modelStorage.history())==null?void 0:n[a])==null?void 0:i.id;if(c&&(this.loadRecord(c,{noHistory:!0}),this.activeModel))break}this.activeModel||this.loadRaw(ic[0].data,{noHistory:!0})}history.replaceState({id:this.activeModel.id,depth:((r=history.state)==null?void 0:r.depth)||0},"")}loadRaw(t,n){if(t.category==="ability"?this._setActive(new Qe(t)):t.category==="hero"?this._setActive(new Or(t)):this._setActive(new Ar(t)),!(n!=null&&n.noHistory)){const i=history.state.depth+1,{id:r,name:o}=this.activeModel;history.pushState({id:r,depth:i},`Deadmock - ${o}`),window.scrollTo({top:0})}}loadRecord(t,n){const i=this._modelStorage.load(t);i?this.loadRaw(i,n):console.error("failed to load record from localStorage",t)}clearAll(){var n;this._modelStorage.clear(),this.activeModel=null,(((n=history.state)==null?void 0:n.depth)||0)===0?this._initializeModel(null):history.go(-history.state.depth)}_setActive(t){this._flush(),Zl(()=>{this.activeModel=t})}_flush(){this.activeModel&&this._modelStorage.save(this.activeModel)}}const Io=[...vh],M_=10,_c=()=>{if(Io.length>0){const e=Io.pop(),t=new Image;t.addEventListener("load",()=>_c()),t.src=`/deadmock/icon/${e}`}};for(let e=0;e<M_;e++)_c();const T_=new Xo({baseUrl:"/deadmock/"}),gc=()=>{if(window.location.hash!==""&&window.location.hash!=="#")try{const[e,t]=JSON.parse(window.atob(window.location.hash.replace("#",""))),n=qf(t,e);return window.location.hash="",n}catch(e){console.error("failed to load model from fragment:",e)}return null},j_=new $f,pc=new Kf,vc=new N_(pc,gc()),B_=()=>{const e=gc();e&&vc.loadRaw(e)};window.addEventListener("hashchange",B_);const I_=window.innerWidth-document.body.clientWidth;document.body.style.setProperty("--scrollbar-width",`${I_}px`);ht(s(Zo.Provider,{value:T_,children:s(tn.Provider,{value:j_,children:s(at.Provider,{value:pc,children:s(mc,{state:vc})})})}),document.getElementById("app"));
